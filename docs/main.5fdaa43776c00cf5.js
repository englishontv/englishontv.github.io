(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[179],{802:(Ya,mn,et)=>{"use strict";function ee(e){return"function"==typeof e}function Ce(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const ve=Ce(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function H(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class be{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(ee(r))try{r()}catch(s){n=s instanceof ve?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{we(s)}catch(o){n=n??[],o instanceof ve?n=[...n,...o.errors]:n.push(o)}}if(n)throw new ve(n)}}add(n){var t;if(n&&n!==this)if(this.closed)we(n);else{if(n instanceof be){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&H(t,n)}remove(n){const{_finalizers:t}=this;t&&H(t,n),n instanceof be&&n._removeParent(this)}}be.EMPTY=(()=>{const e=new be;return e.closed=!0,e})();const E=be.EMPTY;function w(e){return e instanceof be||e&&"closed"in e&&ee(e.remove)&&ee(e.add)&&ee(e.unsubscribe)}function we(e){ee(e)?e():e.unsubscribe()}const P={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},N={setTimeout(e,n,...t){const{delegate:r}=N;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=N;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function W(e){N.setTimeout(()=>{const{onUnhandledError:n}=P;if(!n)throw e;n(e)})}function j(){}const $=ge("C",void 0,void 0);function ge(e,n,t){return{kind:e,value:n,error:t}}let se=null;function ce(e){if(P.useDeprecatedSynchronousErrorHandling){const n=!se;if(n&&(se={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=se;if(se=null,t)throw r}}else e()}class Me extends be{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,w(n)&&n.add(this)):this.destination=on}static create(n,t,r){return new qe(n,t,r)}next(n){this.isStopped?Yt(function X(e){return ge("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Yt(function ne(e){return ge("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Yt($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pe=Function.prototype.bind;function Oe(e,n){return Pe.call(e,n)}class at{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){xt(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){xt(r)}else xt(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){xt(t)}}}class qe extends Me{constructor(n,t,r){let i;if(super(),ee(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&P.useDeprecatedNextContext?(s=Object.create(n),s.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Oe(n.next,s),error:n.error&&Oe(n.error,s),complete:n.complete&&Oe(n.complete,s)}):i=n}this.destination=new at(i)}}function xt(e){P.useDeprecatedSynchronousErrorHandling?function he(e){P.useDeprecatedSynchronousErrorHandling&&se&&(se.errorThrown=!0,se.error=e)}(e):W(e)}function Yt(e,n){const{onStoppedNotification:t}=P;t&&N.setTimeout(()=>t(e,n))}const on={closed:!0,next:j,error:function vn(e){throw e},complete:j},cr="function"==typeof Symbol&&Symbol.observable||"@@observable";function Et(e){return e}function Tn(e){return 0===e.length?Et:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let tt=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function ut(e){return e&&e instanceof Me||function Qt(e){return e&&ee(e.next)&&ee(e.error)&&ee(e.complete)}(e)&&w(e)}(t)?t:new qe(t,r,i);return ce(()=>{const{operator:o,source:l}=this;s.add(o?o.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=Jt(r))((i,s)=>{const o=new qe({next:l=>{try{t(l)}catch(d){s(d),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[cr](){return this}pipe(...t){return Tn(t)(this)}toPromise(t){return new(t=Jt(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return e.create=n=>new e(n),e})();function Jt(e){var n;return null!==(n=e??P.Promise)&&void 0!==n?n:Promise}const Zn=Ce(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let $e=(()=>{class e extends tt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Ei(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Zn}next(t){ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ce(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?E:(this.currentObservers=null,s.push(t),new be(()=>{this.currentObservers=null,H(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new tt;return t.source=this,t}}return e.create=(n,t)=>new Ei(n,t),e})();class Ei extends $e{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:E}}function Hr(e){return ee(e?.lift)}function Ue(e){return n=>{if(Hr(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(e,n,t,r,i){return new rr(e,n,t,r,i)}class rr extends Me{constructor(n,t,r,i,s,o){super(n),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(l){try{t(l)}catch(d){n.error(d)}}:super._next,this._error=i?function(l){try{i(l)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function je(e,n){return Ue((t,r)=>{let i=0;t.subscribe(vt(r,s=>{r.next(e.call(n,s,i++))}))})}function L(e){return this instanceof L?(this.v=e,this):new L(e)}function V(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(S){r[S]&&(i[S]=function(k){return new Promise(function(U,Y){s.push([S,k,U,Y])>1||l(S,k)})})}function l(S,k){try{!function d(S){S.value instanceof L?Promise.resolve(S.value.v).then(g,y):b(s[0][2],S)}(r[S](k))}catch(U){b(s[0][3],U)}}function g(S){l("next",S)}function y(S){l("throw",S)}function b(S,k){S(k),s.shift(),s.length&&l(s[0][0],s[0][1])}}function q(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function G(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=e[s]&&function(o){return new Promise(function(l,d){!function i(s,o,l,d){Promise.resolve(d).then(function(g){s({value:g,done:l})},o)}(l,d,(o=e[s](o)).done,o.value)})}}}const Le=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function Fe(e){return ee(e?.then)}function Ye(e){return ee(e[cr])}function ct(e){return Symbol.asyncIterator&&ee(e?.[Symbol.asyncIterator])}function rt(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const wt=function Mt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function en(e){return ee(e?.[wt])}function St(e){return V(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield L(t.read());if(i)return yield L(void 0);yield yield L(r)}}finally{t.releaseLock()}})}function Ze(e){return ee(e?.getReader)}function At(e){if(e instanceof tt)return e;if(null!=e){if(Ye(e))return function Ln(e){return new tt(n=>{const t=e[cr]();if(ee(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Le(e))return function cn(e){return new tt(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(Fe(e))return function Pn(e){return new tt(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,W)})}(e);if(ct(e))return Nn(e);if(en(e))return function _n(e){return new tt(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Ze(e))return function In(e){return Nn(St(e))}(e)}throw rt(e)}function Nn(e){return new tt(n=>{(function an(e,n){var t,r,i,s;return function Es(e,n,t,r){return new(t||(t=Promise))(function(s,o){function l(y){try{g(r.next(y))}catch(b){o(b)}}function d(y){try{g(r.throw(y))}catch(b){o(b)}}function g(y){y.done?s(y.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(y.value).then(l,d)}g((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=q(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function dn(e,n,t,r=0,i=!1){const s=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!i)return s}function Nt(e,n,t=1/0){return ee(n)?Nt((r,i)=>je((s,o)=>n(r,s,i,o))(At(e(r,i))),t):("number"==typeof n&&(t=n),Ue((r,i)=>function di(e,n,t,r,i,s,o,l){const d=[];let g=0,y=0,b=!1;const S=()=>{b&&!d.length&&!g&&n.complete()},k=Y=>g<r?U(Y):d.push(Y),U=Y=>{s&&n.next(Y),g++;let re=!1;At(t(Y,y++)).subscribe(vt(n,J=>{i?.(J),s?k(J):n.next(J)},()=>{re=!0},void 0,()=>{if(re)try{for(g--;d.length&&g<r;){const J=d.shift();o?dn(n,o,()=>U(J)):U(J)}S()}catch(J){n.error(J)}}))};return e.subscribe(vt(n,k,()=>{b=!0,S()})),()=>{l?.()}}(r,i,e,t)))}function tn(e=1/0){return Nt(Et,e)}const En=new tt(e=>e.complete());function Si(e){return e&&ee(e.schedule)}function Q(e){return e[e.length-1]}function Rn(e){return Si(Q(e))?e.pop():void 0}function Ai(e,n=0){return Ue((t,r)=>{t.subscribe(vt(r,i=>dn(r,e,()=>r.next(i),n),()=>dn(r,e,()=>r.complete(),n),i=>dn(r,e,()=>r.error(i),n)))})}function Mi(e,n=0){return Ue((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function No(e,n){if(!e)throw new Error("Iterable cannot be null");return new tt(t=>{dn(t,n,()=>{const r=e[Symbol.asyncIterator]();dn(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function $t(e,n){return n?function Vo(e,n){if(null!=e){if(Ye(e))return function zr(e,n){return At(e).pipe(Mi(n),Ai(n))}(e,n);if(Le(e))return function Lo(e,n){return new tt(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(Fe(e))return function Js(e,n){return At(e).pipe(Mi(n),Ai(n))}(e,n);if(ct(e))return No(e,n);if(en(e))return function Po(e,n){return new tt(t=>{let r;return dn(t,n,()=>{r=e[wt](),dn(t,n,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>ee(r?.return)&&r.return()})}(e,n);if(Ze(e))return function Ss(e,n){return No(St(e),n)}(e,n)}throw rt(e)}(e,n):At(e)}function As(...e){const n=Rn(e),t=function pr(e,n){return"number"==typeof Q(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?At(r[0]):tn(t)($t(r,n)):En}function Zi(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new qe({next:()=>{r.unsubscribe(),e()}});return n(...t).subscribe(r)}function Ut(e){for(let n in e)if(e[n]===Ut)return n;throw Error("Could not find renamed property on target object.")}function Ms(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function Vt(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Vt).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function Ti(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const eo=Ut({__forward_ref__:Ut});function Tt(e){return e.__forward_ref__=Tt,e.toString=function(){return Vt(this())},e}function ze(e){return Qa(e)?e():e}function Qa(e){return"function"==typeof e&&e.hasOwnProperty(eo)&&e.__forward_ref__===Tt}class Ee extends Error{constructor(n,t){super(function Bo(e,n){return`NG0${Math.abs(e)}${n?": "+n.trim():""}`}(n,t)),this.code=n}}function it(e){return"string"==typeof e?e:null==e?"":String(e)}function Uo(e,n){throw new Ee(-201,!1)}function vr(e,n){null==e&&function Bt(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function _e(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function pt(e){return{providers:e.providers||[],imports:e.imports||[]}}function to(e){return Fu(e,jo)||Fu(e,Ja)}function Fu(e,n){return e.hasOwnProperty(n)?e[n]:null}function Xa(e){return e&&(e.hasOwnProperty(Za)||e.hasOwnProperty(gf))?e[Za]:null}const jo=Ut({\u0275prov:Ut}),Za=Ut({\u0275inj:Ut}),Ja=Ut({ngInjectableDef:Ut}),gf=Ut({ngInjectorDef:Ut});var We=(()=>((We=We||{})[We.Default=0]="Default",We[We.Host=1]="Host",We[We.Self=2]="Self",We[We.SkipSelf=4]="SkipSelf",We[We.Optional=8]="Optional",We))();let el;function yr(e){const n=el;return el=e,n}function Go(e,n,t){const r=to(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&We.Optional?null:void 0!==n?n:void Uo(Vt(e))}function Ii(e){return{toString:e}.toString()}var Mr=(()=>((Mr=Mr||{})[Mr.OnPush=0]="OnPush",Mr[Mr.Default=1]="Default",Mr))(),Wr=(()=>{return(e=Wr||(Wr={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",Wr;var e})();const zt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ts={},Lt=[],Ho=Ut({\u0275cmp:Ut}),nl=Ut({\u0275dir:Ut}),rl=Ut({\u0275pipe:Ut}),dt=Ut({\u0275mod:Ut}),fi=Ut({\u0275fac:Ut}),Kr=Ut({__NG_ELEMENT_ID__:Ut});let Ou=0;function xn(e){return Ii(()=>{const t=!0===e.standalone,r={},i={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===Mr.OnPush,directiveDefs:null,pipeDefs:null,standalone:t,dependencies:t&&e.dependencies||null,getStandaloneInjector:null,selectors:e.selectors||Lt,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||Wr.Emulated,id:"c"+Ou++,styles:e.styles||Lt,_:null,setInput:null,schemas:e.schemas||null,tView:null},s=e.dependencies,o=e.features;return i.inputs=sl(e.inputs,r),i.outputs=sl(e.outputs),o&&o.forEach(l=>l(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map($o).filter(il):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(sr).filter(il):null,i})}function $o(e){return It(e)||$n(e)}function il(e){return null!==e}function yt(e){return Ii(()=>({type:e.type,bootstrap:e.bootstrap||Lt,declarations:e.declarations||Lt,imports:e.imports||Lt,exports:e.exports||Lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function sl(e,n){if(null==e)return Ts;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,n&&(n[i]=s)}return t}const fe=xn;function It(e){return e[Ho]||null}function $n(e){return e[nl]||null}function sr(e){return e[rl]||null}function _r(e,n){const t=e[dt]||null;if(!t&&!0===n)throw new Error(`Type ${Vt(e)} does not have '\u0275mod' property.`);return t}function or(e){return Array.isArray(e)&&"object"==typeof e[1]}function Rr(e){return Array.isArray(e)&&!0===e[1]}function ll(e){return 0!=(8&e.flags)}function qo(e){return 2==(2&e.flags)}function Yo(e){return 1==(1&e.flags)}function Fr(e){return null!==e.template}function Nu(e){return 0!=(256&e[2])}function me(e,n){return e.hasOwnProperty(fi)?e[fi]:null}class ke{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function De(){return Ve}function Ve(e){return e.type.prototype.ngOnChanges&&(e.setInput=bt),Qe}function Qe(){const e=dr(this),n=e?.current;if(n){const t=e.previous;if(t===Ts)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function bt(e,n,t,r){const i=dr(e)||function zn(e,n){return e[ln]=n}(e,{previous:Ts,current:null}),s=i.current||(i.current={}),o=i.previous,l=this.declaredInputs[t],d=o[l];s[l]=new ke(d&&d.currentValue,n,o===Ts),e[r]=n}De.ngInherit=!0;const ln="__ngSimpleChanges__";function dr(e){return e[ln]||null}function wn(e){for(;Array.isArray(e);)e=e[0];return e}function ao(e,n){return wn(n[e])}function kr(e,n){return wn(n[e.index])}function bf(e,n){return e.data[n]}function Yr(e,n){const t=n[e];return or(t)?t:t[0]}function Uu(e){return 64==(64&e[2])}function Ls(e,n){return null==n?null:e[n]}function yv(e){e[18]=0}function Df(e,n){e[5]+=n;let t=e,r=e[3];for(;null!==r&&(1===n&&1===t[5]||-1===n&&0===t[5]);)r[5]+=n,t=r,r=r[3]}const ot={lFrame:Mv(null),bindingsEnabled:!0};function xv(){return ot.bindingsEnabled}function de(){return ot.lFrame.lView}function Ft(){return ot.lFrame.tView}function Cf(e){return ot.lFrame.contextLView=e,e[8]}function Ef(e){return ot.lFrame.contextLView=null,e}function Wn(){let e=bv();for(;null!==e&&64===e.type;)e=e.parent;return e}function bv(){return ot.lFrame.currentTNode}function Ni(e,n){const t=ot.lFrame;t.currentTNode=e,t.isParent=n}function wf(){return ot.lFrame.isParent}function Sf(){ot.lFrame.isParent=!1}function Xo(){return ot.lFrame.bindingIndex++}function rs(e){const n=ot.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function cA(e,n){const t=ot.lFrame;t.bindingIndex=t.bindingRootIndex=e,Af(n)}function Af(e){ot.lFrame.currentDirectiveIndex=e}function wv(){return ot.lFrame.currentQueryIndex}function Tf(e){ot.lFrame.currentQueryIndex=e}function fA(e){const n=e[1];return 2===n.type?n.declTNode:1===n.type?e[6]:null}function Sv(e,n,t){if(t&We.SkipSelf){let i=n,s=e;for(;!(i=i.parent,null!==i||t&We.Host||(i=fA(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;n=i,e=s}const r=ot.lFrame=Av();return r.currentTNode=n,r.lView=e,!0}function If(e){const n=Av(),t=e[1];ot.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Av(){const e=ot.lFrame,n=null===e?null:e.child;return null===n?Mv(e):n}function Mv(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Tv(){const e=ot.lFrame;return ot.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Iv=Tv;function Rf(){const e=Tv();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Dr(){return ot.lFrame.selectedIndex}function Ps(e){ot.lFrame.selectedIndex=e}function Sn(){const e=ot.lFrame;return bf(e.tView,e.selectedIndex)}function ju(){ot.lFrame.currentNamespace="svg"}function Gu(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const s=e.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:g,ngOnDestroy:y}=s;o&&(e.contentHooks||(e.contentHooks=[])).push(-t,o),l&&((e.contentHooks||(e.contentHooks=[])).push(t,l),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(t,l)),d&&(e.viewHooks||(e.viewHooks=[])).push(-t,d),g&&((e.viewHooks||(e.viewHooks=[])).push(t,g),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(t,g)),null!=y&&(e.destroyHooks||(e.destroyHooks=[])).push(t,y)}}function Hu(e,n,t){Rv(e,n,3,t)}function $u(e,n,t,r){(3&e[2])===t&&Rv(e,n,t,r)}function Ff(e,n){let t=e[2];(3&t)===n&&(t&=2047,t+=1,e[2]=t)}function Rv(e,n,t,r){const s=r??-1,o=n.length-1;let l=0;for(let d=void 0!==r?65535&e[18]:0;d<o;d++)if("number"==typeof n[d+1]){if(l=n[d],null!=r&&l>=r)break}else n[d]<0&&(e[18]+=65536),(l<s||-1==s)&&(xA(e,t,n,d),e[18]=(4294901760&e[18])+d+2),d++}function xA(e,n,t,r){const i=t[r]<0,s=t[r+1],l=e[i?-t[r]:t[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===n){e[2]+=2048;try{s.call(l)}finally{}}}else try{s.call(l)}finally{}}class dl{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function zu(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],l=t[r++];e.setAttribute(n,o,l,s)}else{const s=i,o=t[++r];kv(s)?e.setProperty(n,s,o):e.setAttribute(n,s,o),r++}}return r}function Fv(e){return 3===e||4===e||6===e}function kv(e){return 64===e.charCodeAt(0)}function Wu(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||Ov(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function Ov(e,n,t,r,i){let s=0,o=e.length;if(-1===n)o=-1;else for(;s<e.length;){const l=e[s++];if("number"==typeof l){if(l===n){o=-1;break}if(l>n){o=s-1;break}}}for(;s<e.length;){const l=e[s];if("number"==typeof l)break;if(l===t){if(null===r)return void(null!==i&&(e[s+1]=i));if(r===e[s+1])return void(e[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(e.splice(o,0,n),s=o+1),e.splice(s++,0,t),null!==r&&e.splice(s++,0,r),null!==i&&e.splice(s++,0,i)}function Lv(e){return-1!==e}function Zo(e){return 32767&e}function Jo(e,n){let t=function wA(e){return e>>16}(e),r=n;for(;t>0;)r=r[15],t--;return r}let Of=!0;function Ku(e){const n=Of;return Of=e,n}let SA=0;const Vi={};function hl(e,n){const t=Pf(e,n);if(-1!==t)return t;const r=n[1];r.firstCreatePass&&(e.injectorIndex=n.length,Lf(r.data,e),Lf(n,null),Lf(r.blueprint,null));const i=qu(e,n),s=e.injectorIndex;if(Lv(i)){const o=Zo(i),l=Jo(i,n),d=l[1].data;for(let g=0;g<8;g++)n[s+g]=l[o+g]|d[o+g]}return n[s+8]=i,s}function Lf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Pf(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function qu(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=$v(i),null===r)return-1;if(t++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return-1}function Yu(e,n,t){!function AA(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Kr)&&(r=t[Kr]),null==r&&(r=t[Kr]=SA++);const i=255&r;n.data[e+(i>>5)]|=1<<i}(e,n,t)}function Vv(e,n,t){if(t&We.Optional||void 0!==e)return e;Uo()}function Bv(e,n,t,r){if(t&We.Optional&&void 0===r&&(r=null),0==(t&(We.Self|We.Host))){const i=e[9],s=yr(void 0);try{return i?i.get(n,r,t&We.Optional):Go(n,r,t&We.Optional)}finally{yr(s)}}return Vv(r,0,t)}function Uv(e,n,t,r=We.Default,i){if(null!==e){if(1024&n[2]){const o=function FA(e,n,t,r,i){let s=e,o=n;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const l=jv(s,o,t,r|We.Self,Vi);if(l!==Vi)return l;let d=s.parent;if(!d){const g=o[21];if(g){const y=g.get(t,Vi,r);if(y!==Vi)return y}d=$v(o),o=o[15]}s=d}return i}(e,n,t,r,Vi);if(o!==Vi)return o}const s=jv(e,n,t,r,Vi);if(s!==Vi)return s}return Bv(n,t,r,i)}function jv(e,n,t,r,i){const s=function IA(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Kr)?e[Kr]:void 0;return"number"==typeof n?n>=0?255&n:RA:n}(t);if("function"==typeof s){if(!Sv(n,e,r))return r&We.Host?Vv(i,0,r):Bv(n,t,r,i);try{const o=s(r);if(null!=o||r&We.Optional)return o;Uo()}finally{Iv()}}else if("number"==typeof s){let o=null,l=Pf(e,n),d=-1,g=r&We.Host?n[16][6]:null;for((-1===l||r&We.SkipSelf)&&(d=-1===l?qu(e,n):n[l+8],-1!==d&&Hv(r,!1)?(o=n[1],l=Zo(d),n=Jo(d,n)):l=-1);-1!==l;){const y=n[1];if(Gv(s,l,y.data)){const b=TA(l,n,t,o,r,g);if(b!==Vi)return b}d=n[l+8],-1!==d&&Hv(r,n[1].data[l+8]===g)&&Gv(s,l,n)?(o=y,l=Zo(d),n=Jo(d,n)):l=-1}}return i}function TA(e,n,t,r,i,s){const o=n[1],l=o.data[e+8],y=Qu(l,o,t,null==r?qo(l)&&Of:r!=o&&0!=(3&l.type),i&We.Host&&s===l);return null!==y?gl(n,o,y,l):Vi}function Qu(e,n,t,r,i){const s=e.providerIndexes,o=n.data,l=1048575&s,d=e.directiveStart,y=s>>20,S=i?l+y:e.directiveEnd;for(let k=r?l:l+y;k<S;k++){const U=o[k];if(k<d&&t===U||k>=d&&U.type===t)return k}if(i){const k=o[d];if(k&&Fr(k)&&k.type===t)return d}return null}function gl(e,n,t,r){let i=e[t];const s=n.data;if(function bA(e){return e instanceof dl}(i)){const o=i;o.resolving&&function rf(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${e}${t}`)}(function Ot(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():it(e)}(s[t]));const l=Ku(o.canSeeViewProviders);o.resolving=!0;const d=o.injectImpl?yr(o.injectImpl):null;Sv(e,r,We.Default);try{i=e[t]=o.factory(void 0,s,e,r),n.firstCreatePass&&t>=r.directiveStart&&function _A(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=n.type.prototype;if(r){const o=Ve(n);(t.preOrderHooks||(t.preOrderHooks=[])).push(e,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,o)}i&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-e,i),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(e,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(e,s))}(t,s[t],n)}finally{null!==d&&yr(d),Ku(l),o.resolving=!1,Iv()}}return i}function Gv(e,n,t){return!!(t[n+(e>>5)]&1<<e)}function Hv(e,n){return!(e&We.Self||e&We.Host&&n)}class ea{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Uv(this._tNode,this._lView,n,r,t)}}function RA(){return new ea(Wn(),de())}function Be(e){return Ii(()=>{const n=e.prototype.constructor,t=n[fi]||Nf(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const s=i[fi]||Nf(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Nf(e){return Qa(e)?()=>{const n=Nf(ze(e));return n&&n()}:me(e)}function $v(e){const n=e[1],t=n.type;return 2===t?n.declTNode:1===t?e[6]:null}function lo(e){return function MA(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(Fv(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===n)return t[i+1];i+=2}}}return null}(Wn(),e)}const na="__parameters__";function ia(e,n,t){return Ii(()=>{const r=function Vf(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return l.annotation=o,l;function l(d,g,y){const b=d.hasOwnProperty(na)?d[na]:Object.defineProperty(d,na,{value:[]})[na];for(;b.length<=y;)b.push(null);return(b[y]=b[y]||[]).push(o),d}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class Te{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=_e({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qr(e,n){void 0===n&&(n=e);for(let t=0;t<e.length;t++){let r=e[t];Array.isArray(r)?(n===e&&(n=e.slice(0,t)),Qr(r,n)):n!==e&&n.push(r)}return n}function is(e,n){e.forEach(t=>Array.isArray(t)?is(t,n):n(t))}function Wv(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Xu(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function vl(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Xr(e,n,t){let r=sa(e,n);return r>=0?e[1|r]=t:(r=~r,function PA(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Uf(e,n){const t=sa(e,n);if(t>=0)return e[1|t]}function sa(e,n){return function Yv(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=e[s<<t];if(n===o)return s<<t;o>n?i=s:r=s+1}return~(i<<t)}(e,n,1)}const yl={},Gf="__NG_DI_FLAG__",Ju="ngTempTokenPath",$A=/\n/gm,Qv="__source";let _l;function oa(e){const n=_l;return _l=e,n}function WA(e,n=We.Default){if(void 0===_l)throw new Ee(-203,!1);return null===_l?Go(e,void 0,n):_l.get(e,n&We.Optional?null:void 0,n)}function oe(e,n=We.Default){return(function ku(){return el}()||WA)(ze(e),n)}function rn(e,n=We.Default){return"number"!=typeof n&&(n=0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)),oe(e,n)}function Hf(e){const n=[];for(let t=0;t<e.length;t++){const r=ze(e[t]);if(Array.isArray(r)){if(0===r.length)throw new Ee(900,!1);let i,s=We.Default;for(let o=0;o<r.length;o++){const l=r[o],d=KA(l);"number"==typeof d?-1===d?i=l.token:s|=d:i=l}n.push(oe(i,s))}else n.push(oe(r))}return n}function xl(e,n){return e[Gf]=n,e.prototype[Gf]=n,e}function KA(e){return e[Gf]}const bl=xl(ia("Optional"),8),Dl=xl(ia("SkipSelf"),4);let zf;class uo{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Zr(e){return e instanceof uo?e.changingThisBreaksApplicationSecurity:e}const DM=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Zt=(()=>((Zt=Zt||{})[Zt.NONE=0]="NONE",Zt[Zt.HTML=1]="HTML",Zt[Zt.STYLE=2]="STYLE",Zt[Zt.SCRIPT=3]="SCRIPT",Zt[Zt.URL=4]="URL",Zt[Zt.RESOURCE_URL=5]="RESOURCE_URL",Zt))();function oc(e){const n=function Sl(){const e=de();return e&&e[12]}();return n?n.sanitize(Zt.URL,e)||"":function Bi(e,n){const t=function hM(e){return e instanceof uo&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===n}(e,"URL")?Zr(e):function ic(e){return(e=String(e)).match(DM)?e:"unsafe:"+e}(it(e))}const Xf=new Te("ENVIRONMENT_INITIALIZER"),vy=new Te("INJECTOR",-1),yy=new Te("INJECTOR_DEF_TYPES");class _y{get(n,t=yl){if(t===yl){const r=new Error(`NullInjectorError: No provider for ${Vt(n)}!`);throw r.name="NullInjectorError",r}return t}}function LM(...e){return{\u0275providers:xy(0,e)}}function xy(e,...n){const t=[],r=new Set;let i;return is(n,s=>{const o=s;Zf(o,t,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&by(i,t),t}function by(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];is(i,s=>{n.push(s)})}}function Zf(e,n,t,r){if(!(e=ze(e)))return!1;let i=null,s=Xa(e);const o=!s&&It(e);if(s||o){if(o&&!o.standalone)return!1;i=e}else{const d=e.ngModule;if(s=Xa(d),!s)return!1;i=d}const l=r.has(i);if(o){if(l)return!1;if(r.add(i),o.dependencies){const d="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const g of d)Zf(g,n,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!l){let g;r.add(i);try{is(s.imports,y=>{Zf(y,n,t,r)&&(g||(g=[]),g.push(y))})}finally{}void 0!==g&&by(g,n)}if(!l){const g=me(i)||(()=>new i);n.push({provide:i,useFactory:g,deps:Lt},{provide:yy,useValue:i,multi:!0},{provide:Xf,useValue:()=>oe(i),multi:!0})}const d=s.providers;null==d||l||is(d,y=>{n.push(y)})}}return i!==e&&void 0!==e.providers}const PM=Ut({provide:String,useValue:Ut});function Jf(e){return null!==e&&"object"==typeof e&&PM in e}function co(e){return"function"==typeof e}const eh=new Te("Set Injector scope."),ac={},VM={};let th;function lc(){return void 0===th&&(th=new _y),th}class Vs{}class Ey extends Vs{constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,rh(n,o=>this.processProvider(o)),this.records.set(vy,ua(void 0,this)),i.has("environment")&&this.records.set(Vs,ua(void 0,this));const s=this.records.get(eh);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(yy.multi,Lt,We.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();for(const n of this._onDestroyHooks)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(n){this._onDestroyHooks.push(n)}runInContext(n){this.assertNotDestroyed();const t=oa(this),r=yr(void 0);try{return n()}finally{oa(t),yr(r)}}get(n,t=yl,r=We.Default){this.assertNotDestroyed();const i=oa(this),s=yr(void 0);try{if(!(r&We.SkipSelf)){let l=this.records.get(n);if(void 0===l){const d=function HM(e){return"function"==typeof e||"object"==typeof e&&e instanceof Te}(n)&&to(n);l=d&&this.injectableDefInScope(d)?ua(nh(n),ac):null,this.records.set(n,l)}if(null!=l)return this.hydrate(n,l)}return(r&We.Self?lc():this.parent).get(n,t=r&We.Optional&&t===yl?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Ju]=o[Ju]||[]).unshift(Vt(n)),i)throw o;return function qA(e,n,t,r){const i=e[Ju];throw n[Qv]&&i.unshift(n[Qv]),e.message=function YA(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Vt(n);if(Array.isArray(n))i=n.map(Vt).join(" -> ");else if("object"==typeof n){let s=[];for(let o in n)if(n.hasOwnProperty(o)){let l=n[o];s.push(o+":"+("string"==typeof l?JSON.stringify(l):Vt(l)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace($A,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Ju]=null,e}(o,n,"R3InjectorError",this.source)}throw o}finally{yr(s),oa(i)}}resolveInjectorInitializers(){const n=oa(this),t=yr(void 0);try{const r=this.get(Xf.multi,Lt,We.Self);for(const i of r)i()}finally{oa(n),yr(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(Vt(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processProvider(n){let t=co(n=ze(n))?n:ze(n&&n.provide);const r=function UM(e){return Jf(e)?ua(void 0,e.useValue):ua(wy(e),ac)}(n);if(co(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ua(void 0,ac,!0),i.factory=()=>Hf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===ac&&(t.value=VM,t.value=t.factory()),"object"==typeof t.value&&t.value&&function GM(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=ze(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}}function nh(e){const n=to(e),t=null!==n?n.factory:me(e);if(null!==t)return t;if(e instanceof Te)throw new Ee(204,!1);if(e instanceof Function)return function BM(e){const n=e.length;if(n>0)throw vl(n,"?"),new Ee(204,!1);const t=function hf(e){const n=e&&(e[jo]||e[Ja]);if(n){const t=function no(e){if(e.hasOwnProperty("name"))return e.name;const n=(""+e).match(/^function\s*([^\s(]+)/);return null===n?"":n[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),n}return null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new Ee(204,!1)}function wy(e,n,t){let r;if(co(e)){const i=ze(e);return me(i)||nh(i)}if(Jf(e))r=()=>ze(e.useValue);else if(function Cy(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Hf(e.deps||[]));else if(function Dy(e){return!(!e||!e.useExisting)}(e))r=()=>oe(ze(e.useExisting));else{const i=ze(e&&(e.useClass||e.provide));if(!function jM(e){return!!e.deps}(e))return me(i)||nh(i);r=()=>new i(...Hf(e.deps))}return r}function ua(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function $M(e){return!!e.\u0275providers}function rh(e,n){for(const t of e)Array.isArray(t)?rh(t,n):$M(t)?rh(t.\u0275providers,n):n(t)}class Sy{}class KM{resolveComponentFactory(n){throw function WM(e){const n=Error(`No component factory found for ${Vt(e)}. Did you add it to @NgModule.entryComponents?`);return n.ngComponent=e,n}(n)}}let Al=(()=>{class e{}return e.NULL=new KM,e})();function qM(){return ca(Wn(),de())}function ca(e,n){return new st(kr(e,n))}let st=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=qM,e})();function YM(e){return e instanceof st?e.nativeElement:e}class My{}let hi=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function QM(){const e=de(),t=Yr(Wn().index,e);return(or(t)?t:e)[11]}(),e})(),XM=(()=>{class e{}return e.\u0275prov=_e({token:e,providedIn:"root",factory:()=>null}),e})();class Bs{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const ZM=new Bs("14.2.9"),ih={};function uh(e){return e.ngOriginalError}class da{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&uh(n);for(;t&&uh(t);)t=uh(t);return t||null}}const ch=new Map;let cT=0;const fh="__ngContext__";function fr(e,n){or(n)?(e[fh]=n[20],function fT(e){ch.set(e[20],e)}(n)):e[fh]=n}function os(e){return e instanceof Function?e():e}var Or=(()=>((Or=Or||{})[Or.Important=1]="Important",Or[Or.DashCase=2]="DashCase",Or))();function gh(e,n){return undefined(e,n)}function Tl(e){const n=e[3];return Rr(n)?n[3]:n}function ph(e){return Gy(e[13])}function mh(e){return Gy(e[4])}function Gy(e){for(;null!==e&&!Rr(e);)e=e[4];return e}function ha(e,n,t,r,i){if(null!=r){let s,o=!1;Rr(r)?s=r:or(r)&&(o=!0,r=r[0]);const l=wn(r);0===e&&null!==t?null==i?qy(n,t,l):fo(n,t,l,i||null,!0):1===e&&null!==t?fo(n,t,l,i||null,!0):2===e?function t_(e,n,t){const r=uc(e,n);r&&function BT(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,l,o):3===e&&n.destroyNode(l),null!=s&&function GT(e,n,t,r,i){const s=t[7];s!==wn(t)&&ha(n,e,r,s,i);for(let l=10;l<t.length;l++){const d=t[l];Il(d[1],d,e,n,r,s)}}(n,e,s,t,i)}}function yh(e,n,t){return e.createElement(n,t)}function $y(e,n){const t=e[9],r=t.indexOf(n),i=n[3];512&n[2]&&(n[2]&=-513,Df(i,-1)),t.splice(r,1)}function _h(e,n){if(e.length<=10)return;const t=10+n,r=e[t];if(r){const i=r[17];null!==i&&i!==e&&$y(i,r),n>0&&(e[t-1][4]=r[4]);const s=Xu(e,10+n);!function RT(e,n){Il(e,n,n[11],2,null,null),n[0]=null,n[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function zy(e,n){if(!(128&n[2])){const t=n[11];t.destroyNode&&Il(e,n,t,3,null,null),function OT(e){let n=e[13];if(!n)return xh(e[1],e);for(;n;){let t=null;if(or(n))t=n[13];else{const r=n[10];r&&(t=r)}if(!t){for(;n&&!n[4]&&n!==e;)or(n)&&xh(n[1],n),n=n[3];null===n&&(n=e),or(n)&&xh(n[1],n),t=n&&n[4]}n=t}}(n)}}function xh(e,n){if(!(128&n[2])){n[2]&=-65,n[2]|=128,function VT(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof dl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const l=i[s[o]],d=s[o+1];try{d.call(l)}finally{}}else try{s.call(i)}finally{}}}}(e,n),function NT(e,n){const t=e.cleanup,r=n[7];let i=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],l="function"==typeof o?o(n):wn(n[o]),d=r[i=t[s+2]],g=t[s+3];"boolean"==typeof g?l.removeEventListener(t[s],d,g):g>=0?r[i=g]():r[i=-g].unsubscribe(),s+=2}else{const o=r[i=t[s+1]];t[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();n[7]=null}}(e,n),1===n[1].type&&n[11].destroy();const t=n[17];if(null!==t&&Rr(n[3])){t!==n[3]&&$y(t,n);const r=n[19];null!==r&&r.detachView(e)}!function hT(e){ch.delete(e[20])}(n)}}function Wy(e,n,t){return function Ky(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[0];if(2&r.flags){const i=e.data[r.directiveStart].encapsulation;if(i===Wr.None||i===Wr.Emulated)return null}return kr(r,t)}(e,n.parent,t)}function fo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function qy(e,n,t){e.appendChild(n,t)}function Yy(e,n,t,r,i){null!==r?fo(e,n,t,r,i):qy(e,n,t)}function uc(e,n){return e.parentNode(n)}function Qy(e,n,t){return Zy(e,n,t)}let Zy=function Xy(e,n,t){return 40&e.type?kr(e,t):null};function cc(e,n,t,r){const i=Wy(e,r,n),s=n[11],l=Qy(r.parent||n[6],r,n);if(null!=i)if(Array.isArray(t))for(let d=0;d<t.length;d++)Yy(s,i,t[d],l,!1);else Yy(s,i,t,l,!1)}function dc(e,n){if(null!==n){const t=n.type;if(3&t)return kr(n,e);if(4&t)return Dh(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return dc(e,r);{const i=e[n.index];return Rr(i)?Dh(-1,i):wn(i)}}if(32&t)return gh(n,e)()||wn(e[n.index]);{const r=e_(e,n);return null!==r?Array.isArray(r)?r[0]:dc(Tl(e[16]),r):dc(e,n.next)}}return null}function e_(e,n){return null!==n?e[16][6].projection[n.projection]:null}function Dh(e,n){const t=10+e+1;if(t<n.length){const r=n[t],i=r[1].firstChild;if(null!==i)return dc(r,i)}return n[7]}function Ch(e,n,t,r,i,s,o){for(;null!=t;){const l=r[t.index],d=t.type;if(o&&0===n&&(l&&fr(wn(l),r),t.flags|=4),64!=(64&t.flags))if(8&d)Ch(e,n,t.child,r,i,s,!1),ha(n,e,i,l,s);else if(32&d){const g=gh(t,r);let y;for(;y=g();)ha(n,e,i,y,s);ha(n,e,i,l,s)}else 16&d?n_(e,n,r,t,i,s):ha(n,e,i,l,s);t=o?t.projectionNext:t.next}}function Il(e,n,t,r,i,s){Ch(t,r,e.firstChild,n,i,s,!1)}function n_(e,n,t,r,i,s){const o=t[16],d=o[6].projection[r.projection];if(Array.isArray(d))for(let g=0;g<d.length;g++)ha(n,e,i,d[g],s);else Ch(e,n,d,o[3],i,s,!0)}function r_(e,n,t){e.setAttribute(n,"style",t)}function Eh(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function i_(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const s=n.length;if(i+s===r||e.charCodeAt(i+s)<=32)return i}t=i+1}}const s_="ng-template";function $T(e,n,t){let r=0;for(;r<e.length;){let i=e[r++];if(t&&"class"===i){if(i=e[r],-1!==i_(i.toLowerCase(),n,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===n)return!0;return!1}}return!1}function o_(e){return 4===e.type&&e.value!==s_}function zT(e,n,t){return n===(4!==e.type||t?e.value:s_)}function WT(e,n,t){let r=4;const i=e.attrs||[],s=function YT(e){for(let n=0;n<e.length;n++)if(Fv(e[n]))return n;return e.length}(i);let o=!1;for(let l=0;l<n.length;l++){const d=n[l];if("number"!=typeof d){if(!o)if(4&r){if(r=2|1&r,""!==d&&!zT(e,d,t)||""===d&&1===n.length){if(gi(r))return!1;o=!0}}else{const g=8&r?d:n[++l];if(8&r&&null!==e.attrs){if(!$T(e.attrs,g,t)){if(gi(r))return!1;o=!0}continue}const b=KT(8&r?"class":d,i,o_(e),t);if(-1===b){if(gi(r))return!1;o=!0;continue}if(""!==g){let S;S=b>s?"":i[b+1].toLowerCase();const k=8&r?S:null;if(k&&-1!==i_(k,g,0)||2&r&&g!==S){if(gi(r))return!1;o=!0}}}}else{if(!o&&!gi(r)&&!gi(d))return!1;if(o&&gi(d))continue;o=!1,r=d|1&r}}return gi(r)||o}function gi(e){return 0==(1&e)}function KT(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let s=!1;for(;i<n.length;){const o=n[i];if(o===e)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let l=n[++i];for(;"string"==typeof l;)l=n[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function QT(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function a_(e,n,t=!1){for(let r=0;r<n.length;r++)if(WT(e,n[r],t))return!0;return!1}function XT(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function l_(e,n){return e?":not("+n.trim()+")":n}function ZT(e){let n=e[0],t=1,r=2,i="",s=!1;for(;t<e.length;){let o=e[t];if("string"==typeof o)if(2&r){const l=e[++t];i+="["+o+(l.length>0?'="'+l+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!gi(o)&&(n+=l_(s,i),i=""),r=o,s=s||!gi(r);t++}return""!==i&&(n+=l_(s,i)),n}const lt={};function jt(e){u_(Ft(),de(),Dr()+e,!1)}function u_(e,n,t,r){if(!r)if(3==(3&n[2])){const s=e.preOrderCheckHooks;null!==s&&Hu(n,s,t)}else{const s=e.preOrderHooks;null!==s&&$u(n,s,0,t)}Ps(t)}function h_(e,n=null,t=null,r){const i=g_(e,n,t,r);return i.resolveInjectorInitializers(),i}function g_(e,n=null,t=null,r,i=new Set){const s=[t||Lt,LM(e)];return r=r||("object"==typeof e?void 0:Vt(e)),new Ey(s,n||lc(),r||null,i)}let Lr=(()=>{class e{static create(t,r){if(Array.isArray(t))return h_({name:""},r,t,"");{const i=t.name??"";return h_({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=yl,e.NULL=new _y,e.\u0275prov=_e({token:e,providedIn:"any",factory:()=>oe(vy)}),e.__NG_ELEMENT_ID__=-1,e})();function R(e,n=We.Default){const t=de();return null===t?oe(e,n):Uv(Wn(),t,ze(e),n)}function hc(){throw new Error("invalid")}function gc(e,n){return e<<17|n<<2}function pi(e){return e>>17&32767}function Th(e){return 2|e}function as(e){return(131068&e)>>2}function Ih(e,n){return-131069&e|n<<2}function Rh(e){return 1|e}function R_(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const i=t[r],s=t[r+1];if(-1!==s){const o=e.data[s];Tf(i),o.contentQueries(2,n[s],s)}}}function vc(e,n,t,r,i,s,o,l,d,g,y){const b=n.blueprint.slice();return b[0]=i,b[2]=76|r,(null!==y||e&&1024&e[2])&&(b[2]|=1024),yv(b),b[3]=b[15]=e,b[8]=t,b[10]=o||e&&e[10],b[11]=l||e&&e[11],b[12]=d||e&&e[12]||null,b[9]=g||e&&e[9]||null,b[6]=s,b[20]=function dT(){return cT++}(),b[21]=y,b[16]=2==n.type?e[16]:b,b}function pa(e,n,t,r,i){let s=e.data[n];if(null===s)s=function Bh(e,n,t,r,i){const s=bv(),o=wf(),d=e.data[n]=function OI(e,n,t,r,i,s){return{type:t,index:r,insertBeforeIndex:null,injectorIndex:n?n.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=d),null!==s&&(o?null==s.child&&null!==d.parent&&(s.child=d):null===s.next&&(s.next=d)),d}(e,n,t,r,i),function uA(){return ot.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function cl(){const e=ot.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ni(s,!0),s}function ma(e,n,t,r){if(0===t)return-1;const i=n.length;for(let s=0;s<t;s++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Uh(e,n,t){If(n);try{const r=e.viewQuery;null!==r&&qh(1,r,t);const i=e.template;null!==i&&F_(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&R_(e,n),e.staticViewQueries&&qh(2,e.viewQuery,t);const s=e.components;null!==s&&function RI(e,n){for(let t=0;t<n.length;t++)QI(e,n[t])}(n,s)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[2]&=-5,Rf()}}function yc(e,n,t,r){const i=n[2];if(128!=(128&i)){If(n);try{yv(n),function Cv(e){return ot.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&F_(e,n,t,2,r);const o=3==(3&i);if(o){const g=e.preOrderCheckHooks;null!==g&&Hu(n,g,null)}else{const g=e.preOrderHooks;null!==g&&$u(n,g,0,null),Ff(n,0)}if(function qI(e){for(let n=ph(e);null!==n;n=mh(n)){if(!n[2])continue;const t=n[9];for(let r=0;r<t.length;r++){const i=t[r],s=i[3];0==(512&i[2])&&Df(s,1),i[2]|=512}}}(n),function KI(e){for(let n=ph(e);null!==n;n=mh(n))for(let t=10;t<n.length;t++){const r=n[t],i=r[1];Uu(r)&&yc(i,r,i.template,r[8])}}(n),null!==e.contentQueries&&R_(e,n),o){const g=e.contentCheckHooks;null!==g&&Hu(n,g)}else{const g=e.contentHooks;null!==g&&$u(n,g,1),Ff(n,1)}!function TI(e,n){const t=e.hostBindingOpCodes;if(null!==t)try{for(let r=0;r<t.length;r++){const i=t[r];if(i<0)Ps(~i);else{const s=i,o=t[++r],l=t[++r];cA(o,s),l(2,n[s])}}}finally{Ps(-1)}}(e,n);const l=e.components;null!==l&&function II(e,n){for(let t=0;t<n.length;t++)YI(e,n[t])}(n,l);const d=e.viewQuery;if(null!==d&&qh(2,d,r),o){const g=e.viewCheckHooks;null!==g&&Hu(n,g)}else{const g=e.viewHooks;null!==g&&$u(n,g,2),Ff(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[2]&=-41,512&n[2]&&(n[2]&=-513,Df(n[3],-1))}finally{Rf()}}}function F_(e,n,t,r,i){const s=Dr(),o=2&r;try{Ps(-1),o&&n.length>22&&u_(e,n,22,!1),t(r,i)}finally{Ps(s)}}function jh(e,n,t){!xv()||(function BI(e,n,t,r){const i=t.directiveStart,s=t.directiveEnd;e.firstCreatePass||hl(t,n),fr(r,n);const o=t.initialInputs;for(let l=i;l<s;l++){const d=e.data[l],g=Fr(d);g&&$I(n,t,d);const y=gl(n,e,l,t);fr(y,n),null!==o&&zI(0,l-i,y,d,0,o),g&&(Yr(t.index,n)[8]=y)}}(e,n,t,kr(t,n)),128==(128&t.flags)&&function UI(e,n,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function dA(){return ot.lFrame.currentDirectiveIndex}();try{Ps(s);for(let l=r;l<i;l++){const d=e.data[l],g=n[l];Af(l),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&U_(d,g)}}finally{Ps(-1),Af(o)}}(e,n,t))}function Gh(e,n,t=kr){const r=n.localNames;if(null!==r){let i=n.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],l=-1===o?t(n,e):e[o];e[i++]=l}}}function O_(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=Hh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):n}function Hh(e,n,t,r,i,s,o,l,d,g){const y=22+r,b=y+i,S=function FI(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:lt);return t}(y,b),k="function"==typeof g?g():g;return S[1]={type:e,blueprint:S,template:t,queries:null,viewQuery:l,declTNode:n,data:S.slice().fill(null,y),bindingStartIndex:y,expandoStartIndex:b,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:d,consts:k,incompleteFirstPass:!1}}function L_(e,n,t,r){const i=z_(n);null===t?i.push(r):(i.push(t),e.firstCreatePass&&W_(e).push(r,i.length-1))}function P_(e,n,t){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(t=null===t?{}:t).hasOwnProperty(r)?t[r].push(n,i):t[r]=[n,i]}return t}function N_(e,n){const r=n.directiveEnd,i=e.data,s=n.attrs,o=[];let l=null,d=null;for(let g=n.directiveStart;g<r;g++){const y=i[g],b=y.inputs,S=null===s||o_(n)?null:WI(b,s);o.push(S),l=P_(b,g,l),d=P_(y.outputs,g,d)}null!==l&&(l.hasOwnProperty("class")&&(n.flags|=16),l.hasOwnProperty("style")&&(n.flags|=32)),n.initialInputs=o,n.inputs=l,n.outputs=d}function Jr(e,n,t,r,i,s,o,l){const d=kr(n,t);let y,g=n.inputs;!l&&null!=g&&(y=g[r])?(Yh(e,t,y,r,i),qo(n)&&V_(t,n.index)):3&n.type&&(r=function LI(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=o?o(i,n.value||"",r):i,s.setProperty(d,r,i))}function V_(e,n){const t=Yr(n,e);16&t[2]||(t[2]|=32)}function $h(e,n,t,r){let i=!1;if(xv()){const s=function jI(e,n,t){const r=e.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];a_(t,o.selectors,!1)&&(i||(i=[]),Yu(hl(t,n),e,o.type),Fr(o)?(j_(e,t),i.unshift(o)):i.push(o))}return i}(e,n,t),o=null===r?null:{"":-1};if(null!==s){i=!0,G_(t,e.data.length,s.length);for(let y=0;y<s.length;y++){const b=s[y];b.providersResolver&&b.providersResolver(b)}let l=!1,d=!1,g=ma(e,n,s.length,null);for(let y=0;y<s.length;y++){const b=s[y];t.mergedAttrs=Wu(t.mergedAttrs,b.hostAttrs),H_(e,t,n,g,b),HI(g,b,o),null!==b.contentQueries&&(t.flags|=8),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(t.flags|=128);const S=b.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(t.index),l=!0),!d&&(S.ngOnChanges||S.ngDoCheck)&&((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(t.index),d=!0),g++}N_(e,t)}o&&function GI(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const s=t[n[i+1]];if(null==s)throw new Ee(-301,!1);r.push(n[i],s)}}}(t,r,o)}return t.mergedAttrs=Wu(t.mergedAttrs,t.attrs),i}function B_(e,n,t,r,i,s){const o=s.hostBindings;if(o){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const d=~n.index;(function VI(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(l)!=d&&l.push(d),l.push(r,i,o)}}function U_(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function j_(e,n){n.flags|=2,(e.components||(e.components=[])).push(n.index)}function HI(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Fr(n)&&(t[""]=e)}}function G_(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function H_(e,n,t,r,i){e.data[r]=i;const s=i.factory||(i.factory=me(i.type)),o=new dl(s,Fr(i),R);e.blueprint[r]=o,t[r]=o,B_(e,n,0,r,ma(e,t,i.hostVars,lt),i)}function $I(e,n,t){const r=kr(n,e),i=O_(t),s=e[10],o=_c(e,vc(e,i,null,t.onPush?32:16,r,n,s,s.createRenderer(r,t),null,null,null));e[n.index]=o}function Ui(e,n,t,r,i,s){const o=kr(e,n);!function zh(e,n,t,r,i,s,o){if(null==s)e.removeAttribute(n,i,t);else{const l=null==o?it(s):o(s,r||"",i);e.setAttribute(n,i,l,t)}}(n[11],o,s,e.value,t,r,i)}function zI(e,n,t,r,i,s){const o=s[n];if(null!==o){const l=r.setInput;for(let d=0;d<o.length;){const g=o[d++],y=o[d++],b=o[d++];null!==l?r.setInput(t,b,g,y):t[y]=b}}}function WI(e,n){let t=null,r=0;for(;r<n.length;){const i=n[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===t&&(t=[]),t.push(i,e[i],n[r+1])),r+=2}else r+=2;else r+=4}return t}function $_(e,n,t,r){return new Array(e,!0,!1,n,null,0,r,t,null,null)}function YI(e,n){const t=Yr(n,e);if(Uu(t)){const r=t[1];48&t[2]?yc(r,t,r.template,t[8]):t[5]>0&&Wh(t)}}function Wh(e){for(let r=ph(e);null!==r;r=mh(r))for(let i=10;i<r.length;i++){const s=r[i];if(Uu(s))if(512&s[2]){const o=s[1];yc(o,s,o.template,s[8])}else s[5]>0&&Wh(s)}const t=e[1].components;if(null!==t)for(let r=0;r<t.length;r++){const i=Yr(t[r],e);Uu(i)&&i[5]>0&&Wh(i)}}function QI(e,n){const t=Yr(n,e),r=t[1];(function XI(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])})(r,t),Uh(r,t,t[8])}function _c(e,n){return e[13]?e[14][4]=n:e[13]=n,e[14]=n,n}function Kh(e){for(;e;){e[2]|=32;const n=Tl(e);if(Nu(e)&&!n)return e;e=n}return null}function xc(e,n,t,r=!0){const i=n[10];i.begin&&i.begin();try{yc(e,n,e.template,t)}catch(o){throw r&&q_(n,o),o}finally{i.end&&i.end()}}function qh(e,n,t){Tf(0),n(e,t)}function z_(e){return e[7]||(e[7]=[])}function W_(e){return e.cleanup||(e.cleanup=[])}function q_(e,n){const t=e[9],r=t?t.get(da,null):null;r&&r.handleError(n)}function Yh(e,n,t,r,i){for(let s=0;s<t.length;){const o=t[s++],l=t[s++],d=n[o],g=e.data[o];null!==g.setInput?g.setInput(d,i,r,l):d[l]=i}}function ls(e,n,t){const r=ao(n,e);!function Hy(e,n,t){e.setValue(n,t)}(e[11],r,t)}function bc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,s=0;if(null!==n)for(let o=0;o<n.length;o++){const l=n[o];"number"==typeof l?s=l:1==s?i=Ti(i,l):2==s&&(r=Ti(r,l+": "+n[++o]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function Dc(e,n,t,r,i=!1){for(;null!==t;){const s=n[t.index];if(null!==s&&r.push(wn(s)),Rr(s))for(let l=10;l<s.length;l++){const d=s[l],g=d[1].firstChild;null!==g&&Dc(d[1],d,g,r)}const o=t.type;if(8&o)Dc(e,n,t.child,r);else if(32&o){const l=gh(t,n);let d;for(;d=l();)r.push(d)}else if(16&o){const l=e_(n,t);if(Array.isArray(l))r.push(...l);else{const d=Tl(n[16]);Dc(d[1],d,l,r,!0)}}t=i?t.projectionNext:t.next}return r}class Rl{constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const n=this._lView,t=n[1];return Dc(t,n,t.firstChild,[])}get context(){return this._lView[8]}set context(n){this._lView[8]=n}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[3];if(Rr(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(_h(n,r),Xu(t,r))}this._attachedToViewContainer=!1}zy(this._lView[1],this._lView)}onDestroy(n){L_(this._lView[1],this._lView,null,n)}markForCheck(){Kh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){xc(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kT(e,n){Il(e,n,n[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new Ee(902,!1);this._appRef=n}}class ZI extends Rl{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;xc(n[1],n,n[8],!1)}checkNoChanges(){}get context(){return null}}class Qh extends Al{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=It(n);return new Fl(t,this.ngModule)}}function Y_(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class eR{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){const i=this.injector.get(n,ih,r);return i!==ih||t===ih?i:this.parentInjector.get(n,t,r)}}class Fl extends Sy{constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function JT(e){return e.map(ZT).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return Y_(this.componentDef.inputs)}get outputs(){return Y_(this.componentDef.outputs)}create(n,t,r,i){let s=(i=i||this.ngModule)instanceof Vs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new eR(n,s):n,l=o.get(My,null);if(null===l)throw new Ee(407,!1);const d=o.get(XM,null),g=l.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?function kI(e,n,t){return e.selectRootElement(n,t===Wr.ShadowDom)}(g,r,this.componentDef.encapsulation):yh(l.createRenderer(null,this.componentDef),y,function JI(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(y)),S=this.componentDef.onPush?288:272,k=Hh(0,null,null,1,0,null,null,null,null,null),U=vc(null,k,null,S,null,null,l,g,d,o,null);let Y,re;If(U);try{const J=function rR(e,n,t,r,i,s){const o=t[1];t[22]=e;const d=pa(o,22,2,"#host",null),g=d.mergedAttrs=n.hostAttrs;null!==g&&(bc(d,g,!0),null!==e&&(zu(i,e,g),null!==d.classes&&Eh(i,e,d.classes),null!==d.styles&&r_(i,e,d.styles)));const y=r.createRenderer(e,n),b=vc(t,O_(n),null,n.onPush?32:16,t[22],d,r,y,s||null,null,null);return o.firstCreatePass&&(Yu(hl(d,t),o,n.type),j_(o,d),G_(d,t.length,1)),_c(t,b),t[22]=b}(b,this.componentDef,U,l,g);if(b)if(r)zu(g,b,["ng-version",ZM.full]);else{const{attrs:xe,classes:te}=function eI(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let s=e[r];if("string"==typeof s)2===i?""!==s&&n.push(s,e[++r]):8===i&&t.push(s);else{if(!gi(i))break;i=s}r++}return{attrs:n,classes:t}}(this.componentDef.selectors[0]);xe&&zu(g,b,xe),te&&te.length>0&&Eh(g,b,te.join(" "))}if(re=bf(k,22),void 0!==t){const xe=re.projection=[];for(let te=0;te<this.ngContentSelectors.length;te++){const Ge=t[te];xe.push(null!=Ge?Array.from(Ge):null)}}Y=function iR(e,n,t,r){const i=t[1],s=function NI(e,n,t){const r=Wn();e.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),H_(e,r,n,ma(e,n,1,null),t),N_(e,r));const i=gl(n,e,r.directiveStart,r);fr(i,n);const s=kr(r,n);return s&&fr(s,n),i}(i,t,n);if(e[8]=t[8]=s,null!==r)for(const l of r)l(s,n);if(n.contentQueries){const l=Wn();n.contentQueries(1,s,l.directiveStart)}const o=Wn();return!i.firstCreatePass||null===n.hostBindings&&null===n.hostAttrs||(Ps(o.index),B_(t[1],o,0,o.directiveStart,o.directiveEnd,n),U_(n,s)),s}(J,this.componentDef,U,[sR]),Uh(k,U,null)}finally{Rf()}return new nR(this.componentType,Y,ca(re,U),U,re)}}class nR extends class zM{}{constructor(n,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new ZI(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){const s=this._rootLView;Yh(s[1],s,i,n,t),V_(s,this._tNode.index)}}get injector(){return new ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function sR(){const e=Wn();Gu(de()[1],e)}function Se(e){let n=function Q_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Fr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new Ee(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const o=e;o.inputs=Xh(e.inputs),o.declaredInputs=Xh(e.declaredInputs),o.outputs=Xh(e.outputs);const l=i.hostBindings;l&&uR(e,l);const d=i.viewQuery,g=i.contentQueries;if(d&&aR(e,d),g&&lR(e,g),Ms(e.inputs,i.inputs),Ms(e.declaredInputs,i.declaredInputs),Ms(e.outputs,i.outputs),Fr(i)&&i.data.animation){const y=e.data;y.animation=(y.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const l=s[o];l&&l.ngInherit&&l(e),l===Se&&(t=!1)}}n=Object.getPrototypeOf(n)}!function oR(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Wu(i.hostAttrs,t=Wu(t,i.hostAttrs))}}(r)}function Xh(e){return e===Ts?{}:e===Lt?[]:e}function aR(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function lR(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,s)=>{n(r,i,s),t(r,i,s)}:n}function uR(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}let Cc=null;function ho(){if(!Cc){const e=zt.Symbol;if(e&&e.iterator)Cc=e.iterator;else{const n=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<n.length;++t){const r=n[t];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Cc=r)}}}return Cc}function kl(e){return!!Zh(e)&&(Array.isArray(e)||!(e instanceof Map)&&ho()in e)}function Zh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function hr(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Fn(e,n,t,r){const i=de();return hr(i,Xo(),n)&&(Ft(),Ui(Sn(),i,e,n,t,r)),Fn}function ya(e,n,t,r){return hr(e,Xo(),t)?n+it(t)+r:lt}function _a(e,n,t,r,i,s){const l=function go(e,n,t,r){const i=hr(e,n,t);return hr(e,n+1,r)||i}(e,function ns(){return ot.lFrame.bindingIndex}(),t,i);return rs(2),l?n+it(t)+r+it(i)+s:lt}function us(e,n,t,r,i,s,o,l){const d=de(),g=Ft(),y=e+22,b=g.firstCreatePass?function vR(e,n,t,r,i,s,o,l,d){const g=n.consts,y=pa(n,e,4,o||null,Ls(g,l));$h(n,t,y,Ls(g,d)),Gu(n,y);const b=y.tViews=Hh(2,y,r,i,s,n.directiveRegistry,n.pipeRegistry,null,n.schemas,g);return null!==n.queries&&(n.queries.template(n,y),b.queries=n.queries.embeddedTView(y)),y}(y,g,d,n,t,r,i,s,o):g.data[y];Ni(b,!1);const S=d[11].createComment("");cc(g,d,S,b),fr(S,d),_c(d,d[y]=$_(S,d,S,b)),Yo(b)&&jh(g,d,b),null!=o&&Gh(d,b,l)}function Ll(e){return function Qo(e,n){return e[n]}(function lA(){return ot.lFrame.contextLView}(),22+e)}function Gt(e,n,t){const r=de();return hr(r,Xo(),n)&&Jr(Ft(),Sn(),r,e,n,r[11],t,!1),Gt}function Jh(e,n,t,r,i){const o=i?"class":"style";Yh(e,t,n.inputs[o],o,r)}function ht(e,n,t,r){const i=de(),s=Ft(),o=22+e,l=i[11],d=i[o]=yh(l,n,function yA(){return ot.lFrame.currentNamespace}()),g=s.firstCreatePass?function _R(e,n,t,r,i,s,o){const l=n.consts,g=pa(n,e,2,i,Ls(l,s));return $h(n,t,g,Ls(l,o)),null!==g.attrs&&bc(g,g.attrs,!1),null!==g.mergedAttrs&&bc(g,g.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,g),g}(o,s,i,0,n,t,r):s.data[o];Ni(g,!0);const y=g.mergedAttrs;null!==y&&zu(l,d,y);const b=g.classes;null!==b&&Eh(l,d,b);const S=g.styles;return null!==S&&r_(l,d,S),64!=(64&g.flags)&&cc(s,i,d,g),0===function rA(){return ot.lFrame.elementDepthCount}()&&fr(d,i),function iA(){ot.lFrame.elementDepthCount++}(),Yo(g)&&(jh(s,i,g),function k_(e,n,t){if(ll(n)){const i=n.directiveEnd;for(let s=n.directiveStart;s<i;s++){const o=e.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}(s,g,i)),null!==r&&Gh(i,g),ht}function gt(){let e=Wn();wf()?Sf():(e=e.parent,Ni(e,!1));const n=e;!function sA(){ot.lFrame.elementDepthCount--}();const t=Ft();return t.firstCreatePass&&(Gu(t,e),ll(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function CA(e){return 0!=(16&e.flags)}(n)&&Jh(t,n,de(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function EA(e){return 0!=(32&e.flags)}(n)&&Jh(t,n,de(),n.stylesWithoutHost,!1),gt}function qn(e,n,t,r){return ht(e,n,t,r),gt(),qn}function ng(){return de()}function Pl(e){return!!e&&"function"==typeof e.then}const rg=function l0(e){return!!e&&"function"==typeof e.subscribe};function Wt(e,n,t,r){const i=de(),s=Ft(),o=Wn();return function c0(e,n,t,r,i,s,o,l){const d=Yo(r),y=e.firstCreatePass&&W_(e),b=n[8],S=z_(n);let k=!0;if(3&r.type||l){const re=kr(r,n),J=l?l(re):re,xe=S.length,te=l?kt=>l(wn(kt[r.index])):r.index;let Ge=null;if(!l&&d&&(Ge=function bR(e,n,t,r){const i=e.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const l=n[7],d=i[s+2];return l.length>d?l[d]:null}"string"==typeof o&&(s+=2)}return null}(e,n,i,r.index)),null!==Ge)(Ge.__ngLastListenerFn__||Ge).__ngNextListenerFn__=s,Ge.__ngLastListenerFn__=s,k=!1;else{s=f0(r,n,b,s,!1);const kt=t.listen(J,i,s);S.push(s,kt),y&&y.push(i,te,xe,xe+1)}}else s=f0(r,n,b,s,!1);const U=r.outputs;let Y;if(k&&null!==U&&(Y=U[i])){const re=Y.length;if(re)for(let J=0;J<re;J+=2){const pn=n[Y[J]][Y[J+1]].subscribe(s),Oo=S.length;S.push(s,pn),y&&y.push(i,r.index,Oo,-(Oo+1))}}}(s,i,i[11],o,e,n,0,r),Wt}function d0(e,n,t,r){try{return!1!==t(r)}catch(i){return q_(e,i),!1}}function f0(e,n,t,r,i){return function s(o){if(o===Function)return r;Kh(2&e.flags?Yr(e.index,n):n);let d=d0(n,0,r,o),g=s.__ngNextListenerFn__;for(;g;)d=d0(n,0,g,o)&&d,g=g.__ngNextListenerFn__;return i&&!1===d&&(o.preventDefault(),o.returnValue=!1),d}}function po(e=1){return function hA(e){return(ot.lFrame.contextLView=function gA(e,n){for(;e>0;)n=n[15],e--;return n}(e,ot.lFrame.contextLView))[8]}(e)}function DR(e,n){let t=null;const r=function qT(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(0==(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const s=n[i];if("*"!==s){if(null===r?a_(e,s,!0):XT(r,s))return i}else t=i}return t}function mo(e){const n=de()[16][6];if(!n.projection){const r=n.projection=vl(e?e.length:1,null),i=r.slice();let s=n.child;for(;null!==s;){const o=e?DR(s,e):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function mi(e,n=0,t){const r=de(),i=Ft(),s=pa(i,22+e,16,null,t||null);null===s.projection&&(s.projection=n),Sf(),64!=(64&s.flags)&&function jT(e,n,t){n_(n[11],0,n,t,Wy(e,t,n),Qy(t.parent||n[6],t,n))}(i,r,s)}function wc(e,n,t,r,i){const s=de(),o=ya(s,n,t,r);return o!==lt&&Jr(Ft(),Sn(),s,e,o,s[11],i,!1),wc}function D0(e,n,t,r,i){const s=e[t+1],o=null===n;let l=r?pi(s):as(s),d=!1;for(;0!==l&&(!1===d||o);){const y=e[l+1];wR(e[l],n)&&(d=!0,e[l+1]=r?Rh(y):Th(y)),l=r?pi(y):as(y)}d&&(e[t+1]=r?Th(s):Rh(s))}function wR(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&sa(e,n)>=0}function Aa(e,n,t){return vi(e,n,t,!1),Aa}function Pr(e,n){return vi(e,n,null,!0),Pr}function vi(e,n,t,r){const i=de(),s=Ft(),o=rs(2);s.firstUpdatePass&&function I0(e,n,t,r){const i=e.data;if(null===i[t+1]){const s=i[Dr()],o=function T0(e,n){return n>=e.expandoStartIndex}(e,t);(function O0(e,n){return 0!=(e.flags&(n?16:32))})(s,r)&&null===n&&!o&&(n=!1),n=function OR(e,n,t,r){const i=function Mf(e){const n=ot.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let s=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Nl(t=ig(null,e,n,t,r),n.attrs,r),s=null);else{const o=n.directiveStylingLast;if(-1===o||e[o]!==i)if(t=ig(i,e,n,t,r),null===s){let d=function LR(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==as(r))return e[pi(r)]}(e,n,r);void 0!==d&&Array.isArray(d)&&(d=ig(null,e,n,d[1],r),d=Nl(d,n.attrs,r),function PR(e,n,t,r){e[pi(t?n.classBindings:n.styleBindings)]=r}(e,n,r,d))}else s=function NR(e,n,t){let r;const i=n.directiveEnd;for(let s=1+n.directiveStylingLast;s<i;s++)r=Nl(r,e[s].hostAttrs,t);return Nl(r,n.attrs,t)}(e,n,r)}return void 0!==s&&(r?n.residualClasses=s:n.residualStyles=s),t}(i,s,n,r),function CR(e,n,t,r,i,s){let o=s?n.classBindings:n.styleBindings,l=pi(o),d=as(o);e[r]=t;let y,g=!1;if(Array.isArray(t)){const b=t;y=b[1],(null===y||sa(b,y)>0)&&(g=!0)}else y=t;if(i)if(0!==d){const S=pi(e[l+1]);e[r+1]=gc(S,l),0!==S&&(e[S+1]=Ih(e[S+1],r)),e[l+1]=function _I(e,n){return 131071&e|n<<17}(e[l+1],r)}else e[r+1]=gc(l,0),0!==l&&(e[l+1]=Ih(e[l+1],r)),l=r;else e[r+1]=gc(d,0),0===l?l=r:e[d+1]=Ih(e[d+1],r),d=r;g&&(e[r+1]=Th(e[r+1])),D0(e,y,r,!0),D0(e,y,r,!1),function ER(e,n,t,r,i){const s=i?e.residualClasses:e.residualStyles;null!=s&&"string"==typeof n&&sa(s,n)>=0&&(t[r+1]=Rh(t[r+1]))}(n,y,e,r,s),o=gc(l,d),s?n.classBindings=o:n.styleBindings=o}(i,s,n,t,o,r)}}(s,e,o,r),n!==lt&&hr(i,o,n)&&function F0(e,n,t,r,i,s,o,l){if(!(3&n.type))return;const d=e.data,g=d[l+1];Sc(function C_(e){return 1==(1&e)}(g)?k0(d,n,t,i,as(g),o):void 0)||(Sc(s)||function D_(e){return 2==(2&e)}(g)&&(s=k0(d,null,t,i,l,o)),function HT(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Or.DashCase;null==i?e.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Or.Important),e.setStyle(t,r,i,s))}}(r,o,ao(Dr(),t),i,s))}(s,s.data[Dr()],i,i[11],e,i[o+1]=function UR(e,n){return null==e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Vt(Zr(e)))),e}(n,t),r,o)}function ig(e,n,t,r,i){let s=null;const o=t.directiveEnd;let l=t.directiveStylingLast;for(-1===l?l=t.directiveStart:l++;l<o&&(s=n[l],r=Nl(r,s.hostAttrs,i),s!==e);)l++;return null!==e&&(t.directiveStylingLast=l),r}function Nl(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let s=0;s<n.length;s++){const o=n[s];"number"==typeof o?i=o:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Xr(e,o,!!t||n[++s]))}return void 0===e?null:e}function k0(e,n,t,r,i,s){const o=null===n;let l;for(;i>0;){const d=e[i],g=Array.isArray(d),y=g?d[1]:d,b=null===y;let S=t[i+1];S===lt&&(S=b?Lt:void 0);let k=b?Uf(S,r):y===r?S:void 0;if(g&&!Sc(k)&&(k=Uf(d,r)),Sc(k)&&(l=k,o))return l;const U=e[i+1];i=o?pi(U):as(U)}if(null!==n){let d=s?n.residualClasses:n.residualStyles;null!=d&&(l=Uf(d,r))}return l}function Sc(e){return void 0!==e}function Nr(e,n=""){const t=de(),r=Ft(),i=e+22,s=r.firstCreatePass?pa(r,i,1,n,null):r.data[i],o=t[i]=function vh(e,n){return e.createText(n)}(t[11],n);cc(r,t,o,s),Ni(s,!1)}function Ac(e){return Vl("",e,""),Ac}function Vl(e,n,t){const r=de(),i=ya(r,e,n,t);return i!==lt&&ls(r,Dr(),i),Vl}function Mc(e,n,t,r,i){const s=de(),o=_a(s,e,n,t,r,i);return o!==lt&&ls(s,Dr(),o),Mc}function Tc(e,n,t){const r=de();return hr(r,Xo(),n)&&Jr(Ft(),Sn(),r,e,n,r[11],t,!0),Tc}const Ta="en-US";let ex=Ta;function ag(e,n,t,r,i){if(e=ze(e),Array.isArray(e))for(let s=0;s<e.length;s++)ag(e[s],n,t,r,i);else{const s=Ft(),o=de();let l=co(e)?e:ze(e.provide),d=wy(e);const g=Wn(),y=1048575&g.providerIndexes,b=g.directiveStart,S=g.providerIndexes>>20;if(co(e)||!e.multi){const k=new dl(d,i,R),U=ug(l,n,i?y:y+S,b);-1===U?(Yu(hl(g,o),s,l),lg(s,e,n.length),n.push(l),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),t.push(k),o.push(k)):(t[U]=k,o[U]=k)}else{const k=ug(l,n,y+S,b),U=ug(l,n,y,y+S),Y=k>=0&&t[k],re=U>=0&&t[U];if(i&&!re||!i&&!Y){Yu(hl(g,o),s,l);const J=function ik(e,n,t,r,i){const s=new dl(e,t,R);return s.multi=[],s.index=n,s.componentProviders=0,wx(s,i,r&&!t),s}(i?rk:nk,t.length,i,r,d);!i&&re&&(t[U].providerFactory=J),lg(s,e,n.length,0),n.push(l),g.directiveStart++,g.directiveEnd++,i&&(g.providerIndexes+=1048576),t.push(J),o.push(J)}else lg(s,e,k>-1?k:U,wx(t[i?U:k],d,!i&&r));!i&&r&&re&&t[U].componentProviders++}}}function lg(e,n,t,r){const i=co(n),s=function NM(e){return!!e.useClass}(n);if(i||s){const d=(s?ze(n.useClass):n).prototype.ngOnDestroy;if(d){const g=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){const y=g.indexOf(t);-1===y?g.push(t,[r,d]):g[y+1].push(r,d)}else g.push(t,d)}}}function wx(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function ug(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function nk(e,n,t,r){return cg(this.multi,[])}function rk(e,n,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,l=gl(t,t[1],this.providerFactory.index,r);s=l.slice(0,o),cg(i,s);for(let d=o;d<l.length;d++)s.push(l[d])}else s=[],cg(i,s);return s}function cg(e,n){for(let t=0;t<e.length;t++)n.push((0,e[t])());return n}function Kt(e,n=[]){return t=>{t.providersResolver=(r,i)=>function tk(e,n,t){const r=Ft();if(r.firstCreatePass){const i=Fr(e);ag(t,r.data,r.blueprint,i,!0),ag(n,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,n)}}class yo{}class Sx{}class Ax extends yo{constructor(n,t){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qh(this);const r=_r(n);this._bootstrapComponents=os(r.bootstrap),this._r3Injector=g_(n,t,[{provide:yo,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],Vt(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class dg extends Sx{constructor(n){super(),this.moduleType=n}create(n){return new Ax(this.moduleType,n)}}class ok extends yo{constructor(n,t,r){super(),this.componentFactoryResolver=new Qh(this),this.instance=null;const i=new Ey([...n,{provide:yo,useValue:this},{provide:Al,useValue:this.componentFactoryResolver}],t||lc(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function Oc(e,n,t=null){return new ok(e,n,t).injector}let ak=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=xy(0,t.type),i=r.length>0?Oc([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=_e({token:e,providedIn:"environment",factory:()=>new e(oe(Vs))}),e})();function Mx(e){e.getStandaloneInjector=n=>n.get(ak).getOrCreateStandaloneInjector(e)}function hg(e,n,t,r){return function Lx(e,n,t,r,i,s){const o=n+t;return hr(e,o,i)?function ji(e,n,t){return e[n]=t}(e,o+1,s?r.call(s,i):r(i)):function $l(e,n){const t=e[n];return t===lt?void 0:t}(e,o+1)}(de(),function br(){const e=ot.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}(),e,n,t,r)}function gg(e){return n=>{setTimeout(e,void 0,n)}}const Pt=class Fk extends $e{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,s=t||(()=>null),o=r;if(n&&"object"==typeof n){const d=n;i=d.next?.bind(d),s=d.error?.bind(d),o=d.complete?.bind(d)}this.__isAsync&&(s=gg(s),i&&(i=gg(i)),o&&(o=gg(o)));const l=super.subscribe({next:i,error:s,complete:o});return n instanceof be&&n.add(l),l}};function kk(){return this._results[ho()]()}class Wl{constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=ho(),r=Wl.prototype;r[t]||(r[t]=kk)}get changes(){return this._changes||(this._changes=new Pt)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=Qr(n);(this._changesDetected=!function OA(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],s=n[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let cs=(()=>{class e{}return e.__NG_ELEMENT_ID__=Pk,e})();const Ok=cs,Lk=class extends Ok{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}createEmbeddedView(n,t){const r=this._declarationTContainer.tViews,i=vc(this._declarationLView,r,n,16,null,r.declTNode,null,null,null,null,t||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Uh(r,i,n),new Rl(i)}};function Pk(){return Lc(Wn(),de())}function Lc(e,n){return 4&e.type?new Lk(n,e,ca(e,n)):null}let _i=(()=>{class e{}return e.__NG_ELEMENT_ID__=Nk,e})();function Nk(){return Gx(Wn(),de())}const Vk=_i,Ux=class extends Vk{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new ea(this._hostTNode,this._hostLView)}get parentInjector(){const n=qu(this._hostTNode,this._hostLView);if(Lv(n)){const t=Jo(n,this._hostLView),r=Zo(n);return new ea(t[1].data[r+8],t)}return new ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=jx(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-10}createEmbeddedView(n,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=n.createEmbeddedView(t||{},s);return this.insert(o,i),o}createComponent(n,t,r,i,s){const o=n&&!function ml(e){return"function"==typeof e}(n);let l;if(o)l=t;else{const b=t||{};l=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}const d=o?n:new Fl(It(n)),g=r||this.parentInjector;if(!s&&null==d.ngModule){const S=(o?g:this.parentInjector).get(Vs,null);S&&(s=S)}const y=d.create(g,i,void 0,s);return this.insert(y.hostView,l),y}insert(n,t){const r=n._lView,i=r[1];if(function nA(e){return Rr(e[3])}(r)){const y=this.indexOf(n);if(-1!==y)this.detach(y);else{const b=r[3],S=new Ux(b,b[6],b[3]);S.detach(S.indexOf(n))}}const s=this._adjustIndex(t),o=this._lContainer;!function LT(e,n,t,r){const i=10+r,s=t.length;r>0&&(t[i-1][4]=n),r<s-10?(n[4]=t[i],Wv(t,10+r,n)):(t.push(n),n[4]=null),n[3]=t;const o=n[17];null!==o&&t!==o&&function PT(e,n){const t=e[9];n[16]!==n[3][3][16]&&(e[2]=!0),null===t?e[9]=[n]:t.push(n)}(o,n);const l=n[19];null!==l&&l.insertView(e),n[2]|=64}(i,r,o,s);const l=Dh(s,o),d=r[11],g=uc(d,o[7]);return null!==g&&function FT(e,n,t,r,i,s){r[0]=i,r[6]=n,Il(e,r,t,1,i,s)}(i,o[6],d,r,g,l),n.attachToViewContainerRef(),Wv(pg(o),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=jx(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=_h(this._lContainer,t);r&&(Xu(pg(this._lContainer),t),zy(r[1],r))}detach(n){const t=this._adjustIndex(n,-1),r=_h(this._lContainer,t);return r&&null!=Xu(pg(this._lContainer),t)?new Rl(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function jx(e){return e[8]}function pg(e){return e[8]||(e[8]=[])}function Gx(e,n){let t;const r=n[e.index];if(Rr(r))t=r;else{let i;if(8&e.type)i=wn(r);else{const s=n[11];i=s.createComment("");const o=kr(e,n);fo(s,uc(s,o),i,function UT(e,n){return e.nextSibling(n)}(s,o),!1)}n[e.index]=t=$_(r,n,i,e),_c(n,t)}return new Ux(t,e,n)}class mg{constructor(n){this.queryList=n,this.matches=null}clone(){return new mg(this.queryList)}setDirty(){this.queryList.setDirty()}}class vg{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new vg(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==Kx(n,t).matches&&this.queries[t].setDirty()}}class Hx{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class yg{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(n,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new yg(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class _g{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new _g(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(n,t,jk(t,s)),this.matchTNodeWithReadOption(n,t,Qu(t,n,s,!1,!1))}else r===cs?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Qu(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===st||i===_i||i===cs&&4&t.type)this.addMatch(t.index,-2);else{const s=Qu(t,n,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function jk(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function Hk(e,n,t,r){return-1===t?function Gk(e,n){return 11&e.type?ca(e,n):4&e.type?Lc(e,n):null}(n,e):-2===t?function $k(e,n,t){return t===st?ca(n,e):t===cs?Lc(n,e):t===_i?Gx(n,e):void 0}(e,n,r):gl(e,e[1],t,n)}function $x(e,n,t,r){const i=n[19].queries[r];if(null===i.matches){const s=e.data,o=t.matches,l=[];for(let d=0;d<o.length;d+=2){const g=o[d];l.push(g<0?null:Hk(n,s[g],o[d+1],t.metadata.read))}i.matches=l}return i.matches}function xg(e,n,t,r){const i=e.queries.getByIndex(t),s=i.matches;if(null!==s){const o=$x(e,n,i,t);for(let l=0;l<s.length;l+=2){const d=s[l];if(d>0)r.push(o[l/2]);else{const g=s[l+1],y=n[-d];for(let b=10;b<y.length;b++){const S=y[b];S[17]===S[3]&&xg(S[1],S,g,r)}if(null!==y[9]){const b=y[9];for(let S=0;S<b.length;S++){const k=b[S];xg(k[1],k,g,r)}}}}}return r}function Vr(e){const n=de(),t=Ft(),r=wv();Tf(r+1);const i=Kx(t,r);if(e.dirty&&function tA(e){return 4==(4&e[2])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const s=i.crossesNgTemplate?xg(t,n,r,[]):$x(t,n,i,r);e.reset(s,YM),e.notifyOnChanges()}return!0}return!1}function Kl(e,n,t){const r=Ft();r.firstCreatePass&&(Wx(r,new Hx(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),zx(r,de(),n)}function $i(e,n,t,r){const i=Ft();if(i.firstCreatePass){const s=Wn();Wx(i,new Hx(n,t,r),s.index),function Wk(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}zx(i,de(),t)}function Br(){return function zk(e,n){return e[19].queries[n].queryList}(de(),wv())}function zx(e,n,t){const r=new Wl(4==(4&t));L_(e,n,r,r.destroy),null===n[19]&&(n[19]=new vg),n[19].queries.push(new mg(r))}function Wx(e,n,t){null===e.queries&&(e.queries=new yg),e.queries.track(new _g(n,t))}function Kx(e,n){return e.queries.getByIndex(n)}function Nc(...e){}const Vc=new Te("Application Initializer");let Bc=(()=>{class e{constructor(t){this.appInits=t,this.resolve=Nc,this.reject=Nc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const t=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Pl(s))t.push(s);else if(rg(s)){const o=new Promise((l,d)=>{s.subscribe({complete:l,error:d})});t.push(o)}}Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(oe(Vc,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Yl=new Te("AppId",{providedIn:"root",factory:function fb(){return`${wg()}${wg()}${wg()}`}});function wg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hb=new Te("Platform Initializer"),oi=new Te("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Sg=new Te("appBootstrapListener"),Fa=new Te("AnimationModuleType");let hO=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const zi=new Te("LocaleId",{providedIn:"root",factory:()=>rn(zi,We.Optional|We.SkipSelf)||function gO(){return typeof $localize<"u"&&$localize.locale||Ta}()});class mO{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let Ag=(()=>{class e{compileModuleSync(t){return new dg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=os(_r(t).declarations).reduce((o,l)=>{const d=It(l);return d&&o.push(new Fl(d)),o},[]);return new mO(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const _O=(()=>Promise.resolve(0))();function Mg(e){typeof Zone>"u"?_O.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ht{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pt(!1),this.onMicrotaskEmpty=new Pt(!1),this.onStable=new Pt(!1),this.onError=new Pt(!1),typeof Zone>"u")throw new Ee(908,!1);Zone.assertZonePatched();const i=this;if(i._nesting=0,i._outer=i._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const s=Zone.AsyncStackTaggingZoneSpec;i._inner=i._inner.fork(new s("Angular"))}Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function xO(){let e=zt.requestAnimationFrame,n=zt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&n){const t=e[Zone.__symbol__("OriginalDelegate")];t&&(e=t);const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function CO(e){const n=()=>{!function DO(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(zt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Ig(e),e.isCheckStableRunning=!0,Tg(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Ig(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,l)=>{try{return mb(e),t.invokeTask(i,s,o,l)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||e.shouldCoalesceRunChangeDetection)&&n(),vb(e)}},onInvoke:(t,r,i,s,o,l,d)=>{try{return mb(e),t.invoke(i,s,o,l,d)}finally{e.shouldCoalesceRunChangeDetection&&n(),vb(e)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(e._hasPendingMicrotasks=s.microTask,Ig(e),Tg(e)):"macroTask"==s.change&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ht.isInAngularZone())throw new Ee(909,!1)}static assertNotInAngularZone(){if(Ht.isInAngularZone())throw new Ee(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,n,bO,Nc,Nc);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const bO={};function Tg(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Ig(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function mb(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function vb(e){e._nesting--,Tg(e)}class EO{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pt,this.onMicrotaskEmpty=new Pt,this.onStable=new Pt,this.onError=new Pt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const yb=new Te(""),Uc=new Te("");let kg,Rg=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,kg||(function wO(e){kg=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ht.assertNotInAngularZone(),Mg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Mg(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(oe(Ht),oe(Fg),oe(Uc))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),Fg=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return kg?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Gs=null;const _b=new Te("AllowMultipleToken"),Og=new Te("PlatformDestroyListeners");class xb{constructor(n,t){this.name=n,this.token=t}}function Db(e,n,t=[]){const r=`Platform: ${n}`,i=new Te(r);return(s=[])=>{let o=Lg();if(!o||o.injector.get(_b,!1)){const l=[...t,...s,{provide:i,useValue:!0}];e?e(l):function MO(e){if(Gs&&!Gs.get(_b,!1))throw new Ee(400,!1);Gs=e;const n=e.get(Eb);(function bb(e){const n=e.get(hb,null);n&&n.forEach(t=>t())})(e)}(function Cb(e=[],n){return Lr.create({name:n,providers:[{provide:eh,useValue:"platform"},{provide:Og,useValue:new Set([()=>Gs=null])},...e]})}(l,r))}return function IO(e){const n=Lg();if(!n)throw new Ee(401,!1);return n}()}}function Lg(){return Gs?.get(Eb)??null}let Eb=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Sb(e,n){let t;return t="noop"===e?new EO:("zone.js"===e?void 0:e)||new Ht(n),t}(r?.ngZone,function wb(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ht,useValue:i}];return i.run(()=>{const o=Lr.create({providers:s,parent:this.injector,name:t.moduleType.name}),l=t.create(o),d=l.injector.get(da,null);if(!d)throw new Ee(402,!1);return i.runOutsideAngular(()=>{const g=i.onError.subscribe({next:y=>{d.handleError(y)}});l.onDestroy(()=>{Gc(this._modules,l),g.unsubscribe()})}),function Ab(e,n,t){try{const r=t();return Pl(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(d,i,()=>{const g=l.injector.get(Bc);return g.runInitializers(),g.donePromise.then(()=>(function tx(e){vr(e,"Expected localeId to be defined"),"string"==typeof e&&(ex=e.toLowerCase().replace(/_/g,"-"))}(l.injector.get(zi,Ta)||Ta),this._moduleDoBootstrap(l),l))})})}bootstrapModule(t,r=[]){const i=Mb({},r);return function SO(e,n,t){const r=new dg(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(jc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new Ee(403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Og,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(oe(Lr))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function Mb(e,n){return Array.isArray(n)?n.reduce(Mb,e):{...e,...n}}let jc=(()=>{class e{constructor(t,r,i){this._zone=t,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new tt(l=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{l.next(this._stable),l.complete()})}),o=new tt(l=>{let d;this._zone.runOutsideAngular(()=>{d=this._zone.onStable.subscribe(()=>{Ht.assertNotInAngularZone(),Mg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,l.next(!0))})})});const g=this._zone.onUnstable.subscribe(()=>{Ht.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{l.next(!1)}))});return()=>{d.unsubscribe(),g.unsubscribe()}});this.isStable=As(s,o.pipe(function Xi(e={}){const{connector:n=(()=>new $e),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return s=>{let o,l,d,g=0,y=!1,b=!1;const S=()=>{l?.unsubscribe(),l=void 0},k=()=>{S(),o=d=void 0,y=b=!1},U=()=>{const Y=o;k(),Y?.unsubscribe()};return Ue((Y,re)=>{g++,!b&&!y&&S();const J=d=d??n();re.add(()=>{g--,0===g&&!b&&!y&&(l=Zi(U,i))}),J.subscribe(re),!o&&g>0&&(o=new qe({next:xe=>J.next(xe),error:xe=>{b=!0,S(),l=Zi(k,t,xe),J.error(xe)},complete:()=>{y=!0,S(),l=Zi(k,r),J.complete()}}),At(Y).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof Sy;if(!this._injector.get(Bc).done)throw!i&&function Fi(e){const n=It(e)||$n(e)||sr(e);return null!==n&&n.standalone}(t),new Ee(405,false);let o;o=i?t:this._injector.get(Al).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const l=function AO(e){return e.isBoundToModule}(o)?void 0:this._injector.get(yo),g=o.create(Lr.NULL,[],r||o.selector,l),y=g.location.nativeElement,b=g.injector.get(yb,null);return b?.registerApplication(y),g.onDestroy(()=>{this.detachView(g.hostView),Gc(this.components,g),b?.unregisterApplication(y)}),this._loadComponent(g),g}tick(){if(this._runningTick)throw new Ee(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Gc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Sg,[]).concat(this._bootstrapListeners).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Gc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Ee(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)(oe(Ht),oe(Vs),oe(da))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Gc(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}let Ib=!0,Wi=(()=>{class e{}return e.__NG_ELEMENT_ID__=kO,e})();function kO(e){return function OO(e,n,t){if(qo(e)&&!t){const r=Yr(e.index,n);return new Rl(r,r)}return 47&e.type?new Rl(n[16],n):null}(Wn(),de(),16==(16&e))}class Lb{constructor(){}supports(n){return kl(n)}create(n){return new UO(n)}}const BO=(e,n)=>n;class UO{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||BO}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<Nb(r,i,s)?t:r,l=Nb(o,i,s),d=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const g=l-i,y=d-i;if(g!=y){for(let S=0;S<g;S++){const k=S<s.length?s[S]:s[S]=0,U=k+S;y<=U&&U<g&&(s[S]=k+1)}s[o.previousIndex]=y-g}}l!==d&&n(o,l,d)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!kl(n))throw new Ee(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let l=0;l<this.length;l++)s=n[l],o=this._trackByFn(l,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,l)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,l),r=!0),t=t._next}else i=0,function gR(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[ho()]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,l=>{o=this._trackByFn(i,l),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,l,o,i)),Object.is(t.item,l)||this._addIdentityChange(t,l)):(t=this._mismatch(t,l,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let s;return null===n?s=this._itTail:(s=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,s,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,s,i)):n=this._addAfter(new jO(t,r),s,i),n}_verifyReinsertion(n,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?n=this._reinsertAfter(s,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,s=n._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new Pb),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pb),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class jO{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class GO{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class Pb{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new GO,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Nb(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class Vb{constructor(){}supports(n){return n instanceof Map||Zh(n)}create(){return new HO}}class HO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Zh(n)))throw new Ee(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new $O(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class $O{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Bb(){return new Ql([new Lb])}let Ql=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Bb()),deps:[[e,new Dl,new bl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new Ee(901,!1)}}return e.\u0275prov=_e({token:e,providedIn:"root",factory:Bb}),e})();function Ub(){return new xo([new Vb])}let xo=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||Ub()),deps:[[e,new Dl,new bl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Ee(901,!1)}}return e.\u0275prov=_e({token:e,providedIn:"root",factory:Ub}),e})();const KO=Db(null,"core",[]);let qO=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(oe(jc))},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({}),e})(),zc=null;function Ki(){return zc}const qt=new Te("DocumentToken");let Ug=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:function(){return function ZO(){return oe(jb)}()},providedIn:"platform"}),e})();const JO=new Te("Location Initialized");let jb=(()=>{class e extends Ug{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ki().getBaseHref(this._doc)}onPopState(t){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ki().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){Gb()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){Gb()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(oe(qt))},e.\u0275prov=_e({token:e,factory:function(){return function eL(){return new jb(oe(qt))}()},providedIn:"platform"}),e})();function Gb(){return!!window.history.pushState}function jg(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function Hb(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function hs(e){return e&&"?"!==e[0]?"?"+e:e}let bo=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:function(){return rn(zb)},providedIn:"root"}),e})();const $b=new Te("appBaseHref");let zb=(()=>{class e extends bo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??rn(qt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return jg(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+hs(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+hs(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+hs(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(Ug),oe($b,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tL=(()=>{class e extends bo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=jg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+hs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+hs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(Ug),oe($b,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),Gg=(()=>{class e{constructor(t){this._subject=new Pt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Hb(Wb(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hs(r))}normalize(t){return e.stripTrailingSlash(function rL(e,n){return e&&n.startsWith(e)?n.substring(e.length):n}(this._baseHref,Wb(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hs(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hs(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=hs,e.joinWithSlash=jg,e.stripTrailingSlash=Hb,e.\u0275fac=function(t){return new(t||e)(oe(bo))},e.\u0275prov=_e({token:e,factory:function(){return function nL(){return new Gg(oe(bo))}()},providedIn:"root"}),e})();function Wb(e){return e.replace(/\/index.html$/,"")}function tD(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(s)}return null}let td=(()=>{class e{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(kl(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Vt(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(R(Ql),R(xo),R(st),R(hi))},e.\u0275dir=fe({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class jL{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Zg=(()=>{class e{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new jL(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const l=r.get(s);r.move(l,o),iD(l,i)}});for(let i=0,s=r.length;i<s;i++){const l=r.get(i).context;l.index=i,l.count=s,l.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{iD(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(R(_i),R(cs),R(Ql))},e.\u0275dir=fe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function iD(e,n){e.context.$implicit=n.item}let nd=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new HL,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){sD("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){sD("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(R(_i),R(cs))},e.\u0275dir=fe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class HL{constructor(){this.$implicit=null,this.ngIf=null}}function sD(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${Vt(n)}'.`)}class Jg{constructor(n,t){this._viewContainerRef=n,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(n){n&&!this._created?this.create():!n&&this._created&&this.destroy()}}let rd=(()=>{class e{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=fe({type:e,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),oD=(()=>{class e{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new Jg(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return e.\u0275fac=function(t){return new(t||e)(R(_i),R(cs),R(rd,9))},e.\u0275dir=fe({type:e,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),id=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:Or.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(xo),R(hi))},e.\u0275dir=fe({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),ps=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({}),e})();const uD="browser";function Do(e){return e===uD}function ka(e){return"server"===e}let y1=(()=>{class e{}return e.\u0275prov=_e({token:e,providedIn:"root",factory:()=>new _1(oe(qt),window)}),e})();class _1{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function x1(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(n)||s.querySelector(`[name="${n}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=cD(this.window.history)||cD(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cD(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class dD{}class ip extends class V1 extends class XO{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function QO(e){zc||(zc=e)}(new ip)}onAndCancel(n,t,r){return n.addEventListener(t,r,!1),()=>{n.removeEventListener(t,r,!1)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function B1(){return eu=eu||document.querySelector("base"),eu?eu.getAttribute("href"):null}();return null==t?null:function U1(e){od=od||document.createElement("a"),od.setAttribute("href",e);const n=od.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return tD(document.cookie,n)}}let od,eu=null;const pD=new Te("TRANSITION_ID"),G1=[{provide:Vc,useFactory:function j1(e,n,t){return()=>{t.get(Bc).donePromise.then(()=>{const r=Ki(),i=n.querySelectorAll(`style[ng-transition="${e}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[pD,qt,Lr],multi:!0}];let $1=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const ad=new Te("EventManagerPlugins");let ld=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return e.\u0275fac=function(t){return new(t||e)(oe(ad),oe(Ht))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();class mD{constructor(n){this._doc=n}addGlobalEventListener(n,t,r){const i=Ki().getGlobalEventTarget(this._doc,n);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vD=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),tu=(()=>{class e extends vD{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(yD),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(yD))}}return e.\u0275fac=function(t){return new(t||e)(oe(qt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();function yD(e){Ki().remove(e)}const sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},op=/%COMP%/g;function ud(e,n,t){for(let r=0;r<n.length;r++){let i=n[r];Array.isArray(i)?ud(e,i,t):(i=i.replace(op,e),t.push(i))}return t}function bD(e){return n=>{if("__ngUnwrap__"===n)return e;!1===e(n)&&(n.preventDefault(),n.returnValue=!1)}}let ap=(()=>{class e{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new lp(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case Wr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Q1(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case Wr.ShadowDom:return new X1(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=ud(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(oe(ld),oe(tu),oe(Yl))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();class lp{constructor(n){this.eventManager=n,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?document.createElementNS(sp[t]||t,n):document.createElement(n)}createComment(n){return document.createComment(n)}createText(n){return document.createTextNode(n)}appendChild(n,t){(CD(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(CD(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?document.querySelector(n):n;if(!r)throw new Error(`The selector "${n}" did not match any elements`);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const s=sp[i];s?n.setAttributeNS(s,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=sp[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(Or.DashCase|Or.Important)?n.style.setProperty(t,r,i&Or.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&Or.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){return"string"==typeof n?this.eventManager.addGlobalEventListener(n,t,bD(r)):this.eventManager.addEventListener(n,t,bD(r))}}function CD(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Q1 extends lp{constructor(n,t,r,i){super(n),this.component=r;const s=ud(i+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function K1(e){return"_ngcontent-%COMP%".replace(op,e)}(i+"-"+r.id),this.hostAttr=function q1(e){return"_nghost-%COMP%".replace(op,e)}(i+"-"+r.id)}applyToHost(n){super.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}class X1 extends lp{constructor(n,t,r,i){super(n),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=ud(i.id,i.styles,[]);for(let o=0;o<s.length;o++){const l=document.createElement("style");l.textContent=s[o],this.shadowRoot.appendChild(l)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}}let Z1=(()=>{class e extends mD{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(oe(qt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const ED=["alt","control","meta","shift"],J1={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eP={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let tP=(()=>{class e extends mD{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const s=e.parseEventName(r),o=e.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ki().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=e._normalizeKey(r.pop());let o="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),o="code."),ED.forEach(g=>{const y=r.indexOf(g);y>-1&&(r.splice(y,1),o+=g+".")}),o+=s,0!=r.length||0===s.length)return null;const d={};return d.domEventName=i,d.fullKey=o,d}static matchEventFullKeyCode(t,r){let i=J1[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ED.forEach(o=>{o!==i&&(0,eP[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{e.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(oe(qt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const sP=Db(KO,"browser",[{provide:oi,useValue:uD},{provide:hb,useValue:function nP(){ip.makeCurrent()},multi:!0},{provide:qt,useFactory:function iP(){return function sM(e){zf=e}(document),document},deps:[]}]),AD=new Te(""),MD=[{provide:Uc,useClass:class H1{addToWindow(n){zt.getAngularTestability=(r,i=!0)=>{const s=n.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},zt.getAllAngularTestabilities=()=>n.getAllTestabilities(),zt.getAllAngularRootElements=()=>n.getAllRootElements(),zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push(r=>{const i=zt.getAllAngularTestabilities();let s=i.length,o=!1;const l=function(d){o=o||d,s--,0==s&&r(o)};i.forEach(function(d){d.whenStable(l)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?Ki().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:yb,useClass:Rg,deps:[Ht,Fg,Uc]},{provide:Rg,useClass:Rg,deps:[Ht,Fg,Uc]}],TD=[{provide:eh,useValue:"root"},{provide:da,useFactory:function rP(){return new da},deps:[]},{provide:ad,useClass:Z1,multi:!0,deps:[qt,Ht,oi]},{provide:ad,useClass:tP,multi:!0,deps:[qt]},{provide:ap,useClass:ap,deps:[ld,tu,Yl]},{provide:My,useExisting:ap},{provide:vD,useExisting:tu},{provide:tu,useClass:tu,deps:[qt]},{provide:ld,useClass:ld,deps:[ad,Ht]},{provide:dD,useClass:$1,deps:[]},[]];let ID=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:Yl,useValue:t.appId},{provide:pD,useExisting:Yl},G1]}}}return e.\u0275fac=function(t){return new(t||e)(oe(AD,12))},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({providers:[...TD,...MD],imports:[ps,qO]}),e})(),RD=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(oe(qt))},e.\u0275prov=_e({token:e,factory:function(t){let r=null;return r=t?new t:function aP(){return new RD(oe(qt))}(),r},providedIn:"root"}),e})();function He(...e){return $t(e,Rn(e))}function $s(e,n){return ee(n)?Nt(e,n,1):Nt(e,1)}function jr(e,n){return Ue((t,r)=>{let i=0;t.subscribe(vt(r,s=>e.call(n,s,i++)&&r.next(s)))})}typeof window<"u"&&window;class PD{}class ND{}class ms{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?this.lazyInit="string"==typeof n?()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:()=>{this.headers=new Map,Object.keys(n).forEach(t=>{let r=n[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof ms?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new ms;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ms?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=n.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(l=>-1===s.indexOf(l)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class pP{encodeKey(n){return VD(n)}encodeValue(n){return VD(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const vP=/%(\d[a-f0-9])/gi,yP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function VD(e){return encodeURIComponent(e).replace(vP,(n,t)=>yP[t]??n)}function cd(e){return`${e}`}class zs{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new pP,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function mP(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,l]=-1==s?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,s)),n.decodeValue(i.slice(s+1))],d=t.get(o)||[];d.push(l),t.set(o,d)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(cd):[cd(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new zs({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(cd(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(cd(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class _P{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function BD(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function UD(e){return typeof Blob<"u"&&e instanceof Blob}function jD(e){return typeof FormData<"u"&&e instanceof FormData}class nu{constructor(n,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function xP(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new ms),this.context||(this.context=new _P),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const l=t.indexOf("?");this.urlWithParams=t+(-1===l?"?":l<t.length-1?"&":"")+o}}else this.params=new zs,this.urlWithParams=t}serializeBody(){return null===this.body?null:BD(this.body)||UD(this.body)||jD(this.body)||function bP(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||jD(this.body)?null:UD(this.body)?this.body.type||null:BD(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,s=void 0!==n.body?n.body:this.body,o=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let d=n.headers||this.headers,g=n.params||this.params;const y=n.context??this.context;return void 0!==n.setHeaders&&(d=Object.keys(n.setHeaders).reduce((b,S)=>b.set(S,n.setHeaders[S]),d)),n.setParams&&(g=Object.keys(n.setParams).reduce((b,S)=>b.set(S,n.setParams[S]),g)),new nu(t,r,s,{params:g,headers:d,context:y,reportProgress:l,responseType:i,withCredentials:o})}}var Gn=(()=>((Gn=Gn||{})[Gn.Sent=0]="Sent",Gn[Gn.UploadProgress=1]="UploadProgress",Gn[Gn.ResponseHeader=2]="ResponseHeader",Gn[Gn.DownloadProgress=3]="DownloadProgress",Gn[Gn.Response=4]="Response",Gn[Gn.User=5]="User",Gn))();class dp{constructor(n,t=200,r="OK"){this.headers=n.headers||new ms,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class fp extends dp{constructor(n={}){super(n),this.type=Gn.ResponseHeader}clone(n={}){return new fp({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class dd extends dp{constructor(n={}){super(n),this.type=Gn.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new dd({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class GD extends dp{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function hp(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let HD=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof nu)s=t;else{let d,g;d=i.headers instanceof ms?i.headers:new ms(i.headers),i.params&&(g=i.params instanceof zs?i.params:new zs({fromObject:i.params})),s=new nu(t,r,void 0!==i.body?i.body:null,{headers:d,context:i.context,params:g,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=He(s).pipe($s(d=>this.handler.handle(d)));if(t instanceof nu||"events"===i.observe)return o;const l=o.pipe(jr(d=>d instanceof dd));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(je(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return l.pipe(je(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return l.pipe(je(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return l.pipe(je(d=>d.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new zs).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,hp(i,r))}post(t,r,i={}){return this.request("POST",t,hp(i,r))}put(t,r,i={}){return this.request("PUT",t,hp(i,r))}}return e.\u0275fac=function(t){return new(t||e)(oe(PD))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();class $D{constructor(n,t){this.next=n,this.interceptor=t}handle(n){return this.interceptor.intercept(n,this.next)}}const zD=new Te("HTTP_INTERCEPTORS");let DP=(()=>{class e{intercept(t,r){return r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const CP=/^\)\]\}',?\n/;let WD=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new tt(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((k,U)=>i.setRequestHeader(k,U.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const k=t.detectContentTypeHeader();null!==k&&i.setRequestHeader("Content-Type",k)}if(t.responseType){const k=t.responseType.toLowerCase();i.responseType="json"!==k?k:"text"}const s=t.serializeBody();let o=null;const l=()=>{if(null!==o)return o;const k=i.statusText||"OK",U=new ms(i.getAllResponseHeaders()),Y=function EP(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(i)||t.url;return o=new fp({headers:U,status:i.status,statusText:k,url:Y}),o},d=()=>{let{headers:k,status:U,statusText:Y,url:re}=l(),J=null;204!==U&&(J=typeof i.response>"u"?i.responseText:i.response),0===U&&(U=J?200:0);let xe=U>=200&&U<300;if("json"===t.responseType&&"string"==typeof J){const te=J;J=J.replace(CP,"");try{J=""!==J?JSON.parse(J):null}catch(Ge){J=te,xe&&(xe=!1,J={error:Ge,text:J})}}xe?(r.next(new dd({body:J,headers:k,status:U,statusText:Y,url:re||void 0})),r.complete()):r.error(new GD({error:J,headers:k,status:U,statusText:Y,url:re||void 0}))},g=k=>{const{url:U}=l(),Y=new GD({error:k,status:i.status||0,statusText:i.statusText||"Unknown Error",url:U||void 0});r.error(Y)};let y=!1;const b=k=>{y||(r.next(l()),y=!0);let U={type:Gn.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),"text"===t.responseType&&!!i.responseText&&(U.partialText=i.responseText),r.next(U)},S=k=>{let U={type:Gn.UploadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),r.next(U)};return i.addEventListener("load",d),i.addEventListener("error",g),i.addEventListener("timeout",g),i.addEventListener("abort",g),t.reportProgress&&(i.addEventListener("progress",b),null!==s&&i.upload&&i.upload.addEventListener("progress",S)),i.send(s),r.next({type:Gn.Sent}),()=>{i.removeEventListener("error",g),i.removeEventListener("abort",g),i.removeEventListener("load",d),i.removeEventListener("timeout",g),t.reportProgress&&(i.removeEventListener("progress",b),null!==s&&i.upload&&i.upload.removeEventListener("progress",S)),i.readyState!==i.DONE&&i.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(oe(dD))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();const gp=new Te("XSRF_COOKIE_NAME"),pp=new Te("XSRF_HEADER_NAME");class KD{}let wP=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=tD(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(oe(qt),oe(oi),oe(gp))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),mp=(()=>{class e{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const s=this.tokenService.getToken();return null!==s&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,s)})),r.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(KD),oe(pp))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),SP=(()=>{class e{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(zD,[]);this.chain=r.reduceRight((i,s)=>new $D(i,s),this.backend)}return this.chain.handle(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(ND),oe(Lr))},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})(),AP=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:mp,useClass:DP}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:gp,useValue:t.cookieName}:[],t.headerName?{provide:pp,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({providers:[mp,{provide:zD,useExisting:mp,multi:!0},{provide:KD,useClass:wP},{provide:gp,useValue:"XSRF-TOKEN"},{provide:pp,useValue:"X-XSRF-TOKEN"}]}),e})(),MP=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({providers:[HD,{provide:PD,useClass:SP},WD,{provide:ND,useExisting:WD}],imports:[AP.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),e})();class Dn extends $e{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}const fd=Ce(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:TP}=Array,{getPrototypeOf:IP,prototype:RP,keys:FP}=Object;const{isArray:OP}=Array;function vp(e){return je(n=>function LP(e,n){return OP(n)?e(...n):e(n)}(e,n))}function yp(...e){const n=Rn(e),t=function ni(e){return ee(Q(e))?e.pop():void 0}(e),{args:r,keys:i}=function qD(e){if(1===e.length){const n=e[0];if(TP(n))return{args:n,keys:null};if(function kP(e){return e&&"object"==typeof e&&IP(e)===RP}(n)){const t=FP(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return $t([],n);const s=new tt(function PP(e,n,t=Et){return r=>{QD(n,()=>{const{length:i}=e,s=new Array(i);let o=i,l=i;for(let d=0;d<i;d++)QD(n,()=>{const g=$t(e[d],n);let y=!1;g.subscribe(vt(r,b=>{s[d]=b,y||(y=!0,l--),l||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,n,i?o=>function YD(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,o):Et));return t?s.pipe(vp(t)):s}function QD(e,n,t){e?dn(t,e,n):n()}function hd(...e){return function NP(){return tn(1)}()($t(e,Rn(e)))}function XD(e){return new tt(n=>{At(e()).subscribe(n)})}function ru(e,n){const t=ee(e)?e:()=>e,r=i=>i.error(t());return new tt(n?i=>n.schedule(r,0,i):r)}function _p(){return Ue((e,n)=>{let t=null;e._refCount++;const r=vt(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class ZD extends tt{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hr(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new be;const t=this.getSubject();n.add(this.source.subscribe(vt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=be.EMPTY)}return n}refCount(){return _p()(this)}}function qi(e,n){return Ue((t,r)=>{let i=null,s=0,o=!1;const l=()=>o&&!i&&r.complete();t.subscribe(vt(r,d=>{i?.unsubscribe();let g=0;const y=s++;At(e(d,y)).subscribe(i=vt(r,b=>r.next(n?n(d,b,y,g++):b),()=>{i=null,l()}))},()=>{o=!0,l()}))})}function Oa(e){return e<=0?()=>En:Ue((n,t)=>{let r=0;n.subscribe(vt(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function gd(...e){const n=Rn(e);return Ue((t,r)=>{(n?hd(e,t,n):hd(e,t)).subscribe(r)})}function pd(e){return Ue((n,t)=>{let r=!1;n.subscribe(vt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function JD(e=VP){return Ue((n,t)=>{let r=!1;n.subscribe(vt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function VP(){return new fd}function Ws(e,n){const t=arguments.length>=2;return r=>r.pipe(e?jr((i,s)=>e(i,s,r)):Et,Oa(1),t?pd(n):JD(()=>new fd))}function nr(e,n,t){const r=ee(e)||n||t?{next:e,error:n,complete:t}:e;return r?Ue((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let l=!0;i.subscribe(vt(s,d=>{var g;null===(g=r.next)||void 0===g||g.call(r,d),s.next(d)},()=>{var d;l=!1,null===(d=r.complete)||void 0===d||d.call(r),s.complete()},d=>{var g;l=!1,null===(g=r.error)||void 0===g||g.call(r,d),s.error(d)},()=>{var d,g;l&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(g=r.finalize)||void 0===g||g.call(r)}))}):Et}function Ks(e){return Ue((n,t)=>{let s,r=null,i=!1;r=n.subscribe(vt(t,void 0,void 0,o=>{s=At(e(o,Ks(e)(n))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function BP(e,n,t,r,i){return(s,o)=>{let l=t,d=n,g=0;s.subscribe(vt(o,y=>{const b=g++;d=l?e(d,y,b):(l=!0,y),r&&o.next(d)},i&&(()=>{l&&o.next(d),o.complete()})))}}function eC(e,n){return Ue(BP(e,n,arguments.length>=2,!0))}function xp(e){return e<=0?()=>En:Ue((n,t)=>{let r=[];n.subscribe(vt(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tC(e,n){const t=arguments.length>=2;return r=>r.pipe(e?jr((i,s)=>e(i,s,r)):Et,xp(1),t?pd(n):JD(()=>new fd))}function bp(e){return Ue((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}const _t="primary",iu=Symbol("RouteTitle");class GP{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function La(e){return new GP(e)}function HP(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],l=e[s];if(o.startsWith(":"))i[o.substring(1)]=l;else if(o!==l.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Yi(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!nC(e[i],n[i]))return!1;return!0}function nC(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,s)=>r[s]===i)}return e===n}function rC(e){return Array.prototype.concat.apply([],e)}function iC(e){return e.length>0?e[e.length-1]:null}function ar(e,n){for(const t in e)e.hasOwnProperty(t)&&n(e[t],t)}function qs(e){return rg(e)?e:Pl(e)?$t(Promise.resolve(e)):He(e)}const WP={exact:function aC(e,n,t){if(!Eo(e.segments,n.segments)||!md(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!aC(e.children[r],n.children[r],t))return!1;return!0},subset:lC},sC={exact:function KP(e,n){return Yi(e,n)},subset:function qP(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>nC(e[t],n[t]))},ignored:()=>!0};function oC(e,n,t){return WP[t.paths](e.root,n.root,t.matrixParams)&&sC[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function lC(e,n,t){return uC(e,n,n.segments,t)}function uC(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Eo(i,t)||n.hasChildren()||!md(i,t,r))}if(e.segments.length===t.length){if(!Eo(e.segments,t)||!md(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!lC(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),s=t.slice(e.segments.length);return!!(Eo(e.segments,i)&&md(e.segments,i,r)&&e.children[_t])&&uC(e.children[_t],n,s,r)}}function md(e,n,t){return n.every((r,i)=>sC[t](e[i].parameters,r.parameters))}class Co{constructor(n,t,r){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return XP.serialize(this)}}class Dt{constructor(n,t){this.segments=n,this.children=t,this.parent=null,ar(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vd(this)}}class su{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=La(this.parameters)),this._parameterMap}toString(){return hC(this)}}function Eo(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let cC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:function(){return new Cp},providedIn:"root"}),e})();class Cp{parse(n){const t=new oN(n);return new Co(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${ou(n.root,!0)}`,r=function eN(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${yd(t)}=${yd(i)}`).join("&"):`${yd(t)}=${yd(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function ZP(e){return encodeURI(e)}(n.fragment)}`:""}`}}const XP=new Cp;function vd(e){return e.segments.map(n=>hC(n)).join("/")}function ou(e,n){if(!e.hasChildren())return vd(e);if(n){const t=e.children[_t]?ou(e.children[_t],!1):"",r=[];return ar(e.children,(i,s)=>{s!==_t&&r.push(`${s}:${ou(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function QP(e,n){let t=[];return ar(e.children,(r,i)=>{i===_t&&(t=t.concat(n(r,i)))}),ar(e.children,(r,i)=>{i!==_t&&(t=t.concat(n(r,i)))}),t}(e,(r,i)=>i===_t?[ou(e.children[_t],!1)]:[`${i}:${ou(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[_t]?`${vd(e)}/${t[0]}`:`${vd(e)}/(${t.join("//")})`}}function dC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yd(e){return dC(e).replace(/%3B/gi,";")}function Ep(e){return dC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _d(e){return decodeURIComponent(e)}function fC(e){return _d(e.replace(/\+/g,"%20"))}function hC(e){return`${Ep(e.path)}${function JP(e){return Object.keys(e).map(n=>`;${Ep(n)}=${Ep(e[n])}`).join("")}(e.parameters)}`}const tN=/^[^\/()?;=#]+/;function xd(e){const n=e.match(tN);return n?n[0]:""}const nN=/^[^=?&#]+/,iN=/^[^&#]+/;class oN{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[_t]=new Dt(n,t)),r}parseSegment(){const n=xd(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new Ee(4009,!1);return this.capture(n),new su(_d(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=xd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=xd(this.remaining);i&&(r=i,this.capture(r))}n[_d(t)]=_d(r)}parseQueryParam(n){const t=function rN(e){const n=e.match(nN);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function sN(e){const n=e.match(iN);return n?n[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=fC(t),s=fC(r);if(n.hasOwnProperty(i)){let o=n[i];Array.isArray(o)||(o=[o],n[i]=o),o.push(s)}else n[i]=s}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=xd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Ee(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):n&&(s=_t);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[_t]:new Dt([],o),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new Ee(4011,!1)}}function wp(e){return e.segments.length>0?new Dt([],{[_t]:e}):e}function bd(e){const n={};for(const r of Object.keys(e.children)){const s=bd(e.children[r]);(s.segments.length>0||s.hasChildren())&&(n[r]=s)}return function aN(e){if(1===e.numberOfChildren&&e.children[_t]){const n=e.children[_t];return new Dt(e.segments.concat(n.segments),n.children)}return e}(new Dt(e.segments,n))}function wo(e){return e instanceof Co}function cN(e,n,t,r,i){if(0===t.length)return Pa(n.root,n.root,n.root,r,i);const s=function mC(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new pC(!0,0,e);let n=0,t=!1;const r=e.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const l={};return ar(s.outlets,(d,g)=>{l[g]="string"==typeof d?d.split("/"):d}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((l,d)=>{0==d&&"."===l||(0==d&&""===l?t=!0:".."===l?n++:""!=l&&i.push(l))}),i):[...i,s]},[]);return new pC(t,n,r)}(t);return s.toRoot()?Pa(n.root,n.root,new Dt([],{}),r,i):function o(d){const g=function fN(e,n,t,r){if(e.isAbsolute)return new Na(n.root,!0,0);if(-1===r)return new Na(t,t===n.root,0);return function vC(e,n,t){let r=e,i=n,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Ee(4005,!1);i=r.segments.length}return new Na(r,!1,i-s)}(t,r+(au(e.commands[0])?0:1),e.numberOfDoubleDots)}(s,n,e.snapshot?._urlSegment,d),y=g.processChildren?uu(g.segmentGroup,g.index,s.commands):Ap(g.segmentGroup,g.index,s.commands);return Pa(n.root,g.segmentGroup,y,r,i)}(e.snapshot?._lastPathIndex)}function au(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function lu(e){return"object"==typeof e&&null!=e&&e.outlets}function Pa(e,n,t,r,i){let o,s={};r&&ar(r,(d,g)=>{s[g]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),o=e===n?t:gC(e,n,t);const l=wp(bd(o));return new Co(l,s,i)}function gC(e,n,t){const r={};return ar(e.children,(i,s)=>{r[s]=i===n?t:gC(i,n,t)}),new Dt(e.segments,r)}class pC{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&au(r[0]))throw new Ee(4003,!1);const i=r.find(lu);if(i&&i!==iC(r))throw new Ee(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Na{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function Ap(e,n,t){if(e||(e=new Dt([],{})),0===e.segments.length&&e.hasChildren())return uu(e,n,t);const r=function gN(e,n,t){let r=0,i=n;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return s;const o=e.segments[i],l=t[r];if(lu(l))break;const d=`${l}`,g=r<t.length-1?t[r+1]:null;if(i>0&&void 0===d)break;if(d&&g&&"object"==typeof g&&void 0===g.outlets){if(!_C(d,g,o))return s;r+=2}else{if(!_C(d,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const s=new Dt(e.segments.slice(0,r.pathIndex),{});return s.children[_t]=new Dt(e.segments.slice(r.pathIndex),e.children),uu(s,0,i)}return r.match&&0===i.length?new Dt(e.segments,{}):r.match&&!e.hasChildren()?Mp(e,n,t):r.match?uu(e,0,i):Mp(e,n,t)}function uu(e,n,t){if(0===t.length)return new Dt(e.segments,{});{const r=function hN(e){return lu(e[0])?e[0].outlets:{[_t]:e}}(t),i={};return ar(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Ap(e.children[o],n,s))}),ar(e.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new Dt(e.segments,i)}}function Mp(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const s=t[i];if(lu(s)){const d=pN(s.outlets);return new Dt(r,d)}if(0===i&&au(t[0])){r.push(new su(e.segments[n].path,yC(t[0]))),i++;continue}const o=lu(s)?s.outlets[_t]:`${s}`,l=i<t.length-1?t[i+1]:null;o&&l&&au(l)?(r.push(new su(o,yC(l))),i+=2):(r.push(new su(o,{})),i++)}return new Dt(r,{})}function pN(e){const n={};return ar(e,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(n[r]=Mp(new Dt([],{}),0,t))}),n}function yC(e){const n={};return ar(e,(t,r)=>n[r]=`${t}`),n}function _C(e,n,t){return e==t.path&&Yi(n,t.parameters)}class vs{constructor(n,t){this.id=n,this.url=t}}class Tp extends vs{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class So extends vs{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Dd extends vs{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xC extends vs{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mN extends vs{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vN extends vs{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yN extends vs{constructor(n,t,r,i,s){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class _N extends vs{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xN extends vs{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bN{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class DN{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class CN{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EN{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wN{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SN{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bC{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class DC{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Ip(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Ip(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=Rp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Rp(n,this._root).map(t=>t.value)}}function Ip(e,n){if(e===n.value)return n;for(const t of n.children){const r=Ip(e,t);if(r)return r}return null}function Rp(e,n){if(e===n.value)return[n];for(const t of n.children){const r=Rp(e,t);if(r.length)return r.unshift(n),r}return[]}class ys{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function Va(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class CC extends DC{constructor(n,t){super(n),this.snapshot=t,Fp(this,n)}toString(){return this.snapshot.toString()}}function EC(e,n){const t=function MN(e,n){const o=new Cd([],{},{},"",{},_t,n,null,e.root,-1,{});return new SC("",new ys(o,[]))}(e,n),r=new Dn([new su("",{})]),i=new Dn({}),s=new Dn({}),o=new Dn({}),l=new Dn(""),d=new Ao(r,i,o,l,s,_t,n,t.root);return d.snapshot=t.root,new CC(new ys(d,[]),t)}class Ao{constructor(n,t,r,i,s,o,l,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.pipe(je(g=>g[iu]))??He(void 0),this._futureSnapshot=d}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(je(n=>La(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(je(n=>La(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function wC(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function TN(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Cd{constructor(n,t,r,i,s,o,l,d,g,y,b,S){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=l,this.title=this.data?.[iu],this.routeConfig=d,this._urlSegment=g,this._lastPathIndex=y,this._correctedLastPathIndex=S??y,this._resolve=b}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=La(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=La(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SC extends DC{constructor(n,t){super(t),this.url=n,Fp(this,t)}toString(){return AC(this._root)}}function Fp(e,n){n.value._routerState=e,n.children.forEach(t=>Fp(e,t))}function AC(e){const n=e.children.length>0?` { ${e.children.map(AC).join(", ")} } `:"";return`${e.value}${n}`}function kp(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Yi(n.queryParams,t.queryParams)||e.queryParams.next(t.queryParams),n.fragment!==t.fragment&&e.fragment.next(t.fragment),Yi(n.params,t.params)||e.params.next(t.params),function $P(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Yi(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.url.next(t.url),Yi(n.data,t.data)||e.data.next(t.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Op(e,n){const t=Yi(e.params,n.params)&&function YP(e,n){return Eo(e,n)&&e.every((t,r)=>Yi(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Op(e.parent,n.parent))}function cu(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function RN(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return cu(e,r,i);return cu(e,r)})}(e,n,t);return new ys(r,i)}{if(e.shouldAttach(n.value)){const s=e.retrieve(n.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=n.value,o.children=n.children.map(l=>cu(e,l)),o}}const r=function FN(e){return new Ao(new Dn(e.url),new Dn(e.params),new Dn(e.queryParams),new Dn(e.fragment),new Dn(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(s=>cu(e,s));return new ys(r,i)}}const Lp="ngNavigationCancelingError";function MC(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=wo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=TC(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function TC(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Lp]=!0,r.cancellationCode=n,t&&(r.url=t),r}function IC(e){return RC(e)&&wo(e.url)}function RC(e){return e&&e[Lp]}class kN{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new du,this.attachRef=null}}let du=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new kN,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ed=!1;let FC=(()=>{class e{constructor(t,r,i,s,o){this.parentContexts=t,this.location=r,this.changeDetector=s,this.environmentInjector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Pt,this.deactivateEvents=new Pt,this.attachEvents=new Pt,this.detachEvents=new Pt,this.name=i||_t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Ee(4012,Ed);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Ee(4012,Ed);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Ee(4012,Ed);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Ee(4013,Ed);this._activatedRoute=t;const i=this.location,o=t._futureSnapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new ON(t,l,i.injector);if(r&&function LN(e){return!!e.resolveComponentFactory}(r)){const g=r.resolveComponentFactory(o);this.activated=i.createComponent(g,i.length,d)}else this.activated=i.createComponent(o,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(R(du),R(_i),lo("name"),R(Wi),R(Vs))},e.\u0275dir=fe({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),e})();class ON{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Ao?this.route:n===du?this.childContexts:this.parent.get(n,t)}}let Pp=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=xn({type:e,selectors:[["ng-component"]],standalone:!0,features:[Mx],decls:1,vars:0,template:function(t,r){1&t&&qn(0,"router-outlet")},dependencies:[FC],encapsulation:2}),e})();function kC(e,n){return e.providers&&!e._injector&&(e._injector=Oc(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Vp(e){const n=e.children&&e.children.map(Vp),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==_t&&(t.component=Pp),t}function ui(e){return e.outlet||_t}function OC(e,n){const t=e.filter(r=>ui(r)===n);return t.push(...e.filter(r=>ui(r)!==n)),t}function fu(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class UN{constructor(n,t,r,i){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),kp(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=Va(t);n.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),ar(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(n,t,o.children)}else this.deactivateChildRoutes(n,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Va(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:o,route:n,contexts:l})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,s=Va(n);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(n,t,r){const i=Va(t);n.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new SN(s.value.snapshot))}),n.children.length&&this.forwardEvent(new EN(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,s=t?t.value:null;if(kp(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,o.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(l.contexts),o.attachRef=l.componentRef,o.route=l.route.value,o.outlet&&o.outlet.attach(l.componentRef,l.route.value),kp(l.route.value),this.activateChildRoutes(n,null,o.children)}else{const l=fu(i.snapshot),d=l?.get(Al)??null;o.attachRef=null,o.route=i,o.resolver=d,o.injector=l,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(n,null,o.children)}}else this.activateChildRoutes(n,null,r)}}class LC{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class wd{constructor(n,t){this.component=n,this.route=t}}function jN(e,n,t){const r=e._root;return hu(r,n?n._root:null,t,[r.value])}function Ba(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function ff(e){return null!==to(e)}(e)?n.get(e):e:r}function hu(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Va(n);return e.children.forEach(o=>{(function HN(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,o=n?n.value:null,l=t?t.getContext(e.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const d=function $N(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Eo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Eo(e.url,n.url)||!Yi(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Op(e,n)||!Yi(e.queryParams,n.queryParams);default:return!Op(e,n)}}(o,s,s.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new LC(r)):(s.data=o.data,s._resolvedData=o._resolvedData),hu(e,n,s.component?l?l.children:null:t,r,i),d&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new wd(l.outlet.component,o))}else o&&gu(n,l,i),i.canActivateChecks.push(new LC(r)),hu(e,null,s.component?l?l.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),ar(s,(o,l)=>gu(o,t.getContext(l),i)),i}function gu(e,n,t){const r=Va(e),i=e.value;ar(r,(s,o)=>{gu(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new wd(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function pu(e){return"function"==typeof e}function Bp(e){return e instanceof fd||"EmptyError"===e?.name}const Sd=Symbol("INITIAL_VALUE");function Ua(){return qi(e=>yp(e.map(n=>n.pipe(Oa(1),gd(Sd)))).pipe(je(n=>{for(const t of n)if(!0!==t){if(t===Sd)return Sd;if(!1===t||t instanceof Co)return t}return!0}),jr(n=>n!==Sd),Oa(1)))}function PC(e){return function yn(...e){return Tn(e)}(nr(n=>{if(wo(n))throw MC(0,n)}),je(n=>!0===n))}const Up={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function NC(e,n,t,r,i){const s=jp(e,n,t);return s.matched?function aV(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?He(i.map(o=>{const l=Ba(o,e);return qs(function QN(e){return e&&pu(e.canMatch)}(l)?l.canMatch(n,t):e.runInContext(()=>l(n,t)))})).pipe(Ua(),PC()):He(!0)}(r=kC(n,r),n,t).pipe(je(o=>!0===o?s:{...Up})):He(s)}function jp(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...Up}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||HP)(t,e,n);if(!i)return{...Up};const s={};ar(i.posParams,(l,d)=>{s[d]=l.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Ad(e,n,t,r,i="corrected"){if(t.length>0&&function cV(e,n,t){return t.some(r=>Md(e,n,r)&&ui(r)!==_t)}(e,t,r)){const o=new Dt(n,function uV(e,n,t,r){const i={};i[_t]=r,r._sourceSegment=e,r._segmentIndexShift=n.length;for(const s of t)if(""===s.path&&ui(s)!==_t){const o=new Dt([],{});o._sourceSegment=e,o._segmentIndexShift=n.length,i[ui(s)]=o}return i}(e,n,r,new Dt(t,e.children)));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function dV(e,n,t){return t.some(r=>Md(e,n,r))}(e,t,r)){const o=new Dt(e.segments,function lV(e,n,t,r,i,s){const o={};for(const l of r)if(Md(e,t,l)&&!i[ui(l)]){const d=new Dt([],{});d._sourceSegment=e,d._segmentIndexShift="legacy"===s?e.segments.length:n.length,o[ui(l)]=d}return{...i,...o}}(e,n,t,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=n.length,{segmentGroup:o,slicedSegments:t}}const s=new Dt(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=n.length,{segmentGroup:s,slicedSegments:t}}function Md(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}function VC(e,n,t,r){return!!(ui(e)===r||r!==_t&&Md(n,t,e))&&("**"===e.path||jp(n,e,t).matched)}function BC(e,n,t){return 0===n.length&&!e.children[t]}const Td=!1;class Id{constructor(n){this.segmentGroup=n||null}}class UC{constructor(n){this.urlTree=n}}function mu(e){return ru(new Id(e))}function jC(e){return ru(new UC(e))}class pV{constructor(n,t,r,i,s){this.injector=n,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const n=Ad(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(n.segments,n.children);return this.expandSegmentGroup(this.injector,this.config,t,_t).pipe(je(s=>this.createUrlTree(bd(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ks(s=>{if(s instanceof UC)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Id?this.noMatchError(s):s}))}match(n){return this.expandSegmentGroup(this.injector,this.config,n.root,_t).pipe(je(i=>this.createUrlTree(bd(i),n.queryParams,n.fragment))).pipe(Ks(i=>{throw i instanceof Id?this.noMatchError(i):i}))}noMatchError(n){return new Ee(4002,Td)}createUrlTree(n,t,r){const i=wp(n);return new Co(i,t,r)}expandSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(n,t,r).pipe(je(s=>new Dt([],s))):this.expandSegment(n,r,t,r.segments,i,!0)}expandChildren(n,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return $t(i).pipe($s(s=>{const o=r.children[s],l=OC(t,s);return this.expandSegmentGroup(n,l,o,s).pipe(je(d=>({segment:d,outlet:s})))}),eC((s,o)=>(s[o.outlet]=o.segment,s),{}),tC())}expandSegment(n,t,r,i,s,o){return $t(r).pipe($s(l=>this.expandSegmentAgainstRoute(n,t,r,l,i,s,o).pipe(Ks(g=>{if(g instanceof Id)return He(null);throw g}))),Ws(l=>!!l),Ks((l,d)=>{if(Bp(l))return BC(t,i,s)?He(new Dt([],{})):mu(t);throw l}))}expandSegmentAgainstRoute(n,t,r,i,s,o,l){return VC(i,t,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(n,t,i,s,o):l&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o):mu(t):mu(t)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?jC(s):this.lineralizeSegments(r,s).pipe(Nt(o=>{const l=new Dt(o,{});return this.expandSegment(n,l,t,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,s,o){const{matched:l,consumedSegments:d,remainingSegments:g,positionalParamSegments:y}=jp(t,i,s);if(!l)return mu(t);const b=this.applyRedirectCommands(d,i.redirectTo,y);return i.redirectTo.startsWith("/")?jC(b):this.lineralizeSegments(i,b).pipe(Nt(S=>this.expandSegment(n,t,r,S.concat(g),o,!1)))}matchSegmentAgainstRoute(n,t,r,i,s){return"**"===r.path?(n=kC(r,n),r.loadChildren?(r._loadedRoutes?He({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(n,r)).pipe(je(l=>(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,new Dt(i,{})))):He(new Dt(i,{}))):NC(t,r,i,n).pipe(qi(({matched:o,consumedSegments:l,remainingSegments:d})=>o?this.getChildConfig(n=r._injector??n,r,i).pipe(Nt(y=>{const b=y.injector??n,S=y.routes,{segmentGroup:k,slicedSegments:U}=Ad(t,l,d,S),Y=new Dt(k.segments,k.children);if(0===U.length&&Y.hasChildren())return this.expandChildren(b,S,Y).pipe(je(te=>new Dt(l,te)));if(0===S.length&&0===U.length)return He(new Dt(l,{}));const re=ui(r)===s;return this.expandSegment(b,Y,S,U,re?_t:s,!0).pipe(je(xe=>new Dt(l.concat(xe.segments),xe.children)))})):mu(t)))}getChildConfig(n,t,r){return t.children?He({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?He({routes:t._loadedRoutes,injector:t._loadedInjector}):function oV(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?He(!0):He(i.map(o=>{const l=Ba(o,e);return qs(function WN(e){return e&&pu(e.canLoad)}(l)?l.canLoad(n,t):e.runInContext(()=>l(n,t)))})).pipe(Ua(),PC())}(n,t,r).pipe(Nt(i=>i?this.configLoader.loadChildren(n,t).pipe(nr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function hV(e){return ru(TC(Td,3))}())):He({routes:[],injector:n})}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return He(r);if(i.numberOfChildren>1||!i.children[_t])return ru(new Ee(4e3,Td));i=i.children[_t]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const s=this.createSegmentGroup(n,t.root,r,i);return new Co(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return ar(n,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const l=i.substring(1);r[s]=t[l]}else r[s]=i}),r}createSegmentGroup(n,t,r,i){const s=this.createSegments(n,t.segments,r,i);let o={};return ar(t.children,(l,d)=>{o[d]=this.createSegmentGroup(n,l,r,i)}),new Dt(s,o)}createSegments(n,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(n,s,i):this.findOrReturn(s,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new Ee(4001,Td);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}class vV{}class xV{constructor(n,t,r,i,s,o,l,d){this.injector=n,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=l,this.urlSerializer=d}recognize(){const n=Ad(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,_t).pipe(je(t=>{if(null===t)return null;const r=new Cd([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new ys(r,t),s=new SC(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(n){const t=n.value,r=wC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i)}processChildren(n,t,r){return $t(Object.keys(r.children)).pipe($s(i=>{const s=r.children[i],o=OC(t,i);return this.processSegmentGroup(n,o,s,i)}),eC((i,s)=>i&&s?(i.push(...s),i):null),function UP(e,n=!1){return Ue((t,r)=>{let i=0;t.subscribe(vt(r,s=>{const o=e(s,i++);(o||n)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),pd(null),tC(),je(i=>{if(null===i)return null;const s=GC(i);return function bV(e){e.sort((n,t)=>n.value.outlet===_t?-1:t.value.outlet===_t?1:n.value.outlet.localeCompare(t.value.outlet))}(s),s}))}processSegment(n,t,r,i,s){return $t(t).pipe($s(o=>this.processSegmentAgainstRoute(o._injector??n,o,r,i,s)),Ws(o=>!!o),Ks(o=>{if(Bp(o))return BC(r,i,s)?He([]):He(null);throw o}))}processSegmentAgainstRoute(n,t,r,i,s){if(t.redirectTo||!VC(t,r,i,s))return He(null);let o;if("**"===t.path){const l=i.length>0?iC(i).parameters:{},d=$C(r)+i.length;o=He({snapshot:new Cd(i,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WC(t),ui(t),t.component??t._loadedComponent??null,t,HC(r),d,KC(t),d),consumedSegments:[],remainingSegments:[]})}else o=NC(r,t,i,n).pipe(je(({matched:l,consumedSegments:d,remainingSegments:g,parameters:y})=>{if(!l)return null;const b=$C(r)+d.length;return{snapshot:new Cd(d,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,WC(t),ui(t),t.component??t._loadedComponent??null,t,HC(r),b,KC(t),b),consumedSegments:d,remainingSegments:g}}));return o.pipe(qi(l=>{if(null===l)return He(null);const{snapshot:d,consumedSegments:g,remainingSegments:y}=l;n=t._injector??n;const b=t._loadedInjector??n,S=function DV(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(t),{segmentGroup:k,slicedSegments:U}=Ad(r,g,y,S.filter(re=>void 0===re.redirectTo),this.relativeLinkResolution);if(0===U.length&&k.hasChildren())return this.processChildren(b,S,k).pipe(je(re=>null===re?null:[new ys(d,re)]));if(0===S.length&&0===U.length)return He([new ys(d,[])]);const Y=ui(t)===s;return this.processSegment(b,S,k,U,Y?_t:s).pipe(je(re=>null===re?null:[new ys(d,re)]))}))}}function CV(e){const n=e.value.routeConfig;return n&&""===n.path&&void 0===n.redirectTo}function GC(e){const n=[],t=new Set;for(const r of e){if(!CV(r)){n.push(r);continue}const i=n.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=GC(r.children);n.push(new ys(r.value,i))}return n.filter(r=>!t.has(r))}function HC(e){let n=e;for(;n._sourceSegment;)n=n._sourceSegment;return n}function $C(e){let n=e,t=n._segmentIndexShift??0;for(;n._sourceSegment;)n=n._sourceSegment,t+=n._segmentIndexShift??0;return t-1}function WC(e){return e.data||{}}function KC(e){return e.resolve||{}}function qC(e){return"string"==typeof e.title||null===e.title}function Gp(e){return qi(n=>{const t=e(n);return t?$t(t).pipe(je(()=>n)):He(n)})}let YC=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===_t);return r}getResolvedTitleForRoute(t){return t.data[iu]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:function(){return rn(QC)},providedIn:"root"}),e})(),QC=(()=>{class e extends YC{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(oe(RD))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class RV{}class kV extends class FV{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}{}const Fd=new Te("",{providedIn:"root",factory:()=>({})}),Hp=new Te("ROUTES");let $p=(()=>{class e{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return He(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=qs(t.loadComponent()).pipe(nr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),bp(()=>{this.componentLoaders.delete(t)})),i=new ZD(r,()=>new $e).pipe(_p());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return He({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(je(l=>{this.onLoadEndListener&&this.onLoadEndListener(r);let d,g,y=!1;Array.isArray(l)?g=l:(d=l.create(t).injector,g=rC(d.get(Hp,[],We.Self|We.Optional)));return{routes:g.map(Vp),injector:d}}),bp(()=>{this.childrenLoaders.delete(r)})),o=new ZD(s,()=>new $e).pipe(_p());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return qs(t()).pipe(Nt(r=>r instanceof Sx||Array.isArray(r)?He(r):$t(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)(oe(Lr),oe(Ag))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class LV{}class PV{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,t){return n}}function NV(e){throw e}function VV(e,n,t){return n.parse("/")}const BV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},UV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ZC(){const e=rn(cC),n=rn(du),t=rn(Gg),r=rn(Lr),i=rn(Ag),s=rn(Hp,{optional:!0})??[],o=rn(Fd,{optional:!0})??{},l=rn(QC),d=rn(YC,{optional:!0}),g=rn(LV,{optional:!0}),y=rn(RV,{optional:!0}),b=new Xn(null,e,n,t,r,i,rC(s));return g&&(b.urlHandlingStrategy=g),y&&(b.routeReuseStrategy=y),b.titleStrategy=d??l,function jV(e,n){e.errorHandler&&(n.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(n.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(n.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(n.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(n.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(n.urlUpdateStrategy=e.urlUpdateStrategy),e.canceledNavigationResolution&&(n.canceledNavigationResolution=e.canceledNavigationResolution)}(o,b),b}let Xn=(()=>{class e{constructor(t,r,i,s,o,l,d){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=s,this.config=d,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $e,this.errorHandler=NV,this.malformedUriErrorHandler=VV,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>He(void 0),this.urlHandlingStrategy=new PV,this.routeReuseStrategy=new kV,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=o.get($p),this.configLoader.onLoadEndListener=S=>this.triggerEvent(new DN(S)),this.configLoader.onLoadStartListener=S=>this.triggerEvent(new bN(S)),this.ngModule=o.get(yo),this.console=o.get(hO);const b=o.get(Ht);this.isNgZoneEnabled=b instanceof Ht&&Ht.isInAngularZone(),this.resetConfig(d),this.currentUrlTree=function zP(){return new Co(new Dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=EC(this.currentUrlTree,this.rootComponentType),this.transitions=new Dn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(jr(i=>0!==i.id),je(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),qi(i=>{let s=!1,o=!1;return He(i).pipe(nr(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),qi(l=>{const d=this.browserUrlTree.toString(),g=!this.navigated||l.extractedUrl.toString()!==d||d!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||g)&&this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return JC(l.source)&&(this.browserUrlTree=l.extractedUrl),He(l).pipe(qi(b=>{const S=this.transitions.getValue();return r.next(new Tp(b.id,this.serializeUrl(b.extractedUrl),b.source,b.restoredState)),S!==this.transitions.getValue()?En:Promise.resolve(b)}),function mV(e,n,t,r){return qi(i=>function gV(e,n,t,r,i){return new pV(e,n,t,r,i).apply()}(e,n,t,i.extractedUrl,r).pipe(je(s=>({...i,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),nr(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},i.urlAfterRedirects=b.urlAfterRedirects}),function wV(e,n,t,r,i,s){return Nt(o=>function _V(e,n,t,r,i,s,o="emptyOnly",l="legacy"){return new xV(e,n,t,r,i,o,l,s).recognize().pipe(qi(d=>null===d?function yV(e){return new tt(n=>n.error(e))}(new vV):He(d)))}(e,n,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i,s).pipe(je(l=>({...o,targetSnapshot:l}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),nr(b=>{if(i.targetSnapshot=b.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!b.extras.skipLocationChange){const k=this.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);this.setBrowserUrl(k,b)}this.browserUrlTree=b.urlAfterRedirects}const S=new mN(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);r.next(S)}));if(g&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:S,extractedUrl:k,source:U,restoredState:Y,extras:re}=l,J=new Tp(S,this.serializeUrl(k),U,Y);r.next(J);const xe=EC(k,this.rootComponentType).snapshot;return He(i={...l,targetSnapshot:xe,urlAfterRedirects:k,extras:{...re,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=l.rawUrl,l.resolve(null),En}),nr(l=>{const d=new vN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(d)}),je(l=>i={...l,guards:jN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function ZN(e,n){return Nt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?He({...t,guardsResult:!0}):function JN(e,n,t,r){return $t(e).pipe(Nt(i=>function sV(e,n,t,r,i){const s=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return s&&0!==s.length?He(s.map(l=>{const d=fu(n)??i,g=Ba(l,d);return qs(function YN(e){return e&&pu(e.canDeactivate)}(g)?g.canDeactivate(e,n,t,r):d.runInContext(()=>g(e,n,t,r))).pipe(Ws())})).pipe(Ua()):He(!0)}(i.component,i.route,t,n,r)),Ws(i=>!0!==i,!0))}(o,r,i,e).pipe(Nt(l=>l&&function zN(e){return"boolean"==typeof e}(l)?function eV(e,n,t,r){return $t(n).pipe($s(i=>hd(function nV(e,n){return null!==e&&n&&n(new CN(e)),He(!0)}(i.route.parent,r),function tV(e,n){return null!==e&&n&&n(new wN(e)),He(!0)}(i.route,r),function iV(e,n,t){const r=n[n.length-1],s=n.slice(0,n.length-1).reverse().map(o=>function GN(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(o)).filter(o=>null!==o).map(o=>XD(()=>He(o.guards.map(d=>{const g=fu(o.node)??t,y=Ba(d,g);return qs(function qN(e){return e&&pu(e.canActivateChild)}(y)?y.canActivateChild(r,e):g.runInContext(()=>y(r,e))).pipe(Ws())})).pipe(Ua())));return He(s).pipe(Ua())}(e,i.path,t),function rV(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return He(!0);const i=r.map(s=>XD(()=>{const o=fu(n)??t,l=Ba(s,o);return qs(function KN(e){return e&&pu(e.canActivate)}(l)?l.canActivate(n,e):o.runInContext(()=>l(n,e))).pipe(Ws())}));return He(i).pipe(Ua())}(e,i.route,t))),Ws(i=>!0!==i,!0))}(r,s,e,n):He(l)),je(l=>({...t,guardsResult:l})))})}(this.ngModule.injector,l=>this.triggerEvent(l)),nr(l=>{if(i.guardsResult=l.guardsResult,wo(l.guardsResult))throw MC(0,l.guardsResult);const d=new yN(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.triggerEvent(d)}),jr(l=>!!l.guardsResult||(this.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Gp(l=>{if(l.guards.canActivateChecks.length)return He(l).pipe(nr(d=>{const g=new _N(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(g)}),qi(d=>{let g=!1;return He(d).pipe(function SV(e,n){return Nt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return He(t);let s=0;return $t(i).pipe($s(o=>function AV(e,n,t,r){const i=e.routeConfig,s=e._resolve;return void 0!==i?.title&&!qC(i)&&(s[iu]=i.title),function MV(e,n,t,r){const i=function TV(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return He({});const s={};return $t(i).pipe(Nt(o=>function IV(e,n,t,r){const i=fu(n)??r,s=Ba(e,i);return qs(s.resolve?s.resolve(n,t):i.runInContext(()=>s(n,t)))}(e[o],n,t,r).pipe(Ws(),nr(l=>{s[o]=l}))),xp(1),function jP(e){return je(()=>e)}(s),Ks(o=>Bp(o)?En:ru(o)))}(s,e,n,r).pipe(je(o=>(e._resolvedData=o,e.data=wC(e,t).resolve,i&&qC(i)&&(e.data[iu]=i.title),null)))}(o.route,r,e,n)),nr(()=>s++),xp(1),Nt(o=>s===i.length?He(t):En))})}(this.paramsInheritanceStrategy,this.ngModule.injector),nr({next:()=>g=!0,complete:()=>{g||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",2))}}))}),nr(d=>{const g=new xN(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(g)}))}),Gp(l=>{const d=g=>{const y=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&y.push(this.configLoader.loadComponent(g.routeConfig).pipe(nr(b=>{g.component=b}),je(()=>{})));for(const b of g.children)y.push(...d(b));return y};return yp(d(l.targetSnapshot.root)).pipe(pd(),Oa(1))}),Gp(()=>this.afterPreactivation()),je(l=>{const d=function IN(e,n,t){const r=cu(e,n._root,t?t._root:void 0);return new CC(r,n)}(this.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:d}}),nr(l=>{this.currentUrlTree=l.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),this.routerState=l.targetRouterState,"deferred"===this.urlUpdateStrategy&&(l.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,l),this.browserUrlTree=l.urlAfterRedirects)}),((e,n,t)=>je(r=>(new UN(n,r.targetRouterState,r.currentRouterState,t).activate(e),r)))(this.rootContexts,this.routeReuseStrategy,l=>this.triggerEvent(l)),nr({next(){s=!0},complete(){s=!0}}),bp(()=>{s||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ks(l=>{if(o=!0,RC(l)){IC(l)||(this.navigated=!0,this.restoreHistory(i,!0));const d=new Dd(i.id,this.serializeUrl(i.extractedUrl),l.message,l.cancellationCode);if(r.next(d),IC(l)){const g=this.urlHandlingStrategy.merge(l.url,this.rawUrlTree),y={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||JC(i.source)};this.scheduleNavigation(g,"imperative",null,y,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const d=new xC(i.id,this.serializeUrl(i.extractedUrl),l,i.targetSnapshot??void 0);r.next(d);try{i.resolve(this.errorHandler(l))}catch(g){i.reject(g)}}return En}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=t.state?.navigationId?t.state:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(i.state=l)}const o=this.parseUrl(t.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Vp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:l,preserveFragment:d}=r,g=i||this.routerState.root,y=d?this.currentUrlTree.fragment:o;let b=null;switch(l){case"merge":b={...this.currentUrlTree.queryParams,...s};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=s||null}return null!==b&&(b=this.removeEmptyProps(b)),cN(g,this.currentUrlTree,t,b,y??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=wo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function GV(e){for(let n=0;n<e.length;n++){if(null==e[n])throw new Ee(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...BV}:!1===r?{...UV}:r,wo(t))return oC(this.currentUrlTree,t,i);const s=this.parseUrl(t);return oC(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new So(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let l,d,g;o?(l=o.resolve,d=o.reject,g=o.promise):g=new Promise((S,k)=>{l=S,d=k});const y=++this.navigationId;let b;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),b=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):b=0,this.setTransition({id:y,targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:l,reject:d,promise:g,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),g.catch(S=>Promise.reject(S))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const s=new Dd(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){hc()},e.\u0275prov=_e({token:e,factory:function(){return ZC()},providedIn:"root"}),e})();function JC(e){return"imperative"!==e}class eE{}let zV=(()=>{class e{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(jr(t=>t instanceof So),$s(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Oc(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,l=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(l,s.children??s._loadedRoutes))}return $t(i).pipe(tn())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):He(null);const s=i.pipe(Nt(o=>null===o?He(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?$t([s,this.loader.loadComponent(r)]).pipe(tn()):s})}}return e.\u0275fac=function(t){return new(t||e)(oe(Xn),oe(Ag),oe(Vs),oe(eE),oe($p))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Kp=new Te("");let tE=(()=>{class e{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof So&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bC&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new bC(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){hc()},e.\u0275prov=_e({token:e,factory:e.\u0275fac}),e})();function ja(e,n){return{\u0275kind:e,\u0275providers:n}}function qp(e){return[{provide:Hp,multi:!0,useValue:e}]}function rE(){const e=rn(Lr);return n=>{const t=e.get(jc);if(n!==t.components[0])return;const r=e.get(Xn),i=e.get(iE);1===e.get(Yp)&&r.initialNavigation(),e.get(sE,null,We.Optional)?.setUpPreloading(),e.get(Kp,null,We.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const iE=new Te("",{factory:()=>new $e}),Yp=new Te("",{providedIn:"root",factory:()=>1});const sE=new Te("");function YV(e){return ja(0,[{provide:sE,useExisting:zV},{provide:eE,useExisting:e}])}const oE=new Te("ROUTER_FORROOT_GUARD"),QV=[Gg,{provide:cC,useClass:Cp},{provide:Xn,useFactory:ZC},du,{provide:Ao,useFactory:function nE(e){return e.routerState.root},deps:[Xn]},$p];function XV(){return new xb("Router",Xn)}let Mo=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[QV,[],qp(t),{provide:oE,useFactory:tB,deps:[[Xn,new bl,new Dl]]},{provide:Fd,useValue:r||{}},r?.useHash?{provide:bo,useClass:tL}:{provide:bo,useClass:zb},{provide:Kp,useFactory:()=>{const e=rn(Xn),n=rn(y1),t=rn(Fd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new tE(e,n,t)}},r?.preloadingStrategy?YV(r.preloadingStrategy).\u0275providers:[],{provide:xb,multi:!0,useFactory:XV},r?.initialNavigation?nB(r):[],[{provide:aE,useFactory:rE},{provide:Sg,multi:!0,useExisting:aE}]]}}static forChild(t){return{ngModule:e,providers:[qp(t)]}}}return e.\u0275fac=function(t){return new(t||e)(oe(oE,8))},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[Pp]}),e})();function tB(e){return"guarded"}function nB(e){return["disabled"===e.initialNavigation?ja(3,[{provide:Vc,multi:!0,useFactory:()=>{const n=rn(Xn);return()=>{n.setUpLocationChangeListener()}}},{provide:Yp,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?ja(2,[{provide:Yp,useValue:0},{provide:Vc,multi:!0,deps:[Lr],useFactory:n=>{const t=n.get(JO,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(s=>{const o=n.get(Xn),l=n.get(iE);(function i(s){n.get(Xn).events.pipe(jr(l=>l instanceof So||l instanceof Dd||l instanceof xC),je(l=>l instanceof So||l instanceof Dd&&(0===l.code||1===l.code)&&null),jr(l=>null!==l),Oa(1)).subscribe(()=>{s()})})(()=>{s(!0),r=!0}),o.afterPreactivation=()=>(s(!0),r||l.closed?He(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const aE=new Te(""),iB=[{path:"",redirectTo:"a",pathMatch:"full"}];let lE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[Mo.forRoot(iB),Mo]}),e})();class Ys{constructor(n,t,r,i,s){this.name=n,this.code=t,this.lang=r,this.flag=i,this.image=s}}const sB=["addListener","removeListener"],oB=["addEventListener","removeEventListener"],aB=["on","off"];function Qp(e,n,t,r){if(ee(t)&&(r=t,t=void 0),r)return Qp(e,n,t).pipe(vp(r));const[i,s]=function cB(e){return ee(e.addEventListener)&&ee(e.removeEventListener)}(e)?oB.map(o=>l=>e[o](n,l,t)):function lB(e){return ee(e.addListener)&&ee(e.removeListener)}(e)?sB.map(uE(e,n)):function uB(e){return ee(e.on)&&ee(e.off)}(e)?aB.map(uE(e,n)):[];if(!i&&Le(e))return Nt(o=>Qp(o,n,t))(At(e));if(!i)throw new TypeError("Invalid event target");return new tt(o=>{const l=(...d)=>o.next(1<d.length?d:d[0]);return i(l),()=>s(l)})}function uE(e,n){return t=>r=>e[t](n,r)}function Gr(e){return Ue((n,t)=>{At(e).subscribe(vt(t,()=>t.complete(),j)),!t.closed&&n.subscribe(t)})}let Xp,Pd=(()=>{class e{constructor(){this.playingState=new $e,this.loading=new Dn(!0),this.videoEnded=new Dn(!1)}get loading$(){return this.loading.asObservable()}setLoading(t){this.loading.next(t)}play(){this.playingState.next(!0)}pause(){this.playingState.next(!1)}get playingState$(){return this.playingState.asObservable()}get videoEnded$(){return this.videoEnded.asObservable()}setVideoEnded(t){this.videoEnded.next(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Nd=(()=>{class e{constructor(t){this.videoService=t,this.list=new Dn([]),this.currentVideo=new Dn(""),this.shouldPlayNext=new Dn(!0)}setShouldPlayNext(t){this.shouldPlayNext.next(t)}get shouldPlayNext$(){return this.shouldPlayNext.asObservable()}get list$(){return this.list.asObservable()}get currentVideo$(){return this.currentVideo.asObservable()}setCurrentVideo(t){this.currentVideo.getValue()!==t&&(this.currentVideo.next(t),this.videoService.pause())}playNextVideo(){const t=this.list.getValue().findIndex(r=>this.currentVideo.getValue()===r.stream.url);this.setCurrentVideoByIndex(t+1)}setCurrentVideoByIndex(t){this.setCurrentVideo(this.list.getValue()[t].stream.url)}fetchList(t){console.log(t),this.list.next(t),this.setCurrentVideo(t[0].stream.url)}}return e.\u0275fac=function(t){return new(t||e)(oe(Pd))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();try{Xp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Xp=!1}let vu,Zp,To=(()=>{class e{constructor(t){this._platformId=t,this.isBrowser=this._platformId?Do(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Xp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(oe(oi))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Vd(e){return function dB(){if(null==vu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>vu=!0}))}finally{vu=vu||!1}return vu}()?e:!!e.capture}function dE(e){if(function fB(){if(null==Zp){const e=typeof document<"u"?document.head:null;Zp=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Zp}()){const n=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&n instanceof ShadowRoot)return n}return null}function yu(e){return e.composedPath?e.composedPath()[0]:e.target}class AB extends be{constructor(n,t){super()}schedule(n,t=0){return this}}const jd={setInterval(e,n,...t){const{delegate:r}=jd;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){const{delegate:n}=jd;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};class tm extends AB{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(n,t,r=0){return jd.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&jd.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(n,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let i,r=!1;try{this.work(n)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,H(r,this),null!=n&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}}const vE={now:()=>(vE.delegate||Date).now(),delegate:void 0};class _u{constructor(n,t=_u.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}}_u.now=vE.now;class nm extends _u{constructor(n,t=_u.now){super(n,t),this.actions=[],this._active=!1}flush(n){const{actions:t}=this;if(this._active)return void t.push(n);let r;this._active=!0;do{if(r=n.execute(n.state,n.delay))break}while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}}const rm=new nm(tm),MB=rm;function im(e,n=rm){return Ue((t,r)=>{let i=null,s=null,o=null;const l=()=>{if(i){i.unsubscribe(),i=null;const g=s;s=null,r.next(g)}};function d(){const g=o+e,y=n.now();if(y<g)return i=this.schedule(void 0,g-y),void r.add(i);l()}t.subscribe(vt(r,g=>{s=g,o=n.now(),i||(i=n.schedule(d,e),r.add(i))},()=>{l(),r.complete()},void 0,()=>{s=i=null}))})}function yE(e){return jr((n,t)=>e<=t)}function IB(e,n){return e===n}function On(e){return null!=e&&"false"!=`${e}`}function Qi(e,n=0){return function RB(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):n}function _E(e){return Array.isArray(e)?e:[e]}function Ha(e){return e instanceof st?e.nativeElement:e}const xE=new Set;let $a,FB=(()=>{class e{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):OB}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function kB(e){if(!xE.has(e))try{$a||($a=document.createElement("style"),$a.setAttribute("type","text/css"),document.head.appendChild($a)),$a.sheet&&($a.sheet.insertRule(`@media ${e} {body{ }}`,0),xE.add(e))}catch(n){console.error(n)}}(t),this._matchMedia(t)}}return e.\u0275fac=function(t){return new(t||e)(oe(To))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function OB(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let LB=(()=>{class e{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new $e}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return bE(_E(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=yp(bE(_E(t)).map(o=>this._registerQuery(o).observable));return s=hd(s.pipe(Oa(1)),s.pipe(yE(1),im(0))),s.pipe(je(o=>{const l={matches:!1,breakpoints:{}};return o.forEach(({matches:d,query:g})=>{l.matches=l.matches||d,l.breakpoints[g]=d}),l}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new tt(o=>{const l=d=>this._zone.run(()=>o.next(d));return r.addListener(l),()=>{r.removeListener(l)}}).pipe(gd(r),je(({matches:o})=>({query:t,matches:o})),Gr(this._destroySubject)),mql:r};return this._queries.set(t,s),s}}return e.\u0275fac=function(t){return new(t||e)(oe(FB),oe(Ht))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function bE(e){return e.map(n=>n.split(",")).reduce((n,t)=>n.concat(t)).map(n=>n.trim())}function wE(e){return 0===e.buttons||0===e.offsetX&&0===e.offsetY}function SE(e){const n=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!(!n||-1!==n.identifier||null!=n.radiusX&&1!==n.radiusX||null!=n.radiusY&&1!==n.radiusY)}const zB=new Te("cdk-input-modality-detector-options"),WB={ignoreKeys:[18,17,224,91,16]},za=Vd({passive:!0,capture:!0});let KB=(()=>{class e{constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new Dn(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(l=>l===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=yu(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wE(o)?"keyboard":"mouse"),this._mostRecentTarget=yu(o))},this._onTouchstart=o=>{SE(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=yu(o))},this._options={...WB,...s},this.modalityDetected=this._modality.pipe(yE(1)),this.modalityChanged=this.modalityDetected.pipe(function TB(e,n=Et){return e=e??IB,Ue((t,r)=>{let i,s=!0;t.subscribe(vt(r,o=>{const l=n(o);(s||!e(i,l))&&(s=!1,i=l,r.next(o))}))})}()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,za),i.addEventListener("mousedown",this._onMousedown,za),i.addEventListener("touchstart",this._onTouchstart,za)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,za),document.removeEventListener("mousedown",this._onMousedown,za),document.removeEventListener("touchstart",this._onTouchstart,za))}}return e.\u0275fac=function(t){return new(t||e)(oe(To),oe(Ht),oe(qt),oe(zB,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const YB=new Te("cdk-focus-monitor-default-options"),Gd=Vd({passive:!0,capture:!0});let sm=(()=>{class e{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new $e,this._rootNodeFocusAndBlurListener=l=>{for(let g=yu(l);g;g=g.parentElement)"focus"===l.type?this._onFocus(l,g):this._onBlur(l,g)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=Ha(t);if(!this._platform.isBrowser||1!==i.nodeType)return He(null);const s=dE(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const l={checkChildren:r,subject:new $e,rootNode:s};return this._elementInfo.set(i,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(t){const r=Ha(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Ha(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([l,d])=>this._originChanged(l,r,d)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=yu(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Gd),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Gd)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Gd),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Gd),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)(oe(Ht),oe(To),oe(KB),oe(qt,8),oe(YB,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ME="cdk-high-contrast-black-on-white",TE="cdk-high-contrast-white-on-black",om="cdk-high-contrast-active";let QB=(()=>{class e{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=rn(LB).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(om,ME,TE),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(om,ME):2===r&&t.add(om,TE)}}}return e.\u0275fac=function(t){return new(t||e)(oe(To),oe(qt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const XB=new Te("cdk-dir-doc",{providedIn:"root",factory:function ZB(){return rn(qt)}}),JB=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let am=(()=>{class e{constructor(t){if(this.value="ltr",this.change=new Pt,t){const i=t.documentElement?t.documentElement.dir:null;this.value=function e2(e){const n=e?.toLowerCase()||"";return"auto"===n&&typeof navigator<"u"&&navigator?.language?JB.test(navigator.language)?"rtl":"ltr":"rtl"===n?"rtl":"ltr"}((t.body?t.body.dir:null)||i||"ltr")}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(oe(XB,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),lm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({}),e})();const n2=new Te("mat-sanity-checks",{providedIn:"root",factory:function t2(){return!0}});let lr=(()=>{class e{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function hB(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return e.\u0275fac=function(t){return new(t||e)(oe(QB),oe(n2,8),oe(qt))},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lm,lm]}),e})();function um(e){return class extends e{constructor(...n){super(...n),this._disabled=!1}get disabled(){return this._disabled}set disabled(n){this._disabled=On(n)}}}function cm(e,n){return class extends e{constructor(...t){super(...t),this.defaultColor=n,this.color=n}get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function xu(e){return class extends e{constructor(...n){super(...n),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(n){this._disableRipple=On(n)}}}function FE(e,n=0){return class extends e{constructor(...t){super(...t),this._tabIndex=n,this.defaultTabIndex=n}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Qi(t):this.defaultTabIndex}}}let kE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=fe({type:e,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),e})();function bu(e,n,t){e.nativeElement.classList.toggle(n,t)}let LE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lr,lr]}),e})();class s2{constructor(n,t,r,i=!1){this._renderer=n,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const PE={enterDuration:225,exitDuration:150},dm=Vd({passive:!0}),NE=["mousedown","touchstart"],VE=["mouseup","mouseleave","touchend","touchcancel"];class a2{constructor(n,t,r,i){this._target=n,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Ha(r))}fadeInRipple(n,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...PE,...r.animation};r.centered&&(n=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function l2(e,n,t){const r=Math.max(Math.abs(e-t.left),Math.abs(e-t.right)),i=Math.max(Math.abs(n-t.top),Math.abs(n-t.bottom));return Math.sqrt(r*r+i*i)}(n,t,i),l=n-i.left,d=t-i.top,g=s.enterDuration,y=document.createElement("div");y.classList.add("mat-ripple-element"),y.style.left=l-o+"px",y.style.top=d-o+"px",y.style.height=2*o+"px",y.style.width=2*o+"px",null!=r.color&&(y.style.backgroundColor=r.color),y.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(y);const b=window.getComputedStyle(y),k=b.transitionDuration,U="none"===b.transitionProperty||"0s"===k||"0s, 0s"===k,Y=new s2(this,y,r,U);y.style.transform="scale3d(1, 1, 1)",Y.state=0,r.persistent||(this._mostRecentTransientRipple=Y);let re=null;return!U&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const J=()=>this._finishRippleTransition(Y),xe=()=>this._destroyRipple(Y);y.addEventListener("transitionend",J),y.addEventListener("transitioncancel",xe),re={onTransitionEnd:J,onTransitionCancel:xe}}),this._activeRipples.set(Y,re),(U||!g)&&this._finishRippleTransition(Y),Y}fadeOutRipple(n){if(2===n.state||3===n.state)return;const t=n.element,r={...PE,...n.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",n.state=2,(n._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(n)}fadeOutAll(){this._getActiveRipples().forEach(n=>n.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(n=>{n.config.persistent||n.fadeOut()})}setupTriggerEvents(n){const t=Ha(n);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(NE))}handleEvent(n){"mousedown"===n.type?this._onMousedown(n):"touchstart"===n.type?this._onTouchStart(n):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(VE),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(n){0===n.state?this._startFadeOutTransition(n):2===n.state&&this._destroyRipple(n)}_startFadeOutTransition(n){const t=n===this._mostRecentTransientRipple,{persistent:r}=n.config;n.state=1,!r&&(!t||!this._isPointerDown)&&n.fadeOut()}_destroyRipple(n){const t=this._activeRipples.get(n)??null;this._activeRipples.delete(n),this._activeRipples.size||(this._containerRect=null),n===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),n.state=3,null!==t&&(n.element.removeEventListener("transitionend",t.onTransitionEnd),n.element.removeEventListener("transitioncancel",t.onTransitionCancel)),n.element.remove()}_onMousedown(n){const t=wE(n),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(n.clientX,n.clientY,this._target.rippleConfig))}_onTouchStart(n){if(!this._target.rippleDisabled&&!SE(n)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=n.changedTouches;for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(n=>{!n.config.persistent&&(1===n.state||n.config.terminateOnPointerUp&&0===n.state)&&n.fadeOut()}))}_registerEvents(n){this._ngZone.runOutsideAngular(()=>{n.forEach(t=>{this._triggerElement.addEventListener(t,this,dm)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(NE.forEach(n=>{this._triggerElement.removeEventListener(n,this,dm)}),this._pointerUpEventsRegistered&&VE.forEach(n=>{this._triggerElement.removeEventListener(n,this,dm)}))}}const u2=new Te("mat-ripple-global-options");let fm=(()=>{class e{constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new a2(this,r,t,i)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(Ht),R(To),R(u2,8),R(Fa,8))},e.\u0275dir=fe({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,r){2&t&&Pr("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),BE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lr,lr]}),e})(),UE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lr]}),e})();const d2=["*",[["mat-card-footer"]]],f2=["*","mat-card-footer"];let h2=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=fe({type:e,selectors:[["","mat-card-image",""],["","matCardImage",""]],hostAttrs:[1,"mat-card-image"]}),e})(),g2=(()=>{class e{constructor(t){this._animationMode=t}}return e.\u0275fac=function(t){return new(t||e)(R(Fa,8))},e.\u0275cmp=xn({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,r){2&t&&Pr("_mat-animation-noopable","NoopAnimations"===r._animationMode)},exportAs:["matCard"],ngContentSelectors:f2,decls:2,vars:0,template:function(t,r){1&t&&(mo(d2),mi(0),mi(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),e})(),p2=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lr,lr]}),e})();function jE(e){for(let n in e){let t=e[n]??"";switch(n){case"display":e.display="flex"===t?["-webkit-flex","flex"]:"inline-flex"===t?["-webkit-inline-flex","inline-flex"]:t;break;case"align-items":case"align-self":case"align-content":case"flex":case"flex-basis":case"flex-flow":case"flex-grow":case"flex-shrink":case"flex-wrap":case"justify-content":e["-webkit-"+n]=t;break;case"flex-direction":e["-webkit-flex-direction"]=t,e["flex-direction"]=t;break;case"order":e.order=e["-webkit-"+n]=isNaN(+t)?"0":t}}return e}const hm="inline",Hd=["row","column","row-reverse","column-reverse"];function GE(e){let[n,t,r]=HE(e);return function v2(e,n=null,t=!1){return{display:t?"inline-flex":"flex","box-sizing":"border-box","flex-direction":e,"flex-wrap":n||null}}(n,t,r)}function HE(e){e=e?.toLowerCase()??"";let[n,t,r]=e.split(" ");return Hd.find(i=>i===n)||(n=Hd[0]),t===hm&&(t=r!==hm?r:"",r=hm),[n,m2(t),!!r]}function Du(e){let[n]=HE(e);return n.indexOf("row")>-1}function m2(e){if(e)switch(e.toLowerCase()){case"reverse":case"wrap-reverse":case"reverse-wrap":e="wrap-reverse";break;case"no":case"none":case"nowrap":e="nowrap";break;default:e="wrap"}return e}function _s(e,...n){if(null==e)throw TypeError("Cannot convert undefined or null to object");for(let t of n)if(null!=t)for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e}const _2={provide:Sg,useFactory:function y2(e,n){return()=>{if(Do(n)){const t=Array.from(e.querySelectorAll(`[class*=${$E}]`)),r=/\bflex-layout-.+?\b/g;t.forEach(i=>{i.classList.contains(`${$E}ssr`)&&i.parentNode?i.parentNode.removeChild(i):i.className.replace(r,"")})}}},deps:[qt,oi],multi:!0},$E="flex-layout-";let gm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({providers:[_2]}),e})();class Ro{constructor(n=!1,t="all",r="",i="",s=0){this.matches=n,this.mediaQuery=t,this.mqAlias=r,this.suffix=i,this.priority=s,this.property=""}clone(){return new Ro(this.matches,this.mediaQuery,this.mqAlias,this.suffix)}}let x2=(()=>{class e{constructor(){this.stylesheet=new Map}addStyleToElement(t,r,i){const s=this.stylesheet.get(t);s?s.set(r,i):this.stylesheet.set(t,new Map([[r,i]]))}clearStyles(){this.stylesheet.clear()}getStyleForElement(t,r){const i=this.stylesheet.get(t);let s="";if(i){const o=i.get(r);("number"==typeof o||"string"==typeof o)&&(s=o+"")}return s}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const pm={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},Ci=new Te("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>pm}),Wa=new Te("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),mm=new Te("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});function zE(e,n){return e=e?.clone()??new Ro,n&&(e.mqAlias=n.alias,e.mediaQuery=n.mediaQuery,e.suffix=n.suffix,e.priority=n.priority),e}class Mn{constructor(){this.shouldCache=!0}sideEffect(n,t,r){}}let un=(()=>{class e{constructor(t,r,i,s){this._serverStylesheet=t,this._serverModuleLoaded=r,this._platformId=i,this.layoutConfig=s}applyStyleToElement(t,r,i=null){let s={};"string"==typeof r&&(s[r]=i,r=s),s=this.layoutConfig.disableVendorPrefixes?r:jE(r),this._applyMultiValueStyleToElement(s,t)}applyStyleToElements(t,r=[]){const i=this.layoutConfig.disableVendorPrefixes?t:jE(t);r.forEach(s=>{this._applyMultiValueStyleToElement(i,s)})}getFlowDirection(t){const r="flex-direction";let i=this.lookupStyle(t,r);return[i||"row",this.lookupInlineStyle(t,r)||ka(this._platformId)&&this._serverModuleLoaded?i:""]}hasWrap(t){return"wrap"===this.lookupStyle(t,"flex-wrap")}lookupAttributeValue(t,r){return t.getAttribute(r)??""}lookupInlineStyle(t,r){return Do(this._platformId)?t.style.getPropertyValue(r):function b2(e,n){return WE(e)[n]??""}(t,r)}lookupStyle(t,r,i=!1){let s="";return t&&((s=this.lookupInlineStyle(t,r))||(Do(this._platformId)?i||(s=getComputedStyle(t).getPropertyValue(r)):this._serverModuleLoaded&&(s=this._serverStylesheet.getStyleForElement(t,r)))),s?s.trim():""}_applyMultiValueStyleToElement(t,r){Object.keys(t).sort().forEach(i=>{const s=t[i],o=Array.isArray(s)?s:[s];o.sort();for(let l of o)l=l?l+"":"",Do(this._platformId)||!this._serverModuleLoaded?Do(this._platformId)?r.style.setProperty(i,l):D2(r,i,l):this._serverStylesheet.addStyleToElement(r,i,l)})}}return e.\u0275fac=function(t){return new(t||e)(oe(x2),oe(Wa),oe(oi),oe(Ci))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function D2(e,n,t){n=n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();const r=WE(e);r[n]=t??"",function C2(e,n){let t="";for(const r in n)n[r]&&(t+=`${r}:${n[r]};`);e.setAttribute("style",t)}(e,r)}function WE(e){const n={},t=e.getAttribute("style");if(t){const r=t.split(/;+/g);for(let i=0;i<r.length;i++){const s=r[i].trim();if(s.length>0){const o=s.indexOf(":");if(-1===o)throw new Error(`Invalid CSS style: ${s}`);n[s.substr(0,o).trim()]=s.substr(o+1).trim()}}}return n}function Cu(e,n){return(n&&n.priority||0)-(e&&e.priority||0)}function E2(e,n){return(e.priority||0)-(n.priority||0)}let vm=(()=>{class e{constructor(t,r,i){this._zone=t,this._platformId=r,this._document=i,this.source=new Dn(new Ro(!0)),this.registry=new Map,this.pendingRemoveListenerFns=[],this._observable$=this.source.asObservable()}get activations(){const t=[];return this.registry.forEach((r,i)=>{r.matches&&t.push(i)}),t}isActive(t){return this.registry.get(t)?.matches??this.registerQuery(t).some(i=>i.matches)}observe(t,r=!1){if(t&&t.length){const i=this._observable$.pipe(jr(o=>!r||t.indexOf(o.mediaQuery)>-1));return As(new tt(o=>{const l=this.registerQuery(t);if(l.length){const d=l.pop();l.forEach(g=>{o.next(g)}),this.source.next(d)}o.complete()}),i)}return this._observable$}registerQuery(t){const r=Array.isArray(t)?t:[t],i=[];return function w2(e,n){const t=e.filter(r=>!KE[r]);if(t.length>0){const r=t.join(", ");try{const i=n.createElement("style");i.setAttribute("type","text/css"),i.styleSheet||i.appendChild(n.createTextNode(`\n/*\n  @angular/flex-layout - workaround for possible browser quirk with mediaQuery listeners\n  see http://bit.ly/2sd4HMP\n*/\n@media ${r} {.fx-query-test{ }}\n`)),n.head.appendChild(i),t.forEach(s=>KE[s]=i)}catch(i){console.error(i)}}}(r,this._document),r.forEach(s=>{const o=d=>{this._zone.run(()=>this.source.next(new Ro(d.matches,s)))};let l=this.registry.get(s);l||(l=this.buildMQL(s),l.addListener(o),this.pendingRemoveListenerFns.push(()=>l.removeListener(o)),this.registry.set(s,l)),l.matches&&i.push(new Ro(!0,s))}),i}ngOnDestroy(){let t;for(;t=this.pendingRemoveListenerFns.pop();)t()}buildMQL(t){return function A2(e,n){return n&&window.matchMedia("all").addListener?window.matchMedia(e):function S2(e){const n=new EventTarget;return n.matches="all"===e||""===e,n.media=e,n.addListener=()=>{},n.removeListener=()=>{},n.addEventListener=()=>{},n.dispatchEvent=()=>!1,n.onchange=null,n}(e)}(t,Do(this._platformId))}}return e.\u0275fac=function(t){return new(t||e)(oe(Ht),oe(oi),oe(qt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const KE={},M2=[{alias:"xs",mediaQuery:"screen and (min-width: 0px) and (max-width: 599.98px)",priority:1e3},{alias:"sm",mediaQuery:"screen and (min-width: 600px) and (max-width: 959.98px)",priority:900},{alias:"md",mediaQuery:"screen and (min-width: 960px) and (max-width: 1279.98px)",priority:800},{alias:"lg",mediaQuery:"screen and (min-width: 1280px) and (max-width: 1919.98px)",priority:700},{alias:"xl",mediaQuery:"screen and (min-width: 1920px) and (max-width: 4999.98px)",priority:600},{alias:"lt-sm",overlapping:!0,mediaQuery:"screen and (max-width: 599.98px)",priority:950},{alias:"lt-md",overlapping:!0,mediaQuery:"screen and (max-width: 959.98px)",priority:850},{alias:"lt-lg",overlapping:!0,mediaQuery:"screen and (max-width: 1279.98px)",priority:750},{alias:"lt-xl",overlapping:!0,priority:650,mediaQuery:"screen and (max-width: 1919.98px)"},{alias:"gt-xs",overlapping:!0,mediaQuery:"screen and (min-width: 600px)",priority:-950},{alias:"gt-sm",overlapping:!0,mediaQuery:"screen and (min-width: 960px)",priority:-850},{alias:"gt-md",overlapping:!0,mediaQuery:"screen and (min-width: 1280px)",priority:-750},{alias:"gt-lg",overlapping:!0,mediaQuery:"screen and (min-width: 1920px)",priority:-650}],qE="(orientation: portrait) and (max-width: 599.98px)",YE="(orientation: landscape) and (max-width: 959.98px)",QE="(orientation: portrait) and (min-width: 600px) and (max-width: 839.98px)",XE="(orientation: landscape) and (min-width: 960px) and (max-width: 1279.98px)",ZE="(orientation: portrait) and (min-width: 840px)",JE="(orientation: landscape) and (min-width: 1280px)",xs={HANDSET:`${qE}, ${YE}`,TABLET:`${QE} , ${XE}`,WEB:`${ZE}, ${JE} `,HANDSET_PORTRAIT:`${qE}`,TABLET_PORTRAIT:`${QE} `,WEB_PORTRAIT:`${ZE}`,HANDSET_LANDSCAPE:`${YE}`,TABLET_LANDSCAPE:`${XE}`,WEB_LANDSCAPE:`${JE}`},T2=[{alias:"handset",priority:2e3,mediaQuery:xs.HANDSET},{alias:"handset.landscape",priority:2e3,mediaQuery:xs.HANDSET_LANDSCAPE},{alias:"handset.portrait",priority:2e3,mediaQuery:xs.HANDSET_PORTRAIT},{alias:"tablet",priority:2100,mediaQuery:xs.TABLET},{alias:"tablet.landscape",priority:2100,mediaQuery:xs.TABLET_LANDSCAPE},{alias:"tablet.portrait",priority:2100,mediaQuery:xs.TABLET_PORTRAIT},{alias:"web",priority:2200,mediaQuery:xs.WEB,overlapping:!0},{alias:"web.landscape",priority:2200,mediaQuery:xs.WEB_LANDSCAPE,overlapping:!0},{alias:"web.portrait",priority:2200,mediaQuery:xs.WEB_PORTRAIT,overlapping:!0}],I2=/(\.|-|_)/g;function R2(e){let n=e.length>0?e.charAt(0):"",t=e.length>1?e.slice(1):"";return n.toUpperCase()+t}const L2=new Te("Token (@angular/flex-layout) Breakpoints",{providedIn:"root",factory:()=>{const e=rn(mm),n=rn(Ci),t=[].concat.apply([],(e||[]).map(i=>Array.isArray(i)?i:[i]));return function O2(e,n=[]){const t={};return e.forEach(r=>{t[r.alias]=r}),n.forEach(r=>{t[r.alias]?_s(t[r.alias],r):t[r.alias]=r}),function k2(e){return e.forEach(n=>{n.suffix||(n.suffix=function F2(e){return e.replace(I2,"|").split("|").map(R2).join("")}(n.alias),n.overlapping=!!n.overlapping)}),e}(Object.keys(t).map(r=>t[r]))}((n.disableDefaultBps?[]:M2).concat(n.addOrientationBps?T2:[]),t)}});let ym=(()=>{class e{constructor(t){this.findByMap=new Map,this.items=[...t].sort(E2)}findByAlias(t){return t?this.findWithPredicate(t,r=>r.alias===t):null}findByQuery(t){return this.findWithPredicate(t,r=>r.mediaQuery===t)}get overlappings(){return this.items.filter(t=>t.overlapping)}get aliases(){return this.items.map(t=>t.alias)}get suffixes(){return this.items.map(t=>t?.suffix??"")}findWithPredicate(t,r){let i=this.findByMap.get(t);return i||(i=this.items.find(r)??null,this.findByMap.set(t,i)),i??null}}return e.\u0275fac=function(t){return new(t||e)(oe(L2))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Ka="print",P2={alias:Ka,mediaQuery:Ka,priority:1e3};let N2=(()=>{class e{constructor(t,r,i){this.breakpoints=t,this.layoutConfig=r,this._document=i,this.registeredBeforeAfterPrintHooks=!1,this.isPrintingBeforeAfterEvent=!1,this.beforePrintEventListeners=[],this.afterPrintEventListeners=[],this.formerActivations=null,this.isPrinting=!1,this.queue=new V2,this.deactivations=[]}withPrintQuery(t){return[...t,Ka]}isPrintEvent(t){return t.mediaQuery.startsWith(Ka)}get printAlias(){return[...this.layoutConfig.printWithBreakpoints??[]]}get printBreakPoints(){return this.printAlias.map(t=>this.breakpoints.findByAlias(t)).filter(t=>null!==t)}getEventBreakpoints({mediaQuery:t}){const r=this.breakpoints.findByQuery(t);return(r?[...this.printBreakPoints,r]:this.printBreakPoints).sort(Cu)}updateEvent(t){let r=this.breakpoints.findByQuery(t.mediaQuery);return this.isPrintEvent(t)&&(r=this.getEventBreakpoints(t)[0],t.mediaQuery=r?.mediaQuery??""),zE(t,r)}registerBeforeAfterPrintHooks(t){if(!this._document.defaultView||this.registeredBeforeAfterPrintHooks)return;this.registeredBeforeAfterPrintHooks=!0;const r=()=>{this.isPrinting||(this.isPrintingBeforeAfterEvent=!0,this.startPrinting(t,this.getEventBreakpoints(new Ro(!0,Ka))),t.updateStyles())},i=()=>{this.isPrintingBeforeAfterEvent=!1,this.isPrinting&&(this.stopPrinting(t),t.updateStyles())};this._document.defaultView.addEventListener("beforeprint",r),this._document.defaultView.addEventListener("afterprint",i),this.beforePrintEventListeners.push(r),this.afterPrintEventListeners.push(i)}interceptEvents(t){return r=>{this.isPrintEvent(r)?r.matches&&!this.isPrinting?(this.startPrinting(t,this.getEventBreakpoints(r)),t.updateStyles()):!r.matches&&this.isPrinting&&!this.isPrintingBeforeAfterEvent&&(this.stopPrinting(t),t.updateStyles()):this.collectActivations(t,r)}}blockPropagation(){return t=>!(this.isPrinting||this.isPrintEvent(t))}startPrinting(t,r){this.isPrinting=!0,this.formerActivations=t.activatedBreakpoints,t.activatedBreakpoints=this.queue.addPrintBreakpoints(r)}stopPrinting(t){t.activatedBreakpoints=this.deactivations,this.deactivations=[],this.formerActivations=null,this.queue.clear(),this.isPrinting=!1}collectActivations(t,r){if(!this.isPrinting||this.isPrintingBeforeAfterEvent){if(!this.isPrintingBeforeAfterEvent)return void(this.deactivations=[]);if(!r.matches){const i=this.breakpoints.findByQuery(r.mediaQuery);if(i){const s=this.formerActivations&&this.formerActivations.includes(i),o=!this.formerActivations&&t.activatedBreakpoints.includes(i);(s||o)&&(this.deactivations.push(i),this.deactivations.sort(Cu))}}}}ngOnDestroy(){this._document.defaultView&&(this.beforePrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("beforeprint",t)),this.afterPrintEventListeners.forEach(t=>this._document.defaultView.removeEventListener("afterprint",t)))}}return e.\u0275fac=function(t){return new(t||e)(oe(ym),oe(Ci),oe(qt))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class V2{constructor(){this.printBreakpoints=[]}addPrintBreakpoints(n){return n.push(P2),n.sort(Cu),n.forEach(t=>this.addBreakpoint(t)),this.printBreakpoints}addBreakpoint(n){n&&void 0===this.printBreakpoints.find(r=>r.mediaQuery===n.mediaQuery)&&(this.printBreakpoints=function B2(e){return e?.mediaQuery.startsWith(Ka)??!1}(n)?[n,...this.printBreakpoints]:[...this.printBreakpoints,n])}clear(){this.printBreakpoints=[]}}let gn=(()=>{class e{constructor(t,r,i){this.matchMedia=t,this.breakpoints=r,this.hook=i,this._useFallbacks=!0,this._activatedBreakpoints=[],this.elementMap=new Map,this.elementKeyMap=new WeakMap,this.watcherMap=new WeakMap,this.updateMap=new WeakMap,this.clearMap=new WeakMap,this.subject=new $e,this.observeActivations()}get activatedAlias(){return this.activatedBreakpoints[0]?.alias??""}set activatedBreakpoints(t){this._activatedBreakpoints=[...t]}get activatedBreakpoints(){return[...this._activatedBreakpoints]}set useFallbacks(t){this._useFallbacks=t}onMediaChange(t){const r=this.findByQuery(t.mediaQuery);if(r){t=zE(t,r);const i=this.activatedBreakpoints.indexOf(r);t.matches&&-1===i?(this._activatedBreakpoints.push(r),this._activatedBreakpoints.sort(Cu),this.updateStyles()):!t.matches&&-1!==i&&(this._activatedBreakpoints.splice(i,1),this._activatedBreakpoints.sort(Cu),this.updateStyles())}}init(t,r,i,s,o=[]){ew(this.updateMap,t,r,i),ew(this.clearMap,t,r,s),this.buildElementKeyMap(t,r),this.watchExtraTriggers(t,r,o)}getValue(t,r,i){const s=this.elementMap.get(t);if(s){const o=void 0!==i?s.get(i):this.getActivatedValues(s,r);if(o)return o.get(r)}}hasValue(t,r){const i=this.elementMap.get(t);if(i){const s=this.getActivatedValues(i,r);if(s)return void 0!==s.get(r)||!1}return!1}setValue(t,r,i,s){let o=this.elementMap.get(t);if(o){const d=(o.get(s)??new Map).set(r,i);o.set(s,d),this.elementMap.set(t,o)}else o=(new Map).set(s,(new Map).set(r,i)),this.elementMap.set(t,o);const l=this.getValue(t,r);void 0!==l&&this.updateElement(t,r,l)}trackValue(t,r){return this.subject.asObservable().pipe(jr(i=>i.element===t&&i.key===r))}updateStyles(){this.elementMap.forEach((t,r)=>{const i=new Set(this.elementKeyMap.get(r));let s=this.getActivatedValues(t);s&&s.forEach((o,l)=>{this.updateElement(r,l,o),i.delete(l)}),i.forEach(o=>{if(s=this.getActivatedValues(t,o),s){const l=s.get(o);this.updateElement(r,o,l)}else this.clearElement(r,o)})})}clearElement(t,r){const i=this.clearMap.get(t);if(i){const s=i.get(r);s&&(s(),this.subject.next({element:t,key:r,value:""}))}}updateElement(t,r,i){const s=this.updateMap.get(t);if(s){const o=s.get(r);o&&(o(i),this.subject.next({element:t,key:r,value:i}))}}releaseElement(t){const r=this.watcherMap.get(t);r&&(r.forEach(s=>s.unsubscribe()),this.watcherMap.delete(t));const i=this.elementMap.get(t);i&&(i.forEach((s,o)=>i.delete(o)),this.elementMap.delete(t))}triggerUpdate(t,r){const i=this.elementMap.get(t);if(i){const s=this.getActivatedValues(i,r);s&&(r?this.updateElement(t,r,s.get(r)):s.forEach((o,l)=>this.updateElement(t,l,o)))}}buildElementKeyMap(t,r){let i=this.elementKeyMap.get(t);i||(i=new Set,this.elementKeyMap.set(t,i)),i.add(r)}watchExtraTriggers(t,r,i){if(i&&i.length){let s=this.watcherMap.get(t);if(s||(s=new Map,this.watcherMap.set(t,s)),!s.get(r)){const l=As(...i).subscribe(()=>{const d=this.getValue(t,r);this.updateElement(t,r,d)});s.set(r,l)}}}findByQuery(t){return this.breakpoints.findByQuery(t)}getActivatedValues(t,r){for(let s=0;s<this.activatedBreakpoints.length;s++){const l=t.get(this.activatedBreakpoints[s].alias);if(l&&(void 0===r||l.has(r)&&null!=l.get(r)))return l}if(!this._useFallbacks)return;const i=t.get("");return void 0===r||i&&i.has(r)?i:void 0}observeActivations(){const t=this.breakpoints.items.map(r=>r.mediaQuery);this.hook.registerBeforeAfterPrintHooks(this),this.matchMedia.observe(this.hook.withPrintQuery(t)).pipe(nr(this.hook.interceptEvents(this)),jr(this.hook.blockPropagation())).subscribe(this.onMediaChange.bind(this))}}return e.\u0275fac=function(t){return new(t||e)(oe(vm),oe(ym),oe(N2))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function ew(e,n,t,r){if(void 0!==r){const i=e.get(n)??new Map;i.set(t,r),e.set(n,i)}}let Cn=(()=>{class e{constructor(t,r,i,s){this.elementRef=t,this.styleBuilder=r,this.styler=i,this.marshal=s,this.DIRECTIVE_KEY="",this.inputs=[],this.mru={},this.destroySubject=new $e,this.styleCache=new Map}get parentElement(){return this.elementRef.nativeElement.parentElement}get nativeElement(){return this.elementRef.nativeElement}get activatedValue(){return this.marshal.getValue(this.nativeElement,this.DIRECTIVE_KEY)}set activatedValue(t){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,this.marshal.activatedAlias)}ngOnChanges(t){Object.keys(t).forEach(r=>{if(-1!==this.inputs.indexOf(r)){const i=r.split(".").slice(1).join(".");this.setValue(t[r].currentValue,i)}})}ngOnDestroy(){this.destroySubject.next(),this.destroySubject.complete(),this.marshal.releaseElement(this.nativeElement)}init(t=[]){this.marshal.init(this.elementRef.nativeElement,this.DIRECTIVE_KEY,this.updateWithValue.bind(this),this.clearStyles.bind(this),t)}addStyles(t,r){const i=this.styleBuilder,s=i.shouldCache;let o=this.styleCache.get(t);(!o||!s)&&(o=i.buildStyles(t,r),s&&this.styleCache.set(t,o)),this.mru={...o},this.applyStyleToElement(o),i.sideEffect(t,o,r)}clearStyles(){Object.keys(this.mru).forEach(t=>{this.mru[t]=""}),this.applyStyleToElement(this.mru),this.mru={},this.currentValue=void 0}triggerUpdate(){this.marshal.triggerUpdate(this.nativeElement,this.DIRECTIVE_KEY)}getFlexFlowDirection(t,r=!1){if(t){const[i,s]=this.styler.getFlowDirection(t);if(!s&&r){const o=GE(i);this.styler.applyStyleToElements(o,[t])}return i.trim()}return"row"}hasWrap(t){return this.styler.hasWrap(t)}applyStyleToElement(t,r,i=this.nativeElement){this.styler.applyStyleToElement(i,t,r)}setValue(t,r){this.marshal.setValue(this.nativeElement,this.DIRECTIVE_KEY,t,r)}updateWithValue(t){this.currentValue!==t&&(this.addStyles(t),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(Mn),R(un),R(gn))},e.\u0275dir=fe({type:e,features:[De]}),e})();function tw(e,n="1",t="1"){let r=[n,t,e],i=e.indexOf("calc");if(i>0){r[2]=nw(e.substring(i).trim());let s=e.substr(0,i).trim().split(" ");2==s.length&&(r[0]=s[0],r[1]=s[1])}else if(0==i)r[2]=nw(e.trim());else{let s=e.split(" ");r=3===s.length?s:[n,t,e]}return r}function nw(e){return e.replace(/[\s]/g,"").replace(/[\/\*\+\-]/g," $& ")}function $d(e,n){if(void 0===n)return e;const t=r=>{const i=+r.slice(0,-"x".length);return e.endsWith("x")&&!isNaN(i)?`${i*n.value}${n.unit}`:e};return e.includes(" ")?e.split(" ").map(t).join(" "):t(e)}EventTarget;let G2=(()=>{class e extends Mn{buildStyles(t,{display:r}){const i=GE(t);return{...i,display:"none"===r?r:i.display}}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Be(e)))(r||e)}}(),e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const H2=["fxLayout","fxLayout.xs","fxLayout.sm","fxLayout.md","fxLayout.lg","fxLayout.xl","fxLayout.lt-sm","fxLayout.lt-md","fxLayout.lt-lg","fxLayout.lt-xl","fxLayout.gt-xs","fxLayout.gt-sm","fxLayout.gt-md","fxLayout.gt-lg"];let $2=(()=>{class e extends Cn{constructor(t,r,i,s,o){super(t,i,r,s),this._config=o,this.DIRECTIVE_KEY="layout",this.init()}updateWithValue(t){const i=this._config.detectLayoutDisplay?this.styler.lookupStyle(this.nativeElement,"display"):"";this.styleCache=sw.get(i)??new Map,sw.set(i,this.styleCache),this.currentValue!==t&&(this.addStyles(t,{display:i}),this.currentValue=t)}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(un),R(G2),R(gn),R(Ci))},e.\u0275dir=fe({type:e,features:[Se]}),e})(),iw=(()=>{class e extends $2{constructor(){super(...arguments),this.inputs=H2}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Be(e)))(r||e)}}(),e.\u0275dir=fe({type:e,selectors:[["","fxLayout",""],["","fxLayout.xs",""],["","fxLayout.sm",""],["","fxLayout.md",""],["","fxLayout.lg",""],["","fxLayout.xl",""],["","fxLayout.lt-sm",""],["","fxLayout.lt-md",""],["","fxLayout.lt-lg",""],["","fxLayout.lt-xl",""],["","fxLayout.gt-xs",""],["","fxLayout.gt-sm",""],["","fxLayout.gt-md",""],["","fxLayout.gt-lg",""]],inputs:{fxLayout:"fxLayout","fxLayout.xs":"fxLayout.xs","fxLayout.sm":"fxLayout.sm","fxLayout.md":"fxLayout.md","fxLayout.lg":"fxLayout.lg","fxLayout.xl":"fxLayout.xl","fxLayout.lt-sm":"fxLayout.lt-sm","fxLayout.lt-md":"fxLayout.lt-md","fxLayout.lt-lg":"fxLayout.lt-lg","fxLayout.lt-xl":"fxLayout.lt-xl","fxLayout.gt-xs":"fxLayout.gt-xs","fxLayout.gt-sm":"fxLayout.gt-sm","fxLayout.gt-md":"fxLayout.gt-md","fxLayout.gt-lg":"fxLayout.gt-lg"},features:[Se]}),e})();const sw=new Map,ow={"margin-left":null,"margin-right":null,"margin-top":null,"margin-bottom":null};let z2=(()=>{class e extends Mn{constructor(t,r){super(),this._styler=t,this._config=r}buildStyles(t,r){return t.endsWith(zd)?function J2(e,n){const[t,r]=e.split(" "),s=g=>`-${g}`;let o="0px",l=s(r??t),d="0px";return"rtl"===n?d=s(t):o=s(t),{margin:`0px ${o} ${l} ${d}`}}(t=$d(t=t.slice(0,t.indexOf(zd)),this._config.multiplier),r.directionality):{}}sideEffect(t,r,i){const s=i.items;if(t.endsWith(zd)){const o=function Z2(e,n){const[t,r]=e.split(" ");let s="0px",l="0px";return"rtl"===n?l=t:s=t,{padding:`0px ${s} ${r??t} ${l}`}}(t=$d(t=t.slice(0,t.indexOf(zd)),this._config.multiplier),i.directionality);this._styler.applyStyleToElements(o,i.items)}else{t=$d(t,this._config.multiplier),t=this.addFallbackUnit(t);const o=s.pop(),l=function eU(e,n){const t=lw(n.directionality,n.layout),r={...ow};return r[t]=e,r}(t,i);this._styler.applyStyleToElements(l,s),this._styler.applyStyleToElements(ow,[o])}}addFallbackUnit(t){return isNaN(+t)?t:`${t}${this._config.defaultUnit}`}}return e.\u0275fac=function(t){return new(t||e)(oe(un),oe(Ci))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const W2=["fxLayoutGap","fxLayoutGap.xs","fxLayoutGap.sm","fxLayoutGap.md","fxLayoutGap.lg","fxLayoutGap.xl","fxLayoutGap.lt-sm","fxLayoutGap.lt-md","fxLayoutGap.lt-lg","fxLayoutGap.lt-xl","fxLayoutGap.gt-xs","fxLayoutGap.gt-sm","fxLayoutGap.gt-md","fxLayoutGap.gt-lg"];let K2=(()=>{class e extends Cn{constructor(t,r,i,s,o,l){super(t,o,s,l),this.zone=r,this.directionality=i,this.styleUtils=s,this.layout="row",this.DIRECTIVE_KEY="layout-gap",this.observerSubject=new $e;const d=[this.directionality.change,this.observerSubject.asObservable()];this.init(d),this.marshal.trackValue(this.nativeElement,"layout").pipe(Gr(this.destroySubject)).subscribe(this.onLayoutChange.bind(this))}get childrenNodes(){const t=this.nativeElement.children,r=[];for(let i=t.length;i--;)r[i]=t[i];return r}ngAfterContentInit(){this.buildChildObservable(),this.triggerUpdate()}ngOnDestroy(){super.ngOnDestroy(),this.observer&&this.observer.disconnect()}onLayoutChange(t){const i=t.value.split(" ");this.layout=i[0],Hd.find(s=>s===this.layout)||(this.layout="row"),this.triggerUpdate()}updateWithValue(t){const r=this.childrenNodes.filter(i=>1===i.nodeType&&this.willDisplay(i)).sort((i,s)=>{const o=+this.styler.lookupStyle(i,"order"),l=+this.styler.lookupStyle(s,"order");return isNaN(o)||isNaN(l)||o===l?0:o>l?1:-1});if(r.length>0){const i=this.directionality.value,s=this.layout;"row"===s&&"rtl"===i?this.styleCache=q2:"row"===s&&"rtl"!==i?this.styleCache=Q2:"column"===s&&"rtl"===i?this.styleCache=Y2:"column"===s&&"rtl"!==i&&(this.styleCache=X2),this.addStyles(t,{directionality:i,items:r,layout:s})}}clearStyles(){const t=Object.keys(this.mru).length>0,r=t?"padding":lw(this.directionality.value,this.layout);t&&super.clearStyles(),this.styleUtils.applyStyleToElements({[r]:""},this.childrenNodes)}willDisplay(t){const r=this.marshal.getValue(t,"show-hide");return!0===r||void 0===r&&"none"!==this.styleUtils.lookupStyle(t,"display")}buildChildObservable(){this.zone.runOutsideAngular(()=>{typeof MutationObserver<"u"&&(this.observer=new MutationObserver(t=>{t.some(i=>i.addedNodes&&i.addedNodes.length>0||i.removedNodes&&i.removedNodes.length>0)&&this.observerSubject.next()}),this.observer.observe(this.nativeElement,{childList:!0}))})}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(Ht),R(am),R(un),R(z2),R(gn))},e.\u0275dir=fe({type:e,features:[Se]}),e})(),aw=(()=>{class e extends K2{constructor(){super(...arguments),this.inputs=W2}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Be(e)))(r||e)}}(),e.\u0275dir=fe({type:e,selectors:[["","fxLayoutGap",""],["","fxLayoutGap.xs",""],["","fxLayoutGap.sm",""],["","fxLayoutGap.md",""],["","fxLayoutGap.lg",""],["","fxLayoutGap.xl",""],["","fxLayoutGap.lt-sm",""],["","fxLayoutGap.lt-md",""],["","fxLayoutGap.lt-lg",""],["","fxLayoutGap.lt-xl",""],["","fxLayoutGap.gt-xs",""],["","fxLayoutGap.gt-sm",""],["","fxLayoutGap.gt-md",""],["","fxLayoutGap.gt-lg",""]],inputs:{fxLayoutGap:"fxLayoutGap","fxLayoutGap.xs":"fxLayoutGap.xs","fxLayoutGap.sm":"fxLayoutGap.sm","fxLayoutGap.md":"fxLayoutGap.md","fxLayoutGap.lg":"fxLayoutGap.lg","fxLayoutGap.xl":"fxLayoutGap.xl","fxLayoutGap.lt-sm":"fxLayoutGap.lt-sm","fxLayoutGap.lt-md":"fxLayoutGap.lt-md","fxLayoutGap.lt-lg":"fxLayoutGap.lt-lg","fxLayoutGap.lt-xl":"fxLayoutGap.lt-xl","fxLayoutGap.gt-xs":"fxLayoutGap.gt-xs","fxLayoutGap.gt-sm":"fxLayoutGap.gt-sm","fxLayoutGap.gt-md":"fxLayoutGap.gt-md","fxLayoutGap.gt-lg":"fxLayoutGap.gt-lg"},features:[Se]}),e})();const q2=new Map,Y2=new Map,Q2=new Map,X2=new Map,zd=" grid";function lw(e,n){switch(n){case"column":return"margin-bottom";case"column-reverse":return"margin-top";case"row":default:return"rtl"===e?"margin-left":"margin-right";case"row-reverse":return"rtl"===e?"margin-right":"margin-left"}}let tU=(()=>{class e extends Mn{constructor(t){super(),this.layoutConfig=t}buildStyles(t,r){let[i,s,...o]=t.split(" "),l=o.join(" ");const d=r.direction.indexOf("column")>-1?"column":"row",g=Du(d)?"max-width":"max-height",y=Du(d)?"min-width":"min-height",b=String(l).indexOf("calc")>-1,S=b||"auto"===l,k=String(l).indexOf("%")>-1&&!b,U=String(l).indexOf("px")>-1||String(l).indexOf("rem")>-1||String(l).indexOf("em")>-1||String(l).indexOf("vw")>-1||String(l).indexOf("vh")>-1;let Y=b||U;i="0"==i?0:i,s="0"==s?0:s;const re=!i&&!s;let J={};const xe={"max-width":null,"max-height":null,"min-width":null,"min-height":null};switch(l||""){case"":const te=!1!==this.layoutConfig.useColumnBasisZero;l="row"===d?"0%":te?"0.000000001px":"auto";break;case"initial":case"nogrow":i=0,l="auto";break;case"grow":l="100%";break;case"noshrink":s=0,l="auto";break;case"auto":break;case"none":i=0,s=0,l="auto";break;default:!Y&&!k&&!isNaN(l)&&(l+="%"),"0%"===l&&(Y=!0),"0px"===l&&(l="0%"),J=_s(xe,b?{"flex-grow":i,"flex-shrink":s,"flex-basis":Y?l:"100%"}:{flex:`${i} ${s} ${Y?l:"100%"}`})}return J.flex||J["flex-grow"]||(J=_s(xe,b?{"flex-grow":i,"flex-shrink":s,"flex-basis":l}:{flex:`${i} ${s} ${l}`})),"0%"!==l&&"0px"!==l&&"0.000000001px"!==l&&"auto"!==l&&(J[y]=re||Y&&i?l:null,J[g]=re||!S&&s?l:null),J[y]||J[g]?r.hasWrap&&(J[b?"flex-basis":"flex"]=J[g]?b?J[g]:`${i} ${s} ${J[g]}`:b?J[y]:`${i} ${s} ${J[y]}`):J=_s(xe,b?{"flex-grow":i,"flex-shrink":s,"flex-basis":l}:{flex:`${i} ${s} ${l}`}),_s(J,{"box-sizing":"border-box"})}}return e.\u0275fac=function(t){return new(t||e)(oe(Ci))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const nU=["fxFlex","fxFlex.xs","fxFlex.sm","fxFlex.md","fxFlex.lg","fxFlex.xl","fxFlex.lt-sm","fxFlex.lt-md","fxFlex.lt-lg","fxFlex.lt-xl","fxFlex.gt-xs","fxFlex.gt-sm","fxFlex.gt-md","fxFlex.gt-lg"];let rU=(()=>{class e extends Cn{constructor(t,r,i,s,o){super(t,s,r,o),this.layoutConfig=i,this.marshal=o,this.DIRECTIVE_KEY="flex",this.direction=void 0,this.wrap=void 0,this.flexGrow="1",this.flexShrink="1",this.init()}get shrink(){return this.flexShrink}set shrink(t){this.flexShrink=t||"1",this.triggerReflow()}get grow(){return this.flexGrow}set grow(t){this.flexGrow=t||"1",this.triggerReflow()}ngOnInit(){this.parentElement&&(this.marshal.trackValue(this.parentElement,"layout").pipe(Gr(this.destroySubject)).subscribe(this.onLayoutChange.bind(this)),this.marshal.trackValue(this.nativeElement,"layout-align").pipe(Gr(this.destroySubject)).subscribe(this.triggerReflow.bind(this)))}onLayoutChange(t){const i=t.value.split(" ");this.direction=i[0],this.wrap=void 0!==i[1]&&"wrap"===i[1],this.triggerUpdate()}updateWithValue(t){void 0===this.direction&&(this.direction=this.getFlexFlowDirection(this.parentElement,!1!==this.layoutConfig.addFlexToParent)),void 0===this.wrap&&(this.wrap=this.hasWrap(this.parentElement));const i=this.direction,s=i.startsWith("row"),o=this.wrap;s&&o?this.styleCache=oU:s&&!o?this.styleCache=iU:!s&&o?this.styleCache=aU:!s&&!o&&(this.styleCache=sU);const d=tw(String(t).replace(";",""),this.flexGrow,this.flexShrink);this.addStyles(d.join(" "),{direction:i,hasWrap:o})}triggerReflow(){const t=this.activatedValue;if(void 0!==t){const r=tw(t+"",this.flexGrow,this.flexShrink);this.marshal.updateElement(this.nativeElement,this.DIRECTIVE_KEY,r.join(" "))}}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(un),R(Ci),R(tU),R(gn))},e.\u0275dir=fe({type:e,inputs:{shrink:["fxShrink","shrink"],grow:["fxGrow","grow"]},features:[Se]}),e})(),uw=(()=>{class e extends rU{constructor(){super(...arguments),this.inputs=nU}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Be(e)))(r||e)}}(),e.\u0275dir=fe({type:e,selectors:[["","fxFlex",""],["","fxFlex.xs",""],["","fxFlex.sm",""],["","fxFlex.md",""],["","fxFlex.lg",""],["","fxFlex.xl",""],["","fxFlex.lt-sm",""],["","fxFlex.lt-md",""],["","fxFlex.lt-lg",""],["","fxFlex.lt-xl",""],["","fxFlex.gt-xs",""],["","fxFlex.gt-sm",""],["","fxFlex.gt-md",""],["","fxFlex.gt-lg",""]],inputs:{fxFlex:"fxFlex","fxFlex.xs":"fxFlex.xs","fxFlex.sm":"fxFlex.sm","fxFlex.md":"fxFlex.md","fxFlex.lg":"fxFlex.lg","fxFlex.xl":"fxFlex.xl","fxFlex.lt-sm":"fxFlex.lt-sm","fxFlex.lt-md":"fxFlex.lt-md","fxFlex.lt-lg":"fxFlex.lt-lg","fxFlex.lt-xl":"fxFlex.lt-xl","fxFlex.gt-xs":"fxFlex.gt-xs","fxFlex.gt-sm":"fxFlex.gt-sm","fxFlex.gt-md":"fxFlex.gt-md","fxFlex.gt-lg":"fxFlex.gt-lg"},features:[Se]}),e})();const iU=new Map,sU=new Map,oU=new Map,aU=new Map;let cw=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[gm,lm]}),e})(),dw=(()=>{class e{constructor(){this.videoProgress=new Dn(0),this.videoDuration=new Dn(0),this.currentTime=new Dn(0),this.ignore=new Dn(!1)}setVideoDuration(t){this.videoDuration.next(t)}get videoDuration$(){return this.videoDuration.asObservable()}setVideoProgress(t){this.videoProgress.next(t)}get videoProgress$(){return this.videoProgress.asObservable()}setCurrentTime(t){this.currentTime.next(t)}get currentTime$(){return this.currentTime.asObservable()}setIgnore(t){this.ignore.next(t)}get ignore$(){return this.ignore.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),_m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=xn({type:e,selectors:[["app-control"]],inputs:{icon:"icon",title:"title"},decls:3,vars:2,consts:[[1,"button",3,"title"],[1,"material-icons"]],template:function(t,r){1&t&&(ht(0,"button",0)(1,"i",1),Nr(2),gt()()),2&t&&(Gt("title",r.title),jt(2),Ac(r.icon))},styles:[".button[_ngcontent-%COMP%]{border:none;background-color:transparent;min-width:3rem;min-height:3rem;cursor:pointer}.button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem}"]}),e})(),fw=(()=>{class e{constructor(){this.volume=new Dn(1)}setVolumeValue(t){this.volume.next(t)}get volumeValue$(){return this.volume.asObservable()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const ei=new Te("NgValueAccessor");let nS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({}),e})(),jj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[nS]}),e})(),Mu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[jj]}),e})();const Hj=["sliderWrapper"],ci=Vd({passive:!1}),qj={provide:ei,useExisting:Tt(()=>_S),multi:!0};class Yj{}const Qj=FE(cm(um(class{constructor(e){this._elementRef=e}}),"accent"));let _S=(()=>{class e extends Qj{constructor(t,r,i,s,o,l,d,g){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this._dir=s,this._ngZone=l,this._animationMode=g,this._invert=!1,this._max=100,this._min=0,this._step=1,this._thumbLabel=!1,this._tickInterval=0,this._value=null,this._vertical=!1,this.change=new Pt,this.input=new Pt,this.valueChange=new Pt,this.onTouched=()=>{},this._percent=0,this._isSliding=null,this._isActive=!1,this._tickIntervalPercent=0,this._sliderDimensions=null,this._controlValueAccessorChangeFn=()=>{},this._dirChangeSubscription=be.EMPTY,this._pointerDown=y=>{this.disabled||this._isSliding||!Tu(y)&&0!==y.button||this._ngZone.run(()=>{this._touchId=Tu(y)?function Xj(e,n){for(let t=0;t<e.touches.length;t++){const r=e.touches[t].target;if(n===r||n.contains(r))return e.touches[t].identifier}}(y,this._elementRef.nativeElement):void 0;const b=bS(y,this._touchId);if(b){const S=this.value;this._isSliding="pointer",this._lastPointerEvent=y,this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(y),this._focusHostElement(),this._updateValueFromPosition(b),this._valueOnSlideStart=S,y.cancelable&&y.preventDefault(),S!=this.value&&this._emitInputEvent()}})},this._pointerMove=y=>{if("pointer"===this._isSliding){const b=bS(y,this._touchId);if(b){y.cancelable&&y.preventDefault();const S=this.value;this._lastPointerEvent=y,this._updateValueFromPosition(b),S!=this.value&&this._emitInputEvent()}}},this._pointerUp=y=>{"pointer"===this._isSliding&&(!Tu(y)||"number"!=typeof this._touchId||jm(y.changedTouches,this._touchId))&&(y.cancelable&&y.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._valueOnSlideStart!=this.value&&!this.disabled&&this._emitChangeEvent(),this._valueOnSlideStart=this._lastPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=d,this.tabIndex=parseInt(o)||0,l.runOutsideAngular(()=>{const y=t.nativeElement;y.addEventListener("mousedown",this._pointerDown,ci),y.addEventListener("touchstart",this._pointerDown,ci)})}get invert(){return this._invert}set invert(t){this._invert=On(t)}get max(){return this._max}set max(t){this._max=Qi(t,this._max),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get min(){return this._min}set min(t){this._min=Qi(t,this._min),this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}get step(){return this._step}set step(t){this._step=Qi(t,this._step),this._step%1!=0&&(this._roundToDecimal=this._step.toString().split(".").pop().length),this._changeDetectorRef.markForCheck()}get thumbLabel(){return this._thumbLabel}set thumbLabel(t){this._thumbLabel=On(t)}get tickInterval(){return this._tickInterval}set tickInterval(t){this._tickInterval="auto"===t?"auto":"number"==typeof t||"string"==typeof t?Qi(t,this._tickInterval):0}get value(){return null===this._value&&(this.value=this._min),this._value}set value(t){if(t!==this._value){let r=Qi(t,0);this._roundToDecimal&&r!==this.min&&r!==this.max&&(r=parseFloat(r.toFixed(this._roundToDecimal))),this._value=r,this._percent=this._calculatePercentage(this._value),this._changeDetectorRef.markForCheck()}}get vertical(){return this._vertical}set vertical(t){this._vertical=On(t)}get displayValue(){return this.displayWith?this.displayWith(this.value):this._roundToDecimal&&this.value&&this.value%1!=0?this.value.toFixed(this._roundToDecimal):this.value||0}focus(t){this._focusHostElement(t)}blur(){this._blurHostElement()}get percent(){return this._clamp(this._percent)}_shouldInvertAxis(){return this.vertical?!this.invert:this.invert}_isMinValue(){return 0===this.percent}_getThumbGap(){return this.disabled?7:this._isMinValue()&&!this.thumbLabel?this._isActive?10:7:0}_getTrackBackgroundStyles(){const r=this.vertical?`1, ${1-this.percent}, 1`:1-this.percent+", 1, 1";return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"-":""}${this._getThumbGap()}px) scale3d(${r})`}}_getTrackFillStyles(){const t=this.percent,i=this.vertical?`1, ${t}, 1`:`${t}, 1, 1`;return{transform:`translate${this.vertical?"Y":"X"}(${this._shouldInvertMouseCoords()?"":"-"}${this._getThumbGap()}px) scale3d(${i})`,display:0===t?"none":""}}_getTicksContainerStyles(){return{transform:`translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"-":""}${this._tickIntervalPercent/2*100}%)`}}_getTicksStyles(){let t=100*this._tickIntervalPercent,l={backgroundSize:this.vertical?`2px ${t}%`:`${t}% 2px`,transform:`translateZ(0) translate${this.vertical?"Y":"X"}(${this.vertical||"rtl"!=this._getDirection()?"":"-"}${t/2}%)${this.vertical||"rtl"!=this._getDirection()?"":" rotate(180deg)"}`};if(this._isMinValue()&&this._getThumbGap()){const d=this._shouldInvertAxis();let g;g=this.vertical?d?"Bottom":"Top":d?"Right":"Left",l[`padding${g}`]=`${this._getThumbGap()}px`}return l}_getThumbContainerStyles(){const t=this._shouldInvertAxis();return{transform:`translate${this.vertical?"Y":"X"}(-${100*(("rtl"!=this._getDirection()||this.vertical?t:!t)?this.percent:1-this.percent)}%)`}}_shouldInvertMouseCoords(){const t=this._shouldInvertAxis();return"rtl"!=this._getDirection()||this.vertical?t:!t}_getDirection(){return this._dir&&"rtl"==this._dir.value?"rtl":"ltr"}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{this._isActive=!!t&&"keyboard"!==t,this._changeDetectorRef.detectChanges()}),this._dir&&(this._dirChangeSubscription=this._dir.change.subscribe(()=>{this._changeDetectorRef.markForCheck()}))}ngOnDestroy(){const t=this._elementRef.nativeElement;t.removeEventListener("mousedown",this._pointerDown,ci),t.removeEventListener("touchstart",this._pointerDown,ci),this._lastPointerEvent=null,this._removeGlobalEvents(),this._focusMonitor.stopMonitoring(this._elementRef),this._dirChangeSubscription.unsubscribe()}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent())}_onFocus(){this._sliderDimensions=this._getSliderDimensions(),this._updateTickIntervalPercent()}_onBlur(){this.onTouched()}_onKeydown(t){if(this.disabled||function Ud(e,...n){return n.length?n.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}(t)||this._isSliding&&"keyboard"!==this._isSliding)return;const r=this.value;switch(t.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment("rtl"==this._getDirection()?1:-1);break;case 38:this._increment(1);break;case 39:this._increment("rtl"==this._getDirection()?-1:1);break;case 40:this._increment(-1);break;default:return}r!=this.value&&(this._emitInputEvent(),this._emitChangeEvent()),this._isSliding="keyboard",t.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._isSliding=null)}_getWindow(){return this._document.defaultView||window}_bindGlobalEvents(t){const r=this._document,i=Tu(t),o=i?"touchend":"mouseup";r.addEventListener(i?"touchmove":"mousemove",this._pointerMove,ci),r.addEventListener(o,this._pointerUp,ci),i&&r.addEventListener("touchcancel",this._pointerUp,ci);const l=this._getWindow();typeof l<"u"&&l&&l.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const t=this._document;t.removeEventListener("mousemove",this._pointerMove,ci),t.removeEventListener("mouseup",this._pointerUp,ci),t.removeEventListener("touchmove",this._pointerMove,ci),t.removeEventListener("touchend",this._pointerUp,ci),t.removeEventListener("touchcancel",this._pointerUp,ci);const r=this._getWindow();typeof r<"u"&&r&&r.removeEventListener("blur",this._windowBlur)}_increment(t){const r=this._clamp(this.value||0,this.min,this.max);this.value=this._clamp(r+this.step*t,this.min,this.max)}_updateValueFromPosition(t){if(!this._sliderDimensions)return;let o=this._clamp(((this.vertical?t.y:t.x)-(this.vertical?this._sliderDimensions.top:this._sliderDimensions.left))/(this.vertical?this._sliderDimensions.height:this._sliderDimensions.width));if(this._shouldInvertMouseCoords()&&(o=1-o),0===o)this.value=this.min;else if(1===o)this.value=this.max;else{const l=this._calculateValue(o),d=Math.round((l-this.min)/this.step)*this.step+this.min;this.value=this._clamp(d,this.min,this.max)}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_updateTickIntervalPercent(){if(!this.tickInterval||!this._sliderDimensions)return;let t;if("auto"==this.tickInterval){let r=this.vertical?this._sliderDimensions.height:this._sliderDimensions.width;t=Math.ceil(30/(r*this.step/(this.max-this.min)))*this.step/r}else t=this.tickInterval*this.step/(this.max-this.min);this._tickIntervalPercent=xS(t)?t:0}_createChangeEvent(t=this.value){let r=new Yj;return r.source=this,r.value=t,r}_calculatePercentage(t){const r=((t||0)-this.min)/(this.max-this.min);return xS(r)?r:0}_calculateValue(t){return this.min+t*(this.max-this.min)}_clamp(t,r=0,i=1){return Math.max(r,Math.min(t,i))}_getSliderDimensions(){return this._sliderWrapper?this._sliderWrapper.nativeElement.getBoundingClientRect():null}_focusHostElement(t){this._elementRef.nativeElement.focus(t)}_blurHostElement(){this._elementRef.nativeElement.blur()}writeValue(t){this.value=t}registerOnChange(t){this._controlValueAccessorChangeFn=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(sm),R(Wi),R(am,8),lo("tabindex"),R(Ht),R(qt),R(Fa,8))},e.\u0275cmp=xn({type:e,selectors:[["mat-slider"]],viewQuery:function(t,r){if(1&t&&Kl(Hj,5),2&t){let i;Vr(i=Br())&&(r._sliderWrapper=i.first)}},hostAttrs:["role","slider",1,"mat-slider","mat-focus-indicator"],hostVars:29,hostBindings:function(t,r){1&t&&Wt("focus",function(){return r._onFocus()})("blur",function(){return r._onBlur()})("keydown",function(s){return r._onKeydown(s)})("keyup",function(){return r._onKeyup()})("mouseenter",function(){return r._onMouseenter()})("selectstart",function(s){return s.preventDefault()}),2&t&&(Tc("tabIndex",r.tabIndex),Fn("aria-disabled",r.disabled)("aria-valuemax",r.max)("aria-valuemin",r.min)("aria-valuenow",r.value)("aria-valuetext",r.valueText??r.displayValue)("aria-orientation",r.vertical?"vertical":"horizontal"),Pr("mat-slider-disabled",r.disabled)("mat-slider-has-ticks",r.tickInterval)("mat-slider-horizontal",!r.vertical)("mat-slider-axis-inverted",r._shouldInvertAxis())("mat-slider-invert-mouse-coords",r._shouldInvertMouseCoords())("mat-slider-sliding",r._isSliding)("mat-slider-thumb-label-showing",r.thumbLabel)("mat-slider-vertical",r.vertical)("mat-slider-min-value",r._isMinValue())("mat-slider-hide-last-tick",r.disabled||r._isMinValue()&&r._getThumbGap()&&r._shouldInvertAxis())("_mat-animation-noopable","NoopAnimations"===r._animationMode))},inputs:{disabled:"disabled",color:"color",tabIndex:"tabIndex",invert:"invert",max:"max",min:"min",step:"step",thumbLabel:"thumbLabel",tickInterval:"tickInterval",value:"value",displayWith:"displayWith",valueText:"valueText",vertical:"vertical"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["matSlider"],features:[Kt([qj]),Se],decls:13,vars:6,consts:[[1,"mat-slider-wrapper"],["sliderWrapper",""],[1,"mat-slider-track-wrapper"],[1,"mat-slider-track-background",3,"ngStyle"],[1,"mat-slider-track-fill",3,"ngStyle"],[1,"mat-slider-ticks-container",3,"ngStyle"],[1,"mat-slider-ticks",3,"ngStyle"],[1,"mat-slider-thumb-container",3,"ngStyle"],[1,"mat-slider-focus-ring"],[1,"mat-slider-thumb"],[1,"mat-slider-thumb-label"],[1,"mat-slider-thumb-label-text"]],template:function(t,r){1&t&&(ht(0,"div",0,1)(2,"div",2),qn(3,"div",3)(4,"div",4),gt(),ht(5,"div",5),qn(6,"div",6),gt(),ht(7,"div",7),qn(8,"div",8)(9,"div",9),ht(10,"div",10)(11,"span",11),Nr(12),gt()()()()),2&t&&(jt(3),Gt("ngStyle",r._getTrackBackgroundStyles()),jt(1),Gt("ngStyle",r._getTrackFillStyles()),jt(1),Gt("ngStyle",r._getTicksContainerStyles()),jt(1),Gt("ngStyle",r._getTicksStyles()),jt(1),Gt("ngStyle",r._getThumbContainerStyles()),jt(5),Ac(r.displayValue))},dependencies:[id],styles:['.mat-slider{display:inline-block;position:relative;box-sizing:border-box;padding:8px;outline:none;vertical-align:middle}.mat-slider:not(.mat-slider-disabled):active,.mat-slider.mat-slider-sliding:not(.mat-slider-disabled){cursor:grabbing}.mat-slider-wrapper{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute}.mat-slider-track-wrapper{position:absolute;top:0;left:0;overflow:hidden}.mat-slider-track-fill{position:absolute;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-track-background{position:absolute;transform-origin:100% 100%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-ticks-container{position:absolute;left:0;top:0;overflow:hidden}.mat-slider-ticks{-webkit-background-clip:content-box;background-clip:content-box;background-repeat:repeat;box-sizing:border-box;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-container{position:absolute;z-index:1;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-focus-ring{position:absolute;width:30px;height:30px;border-radius:50%;transform:scale(0);opacity:0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider.cdk-keyboard-focused .mat-slider-focus-ring,.mat-slider.cdk-program-focused .mat-slider-focus-ring{transform:scale(1);opacity:1}.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb-label,.mat-slider:not(.mat-slider-disabled):not(.mat-slider-sliding) .mat-slider-thumb{cursor:grab}.mat-slider-thumb{position:absolute;right:-10px;bottom:-10px;box-sizing:border-box;width:20px;height:20px;border:3px solid rgba(0,0,0,0);border-radius:50%;transform:scale(0.7);transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-thumb-label{display:none;align-items:center;justify-content:center;position:absolute;width:28px;height:28px;border-radius:50%;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),border-radius 400ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.cdk-high-contrast-active .mat-slider-thumb-label{outline:solid 1px}.mat-slider-thumb-label-text{z-index:1;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-sliding .mat-slider-track-fill,.mat-slider-sliding .mat-slider-track-background,.mat-slider-sliding .mat-slider-thumb-container{transition-duration:0ms}.mat-slider-has-ticks .mat-slider-wrapper::after{content:"";position:absolute;border-width:0;border-style:solid;opacity:0;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after,.mat-slider-has-ticks:hover:not(.mat-slider-hide-last-tick) .mat-slider-wrapper::after{opacity:1}.mat-slider-has-ticks.cdk-focused:not(.mat-slider-disabled) .mat-slider-ticks,.mat-slider-has-ticks:hover:not(.mat-slider-disabled) .mat-slider-ticks{opacity:1}.mat-slider-thumb-label-showing .mat-slider-focus-ring{display:none}.mat-slider-thumb-label-showing .mat-slider-thumb-label{display:flex}.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:100% 100%}.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:0 0}.mat-slider:not(.mat-slider-disabled).cdk-focused.mat-slider-thumb-label-showing .mat-slider-thumb{transform:scale(0)}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label{border-radius:50% 50% 0}.mat-slider:not(.mat-slider-disabled).cdk-focused .mat-slider-thumb-label-text{opacity:1}.mat-slider:not(.mat-slider-disabled).cdk-mouse-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-touch-focused .mat-slider-thumb,.mat-slider:not(.mat-slider-disabled).cdk-program-focused .mat-slider-thumb{border-width:2px;transform:scale(1)}.mat-slider-disabled .mat-slider-focus-ring{transform:scale(0);opacity:0}.mat-slider-disabled .mat-slider-thumb{border-width:4px;transform:scale(0.5)}.mat-slider-disabled .mat-slider-thumb-label{display:none}.mat-slider-horizontal{height:48px;min-width:128px}.mat-slider-horizontal .mat-slider-wrapper{height:2px;top:23px;left:8px;right:8px}.mat-slider-horizontal .mat-slider-wrapper::after{height:2px;border-left-width:2px;right:0;top:0}.mat-slider-horizontal .mat-slider-track-wrapper{height:2px;width:100%}.mat-slider-horizontal .mat-slider-track-fill{height:2px;width:100%;transform:scaleX(0)}.mat-slider-horizontal .mat-slider-track-background{height:2px;width:100%;transform:scaleX(1)}.mat-slider-horizontal .mat-slider-ticks-container{height:2px;width:100%}.cdk-high-contrast-active .mat-slider-horizontal .mat-slider-ticks-container{height:0;outline:solid 2px;top:1px}.mat-slider-horizontal .mat-slider-ticks{height:2px;width:100%}.mat-slider-horizontal .mat-slider-thumb-container{width:100%;height:0;top:50%}.mat-slider-horizontal .mat-slider-focus-ring{top:-15px;right:-15px}.mat-slider-horizontal .mat-slider-thumb-label{right:-14px;top:-40px;transform:translateY(26px) scale(0.01) rotate(45deg)}.mat-slider-horizontal .mat-slider-thumb-label-text{transform:rotate(-45deg)}.mat-slider-horizontal.cdk-focused .mat-slider-thumb-label{transform:rotate(45deg)}.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label,.cdk-high-contrast-active .mat-slider-horizontal.cdk-focused .mat-slider-thumb-label-text{transform:none}.mat-slider-vertical{width:48px;min-height:128px}.mat-slider-vertical .mat-slider-wrapper{width:2px;top:8px;bottom:8px;left:23px}.mat-slider-vertical .mat-slider-wrapper::after{width:2px;border-top-width:2px;bottom:0;left:0}.mat-slider-vertical .mat-slider-track-wrapper{height:100%;width:2px}.mat-slider-vertical .mat-slider-track-fill{height:100%;width:2px;transform:scaleY(0)}.mat-slider-vertical .mat-slider-track-background{height:100%;width:2px;transform:scaleY(1)}.mat-slider-vertical .mat-slider-ticks-container{width:2px;height:100%}.cdk-high-contrast-active .mat-slider-vertical .mat-slider-ticks-container{width:0;outline:solid 2px;left:1px}.mat-slider-vertical .mat-slider-focus-ring{bottom:-15px;left:-15px}.mat-slider-vertical .mat-slider-ticks{width:2px;height:100%}.mat-slider-vertical .mat-slider-thumb-container{height:100%;width:0;left:50%}.mat-slider-vertical .mat-slider-thumb{-webkit-backface-visibility:hidden;backface-visibility:hidden}.mat-slider-vertical .mat-slider-thumb-label{bottom:-14px;left:-40px;transform:translateX(26px) scale(0.01) rotate(-45deg)}.mat-slider-vertical .mat-slider-thumb-label-text{transform:rotate(45deg)}.mat-slider-vertical.cdk-focused .mat-slider-thumb-label{transform:rotate(-45deg)}[dir=rtl] .mat-slider-wrapper::after{left:0;right:auto}[dir=rtl] .mat-slider-horizontal .mat-slider-track-fill{transform-origin:100% 100%}[dir=rtl] .mat-slider-horizontal .mat-slider-track-background{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-fill{transform-origin:0 0}[dir=rtl] .mat-slider-horizontal.mat-slider-axis-inverted .mat-slider-track-background{transform-origin:100% 100%}.mat-slider._mat-animation-noopable .mat-slider-track-fill,.mat-slider._mat-animation-noopable .mat-slider-track-background,.mat-slider._mat-animation-noopable .mat-slider-ticks,.mat-slider._mat-animation-noopable .mat-slider-thumb-container,.mat-slider._mat-animation-noopable .mat-slider-focus-ring,.mat-slider._mat-animation-noopable .mat-slider-thumb,.mat-slider._mat-animation-noopable .mat-slider-thumb-label,.mat-slider._mat-animation-noopable .mat-slider-thumb-label-text,.mat-slider._mat-animation-noopable .mat-slider-has-ticks .mat-slider-wrapper::after{transition:none}'],encapsulation:2,changeDetection:0}),e})();function xS(e){return!isNaN(e)&&isFinite(e)}function Tu(e){return"t"===e.type[0]}function bS(e,n){let t;return t=Tu(e)?"number"==typeof n?jm(e.touches,n)||jm(e.changedTouches,n):e.touches[0]||e.changedTouches[0]:e,t?{x:t.clientX,y:t.clientY}:void 0}function jm(e,n){for(let t=0;t<e.length;t++)if(e[t].identifier===n)return e[t]}let Zj=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[ps,lr,lr]}),e})(),Gm=(()=>{class e{constructor(){this.input=new Pt,this.change=new Pt}inputHandler(t){this.input.emit(t)}changeHandler(t){this.change.emit(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=xn({type:e,selectors:[["app-progress-bar"]],inputs:{max:"max",value:"value",label:"label"},outputs:{input:"input",change:"change"},decls:1,vars:3,consts:[["min","0","step","0.00001",1,"slider",3,"max","value","input","change"]],template:function(t,r){1&t&&(ht(0,"mat-slider",0),Wt("input",function(s){return r.inputHandler(s)})("change",function(s){return r.changeHandler(s)}),gt()),2&t&&(Gt("max",r.max)("value",r.value),Fn("aria-label",r.label))},dependencies:[_S],styles:[".slider[_ngcontent-%COMP%]{width:100%}"]}),e})(),DS=(()=>{class e{constructor(t){this.volumeService=t,this.volume=1,this.maxVolumeValue=1,this.iconVolumeUp={name:"Unmute",value:"volume_up"},this.iconVolumeMute={name:"Mute",value:"volume_off"},this.label="Video progress",this.savedVolume=1}ngOnInit(){this.volumeService.volumeValue$.subscribe(t=>this.volume=t)}onVolumeClick(){this.savedVolume=0===this.volume?this.savedVolume:this.volume,this.volumeService.setVolumeValue(this.volume>0?0:this.savedVolume)}onInput(t){null!=t&&null!=t.value&&this.volumeService.setVolumeValue(t.value)}get icon(){return 0===this.volume?this.iconVolumeMute.value:this.iconVolumeUp.value}get title(){return 0===this.volume?this.iconVolumeMute.name:this.iconVolumeUp.name}get ariaLabel(){return this.label}}return e.\u0275fac=function(t){return new(t||e)(R(fw))},e.\u0275cmp=xn({type:e,selectors:[["app-control-volume"]],decls:3,vars:5,consts:[[1,"volume-control"],[1,"icon",3,"icon","title","click"],["tabindex","0",1,"bar",3,"max","value","label","input"]],template:function(t,r){1&t&&(ht(0,"div",0)(1,"app-control",1),Wt("click",function(){return r.onVolumeClick()}),gt(),ht(2,"app-progress-bar",2),Wt("input",function(s){return r.onInput(s)}),gt()()),2&t&&(jt(1),Gt("icon",r.icon)("title",r.title),jt(1),Gt("max",r.maxVolumeValue)("value",r.volume)("label",r.ariaLabel))},dependencies:[_m,Gm],styles:[".volume-control[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:flex-start}.volume-control[_ngcontent-%COMP%]:hover   .bar[_ngcontent-%COMP%], .volume-control[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]:focus{pointer-events:all;width:auto;margin-right:1em}.volume-control[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{position:relative}.volume-control[_ngcontent-%COMP%]   .bar[_ngcontent-%COMP%]{width:0;overflow:hidden;pointer-events:none}"]}),e})(),CS=(()=>{class e{padZeros(t=0,r=2){return`${Math.floor(t)}`.padStart(r,"0")}get durationMinutes(){return this.duration/60}get durationSeconds(){return this.duration-60*Math.floor(this.durationMinutes)}get currentMinutes(){return this.currentProgress/60}get currentSeconds(){return this.currentProgress-60*Math.floor(this.currentMinutes)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=xn({type:e,selectors:[["app-time"]],inputs:{duration:"duration",currentProgress:"currentProgress"},decls:7,vars:4,consts:[[1,"time"]],template:function(t,r){1&t&&(ht(0,"p",0)(1,"span"),Nr(2),gt(),ht(3,"span"),Nr(4," / "),gt(),ht(5,"span"),Nr(6),gt()()),2&t&&(jt(2),Mc(" ",r.padZeros(r.currentMinutes),":",r.padZeros(r.currentSeconds)," "),jt(4),Mc(" ",r.padZeros(r.durationMinutes),":",r.padZeros(r.durationSeconds)," "))},styles:['.time[_ngcontent-%COMP%]{width:max-content;line-height:1em;font-size:12px;font-feature-settings:"tnum";font-variant-numeric:tabular-nums}']}),e})(),ES=(()=>{class e{constructor(t,r,i){this.videoService=t,this.videoTimeService=r,this.videoPlaylistService=i,this.playing=!1,this.currentProgress=0,this.duration=0,this.currentTime=0,this.label="Audio volume",this.videoEnded=!1}ngOnInit(){this.videoService.playingState$.subscribe(t=>this.playing=t),this.videoTimeService.videoDuration$.subscribe(t=>this.duration=t),this.videoTimeService.videoProgress$.subscribe(t=>this.currentProgress=t),this.videoService.videoEnded$.subscribe(t=>this.videoEnded=t)}onPlayClick(){this.playing?this.videoService.pause():this.videoService.play()}onNextClick(){this.videoPlaylistService.playNextVideo(),this.videoService.play()}onInput(t){this.videoTimeService.setIgnore(!0),null!=t&&null!=t.value&&this.videoTimeService.setVideoProgress(t.value)}onChange(t){this.videoTimeService.setIgnore(!1),null!=t&&null!=t.value&&this.videoTimeService.setCurrentTime(t.value)}onFullscreen(){if(document.fullscreenElement)document.exitFullscreen();else{const t=document.querySelector(".video-player");null!=t&&t.requestFullscreen&&t.requestFullscreen()}}get iconPlaying(){return this.videoEnded?{name:"Replay",value:"replay"}:this.playing?{name:"Pause",value:"pause"}:{name:"Play",value:"play_arrow"}}ariaLabel(){return this.label}}return e.\u0275fac=function(t){return new(t||e)(R(Pd),R(dw),R(Nd))},e.\u0275cmp=xn({type:e,selectors:[["app-controls"]],decls:9,vars:7,consts:[[1,"video-controls"],[1,"bar",3,"max","value","label","input","change"],[1,"controls"],[3,"icon","title","click"],["icon","skip_next","title","Next",3,"click"],[3,"currentProgress","duration"],[1,"full-screen"],["icon","fullscreen","title","Fullscreen",3,"click"]],template:function(t,r){1&t&&(ht(0,"div",0)(1,"app-progress-bar",1),Wt("input",function(s){return r.onInput(s)})("change",function(s){return r.onChange(s)}),gt(),ht(2,"div",2)(3,"app-control",3),Wt("click",function(){return r.onPlayClick()}),gt(),ht(4,"app-control",4),Wt("click",function(){return r.onNextClick()}),gt(),qn(5,"app-control-volume")(6,"app-time",5),ht(7,"div",6)(8,"app-control",7),Wt("click",function(){return r.onFullscreen()}),gt()()()()),2&t&&(jt(1),Gt("max",r.duration)("value",r.currentProgress)("label",r.ariaLabel()),jt(2),Gt("icon",r.iconPlaying.value)("title",r.iconPlaying.name),jt(3),Gt("currentProgress",r.currentProgress)("duration",r.duration))},dependencies:[_m,DS,CS,Gm],styles:[".video-controls[_ngcontent-%COMP%]{width:100%}.video-controls[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]{height:1.5em;align-items:center;display:flex;justify-content:flex-start}.video-controls[_ngcontent-%COMP%]   .controls[_ngcontent-%COMP%]   .full-screen[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:flex-end}"]}),e})();var wS=et(70);const Iu={schedule(e){let n=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Iu;r&&(n=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=n(s=>{t=void 0,e(s)});return new be(()=>t?.(i))},requestAnimationFrame(...e){const{delegate:n}=Iu;return(n?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){const{delegate:n}=Iu;return(n?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};new class eG extends nm{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class Jj extends tm{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=Iu.requestAnimationFrame(()=>n.flush(void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:s}=n;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(Iu.cancelAnimationFrame(t),n._scheduled=void 0)}});let Hm,nG=1;const tf={};function SS(e){return e in tf&&(delete tf[e],!0)}const rG={setImmediate(e){const n=nG++;return tf[n]=!0,Hm||(Hm=Promise.resolve()),Hm.then(()=>SS(n)&&e()),n},clearImmediate(e){SS(e)}},{setImmediate:iG,clearImmediate:sG}=rG,nf={setImmediate(...e){const{delegate:n}=nf;return(n?.setImmediate||iG)(...e)},clearImmediate(e){const{delegate:n}=nf;return(n?.clearImmediate||sG)(e)},delegate:void 0};new class aG extends nm{flush(n){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;n=n||r.shift();do{if(i=n.execute(n.state,n.delay))break}while((n=r[0])&&n.id===t&&r.shift());if(this._active=!1,i){for(;(n=r[0])&&n.id===t&&r.shift();)n.unsubscribe();throw i}}}(class oG extends tm{constructor(n,t){super(n,t),this.scheduler=n,this.work=t}requestAsyncId(n,t,r=0){return null!==r&&r>0?super.requestAsyncId(n,t,r):(n.actions.push(this),n._scheduled||(n._scheduled=nf.setImmediate(n.flush.bind(n,void 0))))}recycleAsyncId(n,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(n,t,r);const{actions:s}=n;null!=t&&(null===(i=s[s.length-1])||void 0===i?void 0:i.id)!==t&&(nf.clearImmediate(t),n._scheduled=void 0)}});function fG(e,n=rm){return function uG(e){return Ue((n,t)=>{let r=!1,i=null,s=null,o=!1;const l=()=>{if(s?.unsubscribe(),s=null,r){r=!1;const g=i;i=null,t.next(g)}o&&t.complete()},d=()=>{s=null,o&&t.complete()};n.subscribe(vt(t,g=>{r=!0,i=g,s||At(e(g)).subscribe(s=vt(t,l,d))},()=>{o=!0,(!r||!s||s.closed)&&t.complete()}))})}(()=>function dG(e=0,n,t=MB){let r=-1;return null!=n&&(Si(n)?t=n:r=n),new tt(i=>{let s=function cG(e){return e instanceof Date&&!isNaN(e)}(e)?+e-t.now():e;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(e,n))}let gG=(()=>{class e{constructor(t,r,i){this._platform=t,this._change=new $e,this._changeListener=s=>{this._change.next(s)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,s=i.getBoundingClientRect();return{top:-s.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-s.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(fG(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(oe(To),oe(Ht),oe(qt,8))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function pG(e,n){if(1&e&&(ju(),qn(0,"circle",4)),2&e){const t=po(),r=Ll(1);Aa("animation-name","mat-progress-spinner-stroke-rotate-"+t._spinnerAnimationLabel)("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),Fn("r",t._getCircleRadius())}}function mG(e,n){if(1&e&&(ju(),qn(0,"circle",4)),2&e){const t=po(),r=Ll(1);Aa("stroke-dashoffset",t._getStrokeDashOffset(),"px")("stroke-dasharray",t._getStrokeCircumference(),"px")("stroke-width",t._getCircleStrokeWidth(),"%")("transform-origin",t._getCircleTransformOrigin(r)),Fn("r",t._getCircleRadius())}}const yG=cm(class{constructor(e){this._elementRef=e}},"primary"),_G=new Te("mat-progress-spinner-default-options",{providedIn:"root",factory:function xG(){return{diameter:100}}});class bs extends yG{constructor(n,t,r,i,s,o,l,d){super(n),this._document=r,this._diameter=100,this._value=0,this._resizeSubscription=be.EMPTY,this.mode="determinate";const g=bs._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),g.has(r.head)||g.set(r.head,new Set([100])),this._noopAnimations="NoopAnimations"===i&&!!s&&!s._forceAnimations,"mat-spinner"===n.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),s&&(s.color&&(this.color=this.defaultColor=s.color),s.diameter&&(this.diameter=s.diameter),s.strokeWidth&&(this.strokeWidth=s.strokeWidth)),t.isBrowser&&t.SAFARI&&l&&o&&d&&(this._resizeSubscription=l.change(150).subscribe(()=>{"indeterminate"===this.mode&&d.run(()=>o.markForCheck())}))}get diameter(){return this._diameter}set diameter(n){this._diameter=Qi(n),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(n){this._strokeWidth=Qi(n)}get value(){return"determinate"===this.mode?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,Qi(n)))}ngOnInit(){const n=this._elementRef.nativeElement;this._styleRoot=dE(n)||this._document.head,this._attachStyleNode(),n.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const n=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${n} ${n}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(n){const t=50*(n.currentScale??1);return`${t}% ${t}%`}_attachStyleNode(){const n=this._styleRoot,t=this._diameter,r=bs._diameters;let i=r.get(n);if(!i||!i.has(t)){const s=this._document.createElement("style");s.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),s.textContent=this._getAnimationText(),n.appendChild(s),i||(i=new Set,r.set(n,i)),i.add(t)}}_getAnimationText(){const n=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*n).replace(/END_VALUE/g,""+.2*n).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}bs._diameters=new WeakMap,bs.\u0275fac=function(n){return new(n||bs)(R(st),R(To),R(qt,8),R(Fa,8),R(_G),R(Wi),R(gG),R(Ht))},bs.\u0275cmp=xn({type:bs,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(n,t){2&n&&(Fn("aria-valuemin","determinate"===t.mode?0:null)("aria-valuemax","determinate"===t.mode?100:null)("aria-valuenow","determinate"===t.mode?t.value:null)("mode",t.mode),Aa("width",t.diameter,"px")("height",t.diameter,"px"),Pr("_mat-animation-noopable",t._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[Se],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(n,t){1&n&&(ju(),ht(0,"svg",0,1),us(2,pG,1,11,"circle",2),us(3,mG,1,9,"circle",3),gt()),2&n&&(Aa("width",t.diameter,"px")("height",t.diameter,"px"),Gt("ngSwitch","indeterminate"===t.mode),Fn("viewBox",t._getViewBox()),jt(2),Gt("ngSwitchCase",!0),jt(1),Gt("ngSwitchCase",!1))},dependencies:[rd,oD],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let DG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lr,ps,lr]}),e})();const CG=["video"];function EG(e,n){1&e&&qn(0,"mat-spinner",4)}let AS=(()=>{class e{constructor(t,r,i,s){this.videoService=t,this.volumeService=r,this.videoTimeService=i,this.videoPlaylistService=s,this.playing=!1,this.hls=new wS,this.videoListeners={loadedmetadata:()=>this.videoTimeService.setVideoDuration(null!=this.video?this.video.nativeElement.duration:0),canplay:()=>this.videoService.setLoading(!1),seeking:()=>this.videoService.setLoading(!0),timeupdate:()=>{!this.ignore&&null!=this.video&&this.videoTimeService.setVideoProgress(this.video.nativeElement.currentTime),null!=this.video&&this.video.nativeElement.currentTime===this.video.nativeElement.duration&&this.video.nativeElement.duration>0?(this.videoService.pause(),this.videoService.setVideoEnded(!0)):this.videoService.setVideoEnded(!1)}}}ngOnInit(){this.subscriptions(),Object.keys(this.videoListeners).forEach(t=>this.video.nativeElement.addEventListener(t,this.videoListeners[t]))}onVideoClick(){this.playing?this.videoService.pause():this.videoService.play()}onDoubleClick(){if(document.fullscreenElement)document.exitFullscreen();else{const t=document.querySelector(".video-player");null!=t&&t.requestFullscreen&&t.requestFullscreen()}}load(t){wS.isSupported()?this.loadVideoWithHLS(t):null!=this.video&&this.video.nativeElement.canPlayType("application/vnd.apple.mpegurl")&&this.loadVideo(t)}playPauseVideo(t){this.playing=t,null!=this.video&&this.video.nativeElement[t?"play":"pause"]()}subscriptions(){this.videoService.playingState$.subscribe(t=>this.playPauseVideo(t)),this.videoPlaylistService.currentVideo$.subscribe(t=>this.load(t)),this.videoTimeService.currentTime$.subscribe(t=>null!=this.video?this.video.nativeElement.currentTime=t:0),this.volumeService.volumeValue$.subscribe(t=>null!=this.video?this.video.nativeElement.volume=t:0),this.videoService.loading$.subscribe(t=>this.loading=t),this.videoTimeService.ignore$.subscribe(t=>this.ignore=t)}loadVideoWithHLS(t){this.hls.loadSource(t),null!=this.video&&this.hls.attachMedia(this.video.nativeElement)}loadVideo(t){null!=this.video&&(this.video.nativeElement.src=t)}}return e.\u0275fac=function(t){return new(t||e)(R(Pd),R(fw),R(dw),R(Nd))},e.\u0275cmp=xn({type:e,selectors:[["app-video-wrapper"]],viewQuery:function(t,r){if(1&t&&Kl(CG,7),2&t){let i;Vr(i=Br())&&(r.video=i.first)}},decls:4,vars:1,consts:[[1,"video-wrapper"],[1,"video",3,"click","dblclick"],["video",""],["class","spinner","color","accent","strokeWidth","5",4,"ngIf"],["color","accent","strokeWidth","5",1,"spinner"]],template:function(t,r){1&t&&(ht(0,"div",0)(1,"video",1,2),Wt("click",function(){return r.onVideoClick()})("dblclick",function(){return r.onDoubleClick()}),gt(),us(3,EG,1,0,"mat-spinner",3),gt()),2&t&&(jt(3),Gt("ngIf",r.loading))},dependencies:[nd,bs],styles:[".video-wrapper[_ngcontent-%COMP%]{position:relative}.video-wrapper[_ngcontent-%COMP%]   .video[_ngcontent-%COMP%]{width:100%;margin:0 auto}.video-wrapper[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{position:absolute;top:calc(50% - 50px);left:calc(50% - 50px)}"]}),e})(),MS=(()=>{class e{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),wG=(()=>{class e{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,r)=>this._cleanupObserver(r))}observe(t){const r=Ha(t);return new tt(i=>{const o=this._observeElement(r).subscribe(i);return()=>{o.unsubscribe(),this._unobserveElement(r)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const r=new $e,i=this._mutationObserverFactory.create(s=>r.next(s));i&&i.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:i,stream:r,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:r,stream:i}=this._observedElements.get(t);r&&r.disconnect(),i.complete(),this._observedElements.delete(t)}}}return e.\u0275fac=function(t){return new(t||e)(oe(MS))},e.\u0275prov=_e({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),SG=(()=>{class e{constructor(t,r,i){this._contentObserver=t,this._elementRef=r,this._ngZone=i,this.event=new Pt,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=On(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Qi(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(im(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(R(wG),R(st),R(Ht))},e.\u0275dir=fe({type:e,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),e})(),AG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({providers:[MS]}),e})();const MG=["input"],TG=function(e){return{enterDuration:e}},IG=["*"],RG=new Te("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1})});let FG=0;const kG={provide:ei,useExisting:Tt(()=>TS),multi:!0};class OG{constructor(n,t){this.source=n,this.checked=t}}const LG=FE(cm(xu(um(class{constructor(e){this._elementRef=e}}))));let PG=(()=>{class e extends LG{constructor(t,r,i,s,o,l,d){super(t),this._focusMonitor=r,this._changeDetectorRef=i,this.defaults=o,this._onChange=g=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this.change=new Pt,this.toggleChange=new Pt,this.tabIndex=parseInt(s)||0,this.color=this.defaultColor=o.color||"accent",this._noopAnimations="NoopAnimations"===l,this.id=this._uniqueId=`${d}${++FG}`}get required(){return this._required}set required(t){this._required=On(t)}get checked(){return this._checked}set checked(t){this._checked=On(t),this._changeDetectorRef.markForCheck()}get inputId(){return`${this.id||this._uniqueId}-input`}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?this._focused=!0:t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}}return e.\u0275fac=function(t){hc()},e.\u0275dir=fe({type:e,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked"},outputs:{change:"change",toggleChange:"toggleChange"},features:[Se]}),e})(),TS=(()=>{class e extends PG{constructor(t,r,i,s,o,l){super(t,r,i,s,o,l,"mat-slide-toggle-")}_createChangeEvent(t){return new OG(this,t)}_onChangeEvent(t){t.stopPropagation(),this.toggleChange.emit(),this.defaults.disableToggleValue?this._inputElement.nativeElement.checked=this.checked:(this.checked=this._inputElement.nativeElement.checked,this._emitChangeEvent())}_onInputClick(t){t.stopPropagation()}focus(t,r){r?this._focusMonitor.focusVia(this._inputElement,r,t):this._inputElement.nativeElement.focus(t)}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(sm),R(Wi),lo("tabindex"),R(RG),R(Fa,8))},e.\u0275cmp=xn({type:e,selectors:[["mat-slide-toggle"]],viewQuery:function(t,r){if(1&t&&Kl(MG,5),2&t){let i;Vr(i=Br())&&(r._inputElement=i.first)}},hostAttrs:[1,"mat-slide-toggle"],hostVars:13,hostBindings:function(t,r){2&t&&(Tc("id",r.id),Fn("tabindex",null)("aria-label",null)("aria-labelledby",null)("name",null),Pr("mat-checked",r.checked)("mat-disabled",r.disabled)("mat-slide-toggle-label-before","before"==r.labelPosition)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[Kt([kG]),Se],ngContentSelectors:IG,decls:14,vars:20,consts:[[1,"mat-slide-toggle-label"],["label",""],[1,"mat-slide-toggle-bar"],["type","checkbox","role","switch",1,"mat-slide-toggle-input","cdk-visually-hidden",3,"id","required","tabIndex","checked","disabled","change","click"],["input",""],[1,"mat-slide-toggle-thumb-container"],[1,"mat-slide-toggle-thumb"],["mat-ripple","",1,"mat-slide-toggle-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-slide-toggle-persistent-ripple"],[1,"mat-slide-toggle-content",3,"cdkObserveContent"],["labelContent",""],[2,"display","none"]],template:function(t,r){if(1&t&&(mo(),ht(0,"label",0,1)(2,"span",2)(3,"input",3,4),Wt("change",function(s){return r._onChangeEvent(s)})("click",function(s){return r._onInputClick(s)}),gt(),ht(5,"span",5),qn(6,"span",6),ht(7,"span",7),qn(8,"span",8),gt()()(),ht(9,"span",9,10),Wt("cdkObserveContent",function(){return r._onLabelTextChange()}),ht(11,"span",11),Nr(12,"\xa0"),gt(),mi(13),gt()()),2&t){const i=Ll(1),s=Ll(10);Fn("for",r.inputId),jt(2),Pr("mat-slide-toggle-bar-no-side-margin",!s.textContent||!s.textContent.trim()),jt(1),Gt("id",r.inputId)("required",r.required)("tabIndex",r.tabIndex)("checked",r.checked)("disabled",r.disabled),Fn("name",r.name)("aria-checked",r.checked)("aria-label",r.ariaLabel)("aria-labelledby",r.ariaLabelledby)("aria-describedby",r.ariaDescribedby),jt(4),Gt("matRippleTrigger",i)("matRippleDisabled",r.disableRipple||r.disabled)("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",hg(18,TG,r._noopAnimations?0:150))}},dependencies:[fm,SG],styles:['.mat-slide-toggle{display:inline-block;height:24px;max-width:100%;line-height:24px;white-space:nowrap;outline:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(16px, 0, 0)}[dir=rtl] .mat-slide-toggle.mat-checked .mat-slide-toggle-thumb-container{transform:translate3d(-16px, 0, 0)}.mat-slide-toggle.mat-disabled{opacity:.38}.mat-slide-toggle.mat-disabled .mat-slide-toggle-label,.mat-slide-toggle.mat-disabled .mat-slide-toggle-thumb-container{cursor:default}.mat-slide-toggle-label{-webkit-user-select:none;user-select:none;display:flex;flex:1;flex-direction:row;align-items:center;height:inherit;cursor:pointer}.mat-slide-toggle-content{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-slide-toggle-label-before .mat-slide-toggle-label{order:1}.mat-slide-toggle-label-before .mat-slide-toggle-bar{order:2}[dir=rtl] .mat-slide-toggle-label-before .mat-slide-toggle-bar,.mat-slide-toggle-bar{margin-right:8px;margin-left:0}[dir=rtl] .mat-slide-toggle-bar,.mat-slide-toggle-label-before .mat-slide-toggle-bar{margin-left:8px;margin-right:0}.mat-slide-toggle-bar-no-side-margin{margin-left:0;margin-right:0}.mat-slide-toggle-thumb-container{position:absolute;z-index:1;width:20px;height:20px;top:-3px;left:0;transform:translate3d(0, 0, 0);transition:all 80ms linear;transition-property:transform}._mat-animation-noopable .mat-slide-toggle-thumb-container{transition:none}[dir=rtl] .mat-slide-toggle-thumb-container{left:auto;right:0}.mat-slide-toggle-thumb{height:20px;width:20px;border-radius:50%;display:block}.mat-slide-toggle-bar{position:relative;width:36px;height:14px;flex-shrink:0;border-radius:8px}.mat-slide-toggle-input{bottom:0;left:10px}[dir=rtl] .mat-slide-toggle-input{left:auto;right:10px}.mat-slide-toggle-bar,.mat-slide-toggle-thumb{transition:all 80ms linear;transition-property:background-color;transition-delay:50ms}._mat-animation-noopable .mat-slide-toggle-bar,._mat-animation-noopable .mat-slide-toggle-thumb{transition:none}.mat-slide-toggle .mat-slide-toggle-ripple{position:absolute;top:calc(50% - 20px);left:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-slide-toggle .mat-slide-toggle-ripple .mat-ripple-element:not(.mat-slide-toggle-persistent-ripple){opacity:.12}.mat-slide-toggle-persistent-ripple{width:100%;height:100%;transform:none}.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:.04}.mat-slide-toggle:not(.mat-disabled).cdk-keyboard-focused .mat-slide-toggle-persistent-ripple{opacity:.12}.mat-slide-toggle-persistent-ripple,.mat-slide-toggle.mat-disabled .mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{opacity:0}@media(hover: none){.mat-slide-toggle-bar:hover .mat-slide-toggle-persistent-ripple{display:none}}.mat-slide-toggle-input:focus~.mat-slide-toggle-thumb-container .mat-focus-indicator::before{content:""}.cdk-high-contrast-active .mat-slide-toggle-thumb,.cdk-high-contrast-active .mat-slide-toggle-bar{border:1px solid}'],encapsulation:2,changeDetection:0}),e})(),IS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({}),e})(),BG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[IS,BE,lr,AG,IS,lr]}),e})(),UG=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[lr,lr]}),e})();const FS=["*"],GG=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],HG=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],qG=um(xu(class{})),YG=xu(class{}),QG=new Te("MatList"),kS=new Te("MatNavList");let XG=(()=>{class e extends qG{constructor(){super(...arguments),this._stateChanges=new $e}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return e.\u0275fac=function(){let n;return function(r){return(n||(n=Be(e)))(r||e)}}(),e.\u0275cmp=xn({type:e,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-nav-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matNavList"],features:[Kt([{provide:kS,useExisting:e}]),Se,De],ngContentSelectors:FS,decls:1,vars:0,template:function(t,r){1&t&&(mo(),mi(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),e})(),OS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=fe({type:e,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),e})(),LS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=fe({type:e,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),e})(),ZG=(()=>{class e extends YG{constructor(t,r,i,s){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new $e,this._disabled=!1,this._isInteractiveList=!!(i||s&&"action-list"===s._getListType()),this._list=i||s;const o=this._getHostElement();"button"===o.nodeName.toLowerCase()&&!o.hasAttribute("type")&&o.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Gr(this._destroyed)).subscribe(()=>{r.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=On(t)}ngAfterContentInit(){!function OE(e,n,t="mat"){e.changes.pipe(gd(e)).subscribe(({length:r})=>{bu(n,`${t}-2-line`,!1),bu(n,`${t}-3-line`,!1),bu(n,`${t}-multi-line`,!1),2===r||3===r?bu(n,`${t}-${r}-line`,!0):r>3&&bu(n,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return e.\u0275fac=function(t){return new(t||e)(R(st),R(Wi),R(kS,8),R(QG,8))},e.\u0275cmp=xn({type:e,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,r,i){if(1&t&&($i(i,OS,5),$i(i,LS,5),$i(i,kE,5)),2&t){let s;Vr(s=Br())&&(r._avatar=s.first),Vr(s=Br())&&(r._icon=s.first),Vr(s=Br())&&(r._lines=s)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(t,r){2&t&&Pr("mat-list-item-disabled",r.disabled)("mat-list-item-with-avatar",r._avatar||r._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[Se],ngContentSelectors:HG,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,r){1&t&&(mo(GG),ht(0,"span",0),qn(1,"span",1),mi(2),ht(3,"span",2),mi(4,1),gt(),mi(5,2),gt()),2&t&&(jt(1),Gt("matRippleTrigger",r._getHostElement())("matRippleDisabled",r._isRippleDisabled()))},dependencies:[fm],encapsulation:2,changeDetection:0}),e})(),iH=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[LE,BE,lr,UE,ps,LE,lr,UE,UG]}),e})();const sH=function(e){return{active:e}};function oH(e,n){if(1&e){const t=ng();ht(0,"a",7),Wt("click",function(){const s=Cf(t).index;return Ef(po().playIt(s))}),ht(1,"i",8),Nr(2,"play_arrow"),gt(),Nr(3),gt()}if(2&e){const t=n.$implicit;Gt("ngClass",hg(2,sH,t.selected)),jt(3),Vl(" ",t.name," ")}}let NS=(()=>{class e{constructor(t,r){this.videoService=t,this.videoPlaylistService=r,this.videoList=[],this.list=[],this.activeVideo=0}ngOnInit(){this.videoPlaylistService.list$.subscribe(t=>this.list=t),this.videoPlaylistService.currentVideo$.subscribe(t=>{this.videoList=this.list.map(r=>({name:r.name,selected:r.stream.url===t}))}),this.videoPlaylistService.shouldPlayNext$.subscribe(t=>this.playNext=t),this.videoService.videoEnded$.subscribe(t=>{this.playNext&&t&&(this.videoPlaylistService.playNextVideo(),this.videoService.play())})}playIt(t){this.videoPlaylistService.setCurrentVideoByIndex(t),this.videoService.play(),this.activeVideo=t}onChange(){this.playNext=!this.playNext,this.videoPlaylistService.setShouldPlayNext(this.playNext)}}return e.\u0275fac=function(t){return new(t||e)(R(Pd),R(Nd))},e.\u0275cmp=xn({type:e,selectors:[["app-video-list"]],decls:10,vars:2,consts:[[1,"video-list",2,"border","4px solid #6B47ED","border-radius","10px","background-color","#ff4d4b"],[1,"header",2,"background-color","#6B47ED","height","60px","margin-left","0","margin-right","0","margin-top","0"],[1,"title",2,"font-family","'Rightgrotesk webfont',sans-serif","font-weight","500","color","white","margin-top","0","font-size","22px","margin-left","20px"],[1,"title",2,"font-family","'Rightgrotesk webfont',sans-serif","font-weight","500","color","white","margin-top","0","font-size","22px","margin-right","20px"],["aria-label","Enable autoplay",3,"checked","change"],[1,"list"],["style","color: white;","mat-list-item","","class","list-item",3,"ngClass","click",4,"ngFor","ngForOf"],["mat-list-item","",1,"list-item",2,"color","white",3,"ngClass","click"],[1,"material-icons"]],template:function(t,r){1&t&&(ht(0,"div",0)(1,"div",1)(2,"h2",2),Nr(3,"Next Channel"),gt(),ht(4,"p",3)(5,"span"),Nr(6," Play Next "),gt(),ht(7,"mat-slide-toggle",4),Wt("change",function(){return r.onChange()}),gt()()(),ht(8,"mat-nav-list",5),us(9,oH,4,4,"a",6),gt()()),2&t&&(jt(7),Gt("checked",r.playNext),jt(2),Gt("ngForOf",r.videoList))},dependencies:[td,Zg,TS,XG,ZG],styles:[".video-list[_ngcontent-%COMP%]{width:auto;background-color:#fff;overflow:scroll;height:90vh;min-height:90vh}.video-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.video-list[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{margin:0 1em 0 0}.video-list[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%], .video-list[_ngcontent-%COMP%]   .list-item[_ngcontent-%COMP%]{width:100%}.video-list[_ngcontent-%COMP%]   .list-item.active[_ngcontent-%COMP%]{background-color:#6b47ed}"]}),e})(),zm=(()=>{class e{constructor(t){this.router=t}ngOnInit(){}myaccount(){this.router.navigate(["/myaccount"])}}return e.\u0275fac=function(t){return new(t||e)(R(Xn))},e.\u0275cmp=xn({type:e,selectors:[["app-channels"]],decls:6,vars:0,consts:[[1,"container"],[1,"video-app"],[1,"video-player",2,"border","4px solid #6B47ED","border-radius","10px"],[1,"list"]],template:function(t,r){1&t&&(ht(0,"div",0)(1,"div",1)(2,"div",2),qn(3,"app-video-wrapper")(4,"app-controls"),gt(),qn(5,"app-video-list",3),gt()())},dependencies:[ES,AS,NS],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:95vw;height:95vh}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]{margin-top:1em;display:flex;width:95vw;justify-content:center;align-items:flex-start}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{width:60vw;height:90vh;min-height:90vh;background-color:#fff;display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-left:1.5em}@media (max-width: 800px){.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{width:90%}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin:2em 0 0;width:90%}}"]}),e})();function aH(e,n){if(1&e){const t=ng();ht(0,"div",8)(1,"mat-card",9)(2,"a",10),Wt("click",function(){const s=Cf(t).$implicit;return Ef(po(2).selectionCountry(s))}),qn(3,"img",11),gt()(),ht(4,"p",12),Nr(5),gt()()}if(2&e){const t=n.$implicit;Gt("fxFlex","25%"),jt(3),wc("src","assets/",t.image,".png",oc),jt(2),Vl(" ",t.name," ")}}function lH(e,n){if(1&e&&(ht(0,"div")(1,"div",6),us(2,aH,6,3,"div",7),gt()()),2&e){const t=po();jt(2),Gt("ngForOf",t.countries)}}function uH(e,n){1&e&&(ht(0,"div",13)(1,"div",14),qn(2,"app-channels"),gt()())}let cH=(()=>{class e{constructor(t,r,i){this.router=t,this.http=r,this.videoPlaylistService=i,this.showError=!1,this.unsubscriber=new $e,this.showHome=!0,this.showListChannels=!1,this.title="English On Tv",this.gridColumns=4,this.countries=[new Ys("Australia","AU","eng","\u{1f1e6}\u{1f1fa}","australia"),new Ys("Canada","CA","eng","\u{1f1e8}\u{1f1e6}","canada"),new Ys("Ireland","IE","gle","\u{1f1ee}\u{1f1ea}","ireland"),new Ys("Jamaica","JM","eng","\u{1f1ef}\u{1f1f2}","jamaica"),new Ys("New Zealand","NZ","eng","\u{1f1f3}\u{1f1ff}","newzealand"),new Ys("South Africa","ZA","afr","\u{1f1ff}\u{1f1e6}","southafrica"),new Ys("United Kingdom","UK","eng","\u{1f1ec}\u{1f1e7}","unitedkingdom"),new Ys("United States","US","eng","\u{1f1fa}\u{1f1f8}","unitedstates")]}ngOnInit(){history.pushState(null,""),Qp(window,"popstate").pipe(Gr(this.unsubscriber)).subscribe(t=>{history.pushState(null,""),this.showError=!0})}selectionCountry(t){null!=t&&(console.log(t.name),this.showListChannels=!0,this.showHome=!1,this.buscaChannels(t.code))}buscaChannels(t){this.http.get("http://ec2-18-118-49-145.us-east-2.compute.amazonaws.com:8080/api/channelscountry?country="+t).subscribe(r=>{this.channels=r,this.videoPlaylistService.fetchList(this.channels)})}ngOnDestroy(){this.unsubscriber.next(),this.unsubscriber.complete()}}return e.\u0275fac=function(t){return new(t||e)(R(Xn),R(HD),R(Nd))},e.\u0275cmp=xn({type:e,selectors:[["app-root"]],decls:8,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"bg-light","text-center","text-lg-start",2,"background-color","#d41c24","height","220px","margin-top","200px"],[2,"text-align","center","color","white","font-size","16px","margin-top","50px","font-family","'Right grotesk spatial',sans-serif","font-size","2.375rem","line-height","1.2037037037037037","font-weight","900","padding-top","20px"],[2,"text-align","center","color","white","margin-top","120px"],["href","http://www.webmatte.com.br",2,"color","white","text-decoration","none"],["fxLayout","row wrap","fxLayoutGap","16px grid",1,"content"],[3,"fxFlex",4,"ngFor","ngForOf"],[3,"fxFlex"],[1,"mat-elevation-z4",2,"height","60%","border","2px solid #808080","border-radius","10px","margin","20px","background-color","white"],["href","javascript:void(0);",3,"click"],["mat-card-image","",2,"padding-left","23px","height","100%","width","95%",3,"src"],[2,"text-align","center","color","#D31A25","font-size","16px","margin-top","-0.75rem","font-family","'Right grotesk spatial',sans-serif","font-size","2.375rem","line-height","1.2037037037037037","font-weight","900"],[1,"container"],["id","comp-render"]],template:function(t,r){1&t&&(us(0,lH,3,1,"div",0),us(1,uH,3,0,"div",1),ht(2,"footer",2)(3,"p",3),Nr(4," English On Tv "),gt(),ht(5,"p",4)(6,"a",5),Nr(7," Developed by Webmatte Solu\xe7\xf5es Web "),gt()()()),2&t&&(Gt("ngIf",r.showHome),jt(1),Gt("ngIf",r.showListChannels))},dependencies:[Zg,nd,g2,h2,iw,aw,uw,zm],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;width:95vw;height:95vh;margin:2em 2em 0}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]{margin-top:1em;display:flex;width:95vw;height:95vh;justify-content:center;align-items:flex-start}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{width:60vw;background-color:#fff;display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin-left:1.5em;flex:1}@media (max-width: 800px){.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]{flex-direction:column}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .video-player[_ngcontent-%COMP%]{width:90%}.container[_ngcontent-%COMP%]   .video-app[_ngcontent-%COMP%]   .list[_ngcontent-%COMP%]{margin:2em 0 0;width:90%}}"]}),e})(),HS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[gm]}),e})(),XS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[gm]}),e})(),Q8=(()=>{class e{constructor(t,r){ka(r)&&!t&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(t,r=[]){return{ngModule:e,providers:t.serverLoaded?[{provide:Ci,useValue:{...pm,...t}},{provide:mm,useValue:r,multi:!0},{provide:Wa,useValue:!0}]:[{provide:Ci,useValue:{...pm,...t}},{provide:mm,useValue:r,multi:!0}]}}}return e.\u0275fac=function(t){return new(t||e)(oe(Wa),oe(oi))},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[cw,HS,XS,cw,HS,XS]}),e})(),ZS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e,bootstrap:[_m]}),e.\u0275inj=pt({}),e})();const X8=[{path:"",component:Gm}];let JS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[ps,Mu,Mo.forChild(X8),Zj]}),e})(),Z8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e,bootstrap:[DS]}),e.\u0275inj=pt({imports:[ZS,JS]}),e})(),J8=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e,bootstrap:[CS]}),e.\u0275inj=pt({}),e})();const e$=[{path:"",component:ES}];let eA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[ps,Mu,Mo.forChild(e$),ZS,Z8,J8,JS]}),e})();const t$=[{path:"",component:AS}];let n$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[ps,Mu,Mo.forChild(t$),DG]}),e})();const r$=[{path:"",component:NS}];let i$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e}),e.\u0275inj=pt({imports:[ps,Mu,Mo.forChild(r$),BG,iH]}),e})();const s$=[{path:"",component:zm}];let o$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e,bootstrap:[zm]}),e.\u0275inj=pt({imports:[ID,lE,ps,Mu,Mo.forChild(s$),eA,n$,i$]}),e})(),a$=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=yt({type:e,bootstrap:[cH]}),e.\u0275inj=pt({imports:[ID,lE,p2,Q8,eA,o$,MP]}),e})();(function FO(){Ib=!1})(),sP().bootstrapModule(a$).catch(e=>console.error(e))},70:function(Ya){typeof window<"u"&&(Ya.exports=function(mn){var et={};function ee(Ce){if(et[Ce])return et[Ce].exports;var ve=et[Ce]={i:Ce,l:!1,exports:{}};return mn[Ce].call(ve.exports,ve,ve.exports,ee),ve.l=!0,ve.exports}return ee.m=mn,ee.c=et,ee.d=function(Ce,ve,H){ee.o(Ce,ve)||Object.defineProperty(Ce,ve,{enumerable:!0,get:H})},ee.r=function(Ce){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ce,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ce,"__esModule",{value:!0})},ee.t=function(Ce,ve){if(1&ve&&(Ce=ee(Ce)),8&ve||4&ve&&"object"==typeof Ce&&Ce&&Ce.__esModule)return Ce;var H=Object.create(null);if(ee.r(H),Object.defineProperty(H,"default",{enumerable:!0,value:Ce}),2&ve&&"string"!=typeof Ce)for(var be in Ce)ee.d(H,be,function(E){return Ce[E]}.bind(null,be));return H},ee.n=function(Ce){var ve=Ce&&Ce.__esModule?function(){return Ce.default}:function(){return Ce};return ee.d(ve,"a",ve),ve},ee.o=function(Ce,ve){return Object.prototype.hasOwnProperty.call(Ce,ve)},ee.p="/dist/",ee(ee.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(mn,et,ee){"use strict";var Ce=Object.prototype.hasOwnProperty,ve="~";function H(){}function be(P,N,W){this.fn=P,this.context=N,this.once=W||!1}function E(P,N,W,j,$){if("function"!=typeof W)throw new TypeError("The listener must be a function");var ne=new be(W,j||P,$),X=ve?ve+N:N;return P._events[X]?P._events[X].fn?P._events[X]=[P._events[X],ne]:P._events[X].push(ne):(P._events[X]=ne,P._eventsCount++),P}function w(P,N){0==--P._eventsCount?P._events=new H:delete P._events[N]}function we(){this._events=new H,this._eventsCount=0}Object.create&&(H.prototype=Object.create(null),(new H).__proto__||(ve=!1)),we.prototype.eventNames=function(){var W,j,N=[];if(0===this._eventsCount)return N;for(j in W=this._events)Ce.call(W,j)&&N.push(ve?j.slice(1):j);return Object.getOwnPropertySymbols?N.concat(Object.getOwnPropertySymbols(W)):N},we.prototype.listeners=function(N){var j=this._events[ve?ve+N:N];if(!j)return[];if(j.fn)return[j.fn];for(var $=0,ne=j.length,X=new Array(ne);$<ne;$++)X[$]=j[$].fn;return X},we.prototype.listenerCount=function(N){var j=this._events[ve?ve+N:N];return j?j.fn?1:j.length:0},we.prototype.emit=function(N,W,j,$,ne,X){var ge=ve?ve+N:N;if(!this._events[ge])return!1;var he,Me,se=this._events[ge],ce=arguments.length;if(se.fn){switch(se.once&&this.removeListener(N,se.fn,void 0,!0),ce){case 1:return se.fn.call(se.context),!0;case 2:return se.fn.call(se.context,W),!0;case 3:return se.fn.call(se.context,W,j),!0;case 4:return se.fn.call(se.context,W,j,$),!0;case 5:return se.fn.call(se.context,W,j,$,ne),!0;case 6:return se.fn.call(se.context,W,j,$,ne,X),!0}for(Me=1,he=new Array(ce-1);Me<ce;Me++)he[Me-1]=arguments[Me];se.fn.apply(se.context,he)}else{var Oe,Pe=se.length;for(Me=0;Me<Pe;Me++)switch(se[Me].once&&this.removeListener(N,se[Me].fn,void 0,!0),ce){case 1:se[Me].fn.call(se[Me].context);break;case 2:se[Me].fn.call(se[Me].context,W);break;case 3:se[Me].fn.call(se[Me].context,W,j);break;case 4:se[Me].fn.call(se[Me].context,W,j,$);break;default:if(!he)for(Oe=1,he=new Array(ce-1);Oe<ce;Oe++)he[Oe-1]=arguments[Oe];se[Me].fn.apply(se[Me].context,he)}}return!0},we.prototype.on=function(N,W,j){return E(this,N,W,j,!1)},we.prototype.once=function(N,W,j){return E(this,N,W,j,!0)},we.prototype.removeListener=function(N,W,j,$){var ne=ve?ve+N:N;if(!this._events[ne])return this;if(!W)return w(this,ne),this;var X=this._events[ne];if(X.fn)X.fn===W&&(!$||X.once)&&(!j||X.context===j)&&w(this,ne);else{for(var ge=0,se=[],ce=X.length;ge<ce;ge++)(X[ge].fn!==W||$&&!X[ge].once||j&&X[ge].context!==j)&&se.push(X[ge]);se.length?this._events[ne]=1===se.length?se[0]:se:w(this,ne)}return this},we.prototype.removeAllListeners=function(N){var W;return N?this._events[W=ve?ve+N:N]&&w(this,W):(this._events=new H,this._eventsCount=0),this},we.prototype.off=we.prototype.removeListener,we.prototype.addListener=we.prototype.on,we.prefixed=ve,we.EventEmitter=we,mn.exports=we},"./node_modules/url-toolkit/src/url-toolkit.js":function(mn,et,ee){var ve,H,be,E,w;ve=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/,H=/^([^\/?#]*)(.*)$/,be=/(?:\/|^)\.(?=\/)/g,E=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,mn.exports=w={buildAbsoluteURL:function(we,P,N){if(N=N||{},we=we.trim(),!(P=P.trim())){if(!N.alwaysNormalize)return we;var W=w.parseURL(we);if(!W)throw new Error("Error trying to parse base URL.");return W.path=w.normalizePath(W.path),w.buildURLFromParts(W)}var j=w.parseURL(P);if(!j)throw new Error("Error trying to parse relative URL.");if(j.scheme)return N.alwaysNormalize?(j.path=w.normalizePath(j.path),w.buildURLFromParts(j)):P;var $=w.parseURL(we);if(!$)throw new Error("Error trying to parse base URL.");if(!$.netLoc&&$.path&&"/"!==$.path[0]){var ne=H.exec($.path);$.netLoc=ne[1],$.path=ne[2]}$.netLoc&&!$.path&&($.path="/");var X={scheme:$.scheme,netLoc:j.netLoc,path:null,params:j.params,query:j.query,fragment:j.fragment};if(!j.netLoc&&(X.netLoc=$.netLoc,"/"!==j.path[0]))if(j.path){var ge=$.path,se=ge.substring(0,ge.lastIndexOf("/")+1)+j.path;X.path=w.normalizePath(se)}else X.path=$.path,j.params||(X.params=$.params,j.query||(X.query=$.query));return null===X.path&&(X.path=N.alwaysNormalize?w.normalizePath(j.path):j.path),w.buildURLFromParts(X)},parseURL:function(we){var P=ve.exec(we);return P?{scheme:P[1]||"",netLoc:P[2]||"",path:P[3]||"",params:P[4]||"",query:P[5]||"",fragment:P[6]||""}:null},normalizePath:function(we){for(we=we.split("").reverse().join("").replace(be,"");we.length!==(we=we.replace(E,"")).length;);return we.split("").reverse().join("")},buildURLFromParts:function(we){return we.scheme+we.netLoc+we.path+we.params+we.query+we.fragment}}},"./node_modules/webworkify-webpack/index.js":function(mn,et,ee){function Ce(N){var W={};function j(ne){if(W[ne])return W[ne].exports;var X=W[ne]={i:ne,l:!1,exports:{}};return N[ne].call(X.exports,X,X.exports,j),X.l=!0,X.exports}j.m=N,j.c=W,j.i=function(ne){return ne},j.d=function(ne,X,ge){j.o(ne,X)||Object.defineProperty(ne,X,{configurable:!1,enumerable:!0,get:ge})},j.r=function(ne){Object.defineProperty(ne,"__esModule",{value:!0})},j.n=function(ne){var X=ne&&ne.__esModule?function(){return ne.default}:function(){return ne};return j.d(X,"a",X),X},j.o=function(ne,X){return Object.prototype.hasOwnProperty.call(ne,X)},j.p="/",j.oe=function(ne){throw console.error(ne),ne};var $=j(j.s=ENTRY_MODULE);return $.default||$}var ve="[\\.|\\-|\\+|\\w|/|@]+",H="\\(\\s*(/\\*.*?\\*/)?\\s*.*?("+ve+").*?\\)";function be(N){return(N+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function E(N){return!isNaN(1*N)}function w(N,W,j){var $={};$[j]=[];var ne=W.toString(),X=ne.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!X)return $;for(var ce,ge=X[1],se=new RegExp("(\\\\n|\\W)"+be(ge)+H,"g");ce=se.exec(ne);)"dll-reference"!==ce[3]&&$[j].push(ce[3]);for(se=new RegExp("\\("+be(ge)+'\\("(dll-reference\\s('+ve+'))"\\)\\)'+H,"g");ce=se.exec(ne);)N[ce[2]]||($[j].push(ce[1]),N[ce[2]]=ee(ce[1]).m),$[ce[2]]=$[ce[2]]||[],$[ce[2]].push(ce[4]);for(var he=Object.keys($),Me=0;Me<he.length;Me++)for(var Pe=0;Pe<$[he[Me]].length;Pe++)E($[he[Me]][Pe])&&($[he[Me]][Pe]=1*$[he[Me]][Pe]);return $}function we(N){return Object.keys(N).reduce(function(j,$){return j||N[$].length>0},!1)}mn.exports=function(N,W){var j={main:ee.m},$=(W=W||{}).all?{main:Object.keys(j.main)}:function P(N,W){for(var j={main:[W]},$={main:[]},ne={main:{}};we(j);)for(var X=Object.keys(j),ge=0;ge<X.length;ge++){var se=X[ge],he=j[se].pop();if(ne[se]=ne[se]||{},!ne[se][he]&&N[se][he]){ne[se][he]=!0,$[se]=$[se]||[],$[se].push(he);for(var Me=w(N,N[se][he],se),Pe=Object.keys(Me),Oe=0;Oe<Pe.length;Oe++)j[Pe[Oe]]=j[Pe[Oe]]||[],j[Pe[Oe]]=j[Pe[Oe]].concat(Me[Pe[Oe]])}}return $}(j,N),ne="";Object.keys($).filter(function(he){return"main"!==he}).forEach(function(he){for(var Me=0;$[he][Me];)Me++;$[he].push(Me),j[he][Me]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",ne=ne+"var "+he+" = ("+Ce.toString().replace("ENTRY_MODULE",JSON.stringify(Me))+")({"+$[he].map(function(Pe){return JSON.stringify(Pe)+": "+j[he][Pe].toString()}).join(",")+"});\n"}),ne=ne+"new (("+Ce.toString().replace("ENTRY_MODULE",JSON.stringify(N))+")({"+$.main.map(function(he){return JSON.stringify(he)+": "+j.main[he].toString()}).join(",")+"}))(self);";var X=new window.Blob([ne],{type:"text/javascript"});if(W.bare)return X;var se=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(X),ce=new window.Worker(se);return ce.objectURL=se,ce}},"./src/crypt/decrypter.js":function(mn,et,ee){"use strict";ee.r(et);var Ce=function(){function X(se,ce){this.subtle=se,this.aesIV=ce}return X.prototype.decrypt=function(ce,he){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},he,ce)},X}(),H=function(){function X(se,ce){this.subtle=se,this.key=ce}return X.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},X}();var w=function(){function X(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.initTable()}var ge=X.prototype;return ge.uint8ArrayToUint32Array_=function(ce){for(var he=new DataView(ce),Me=new Uint32Array(4),Pe=0;Pe<4;Pe++)Me[Pe]=he.getUint32(4*Pe);return Me},ge.initTable=function(){var ce=this.sBox,he=this.invSBox,Me=this.subMix,Pe=Me[0],Oe=Me[1],at=Me[2],qe=Me[3],xt=this.invSubMix,vn=xt[0],Yt=xt[1],on=xt[2],cr=xt[3],Et=new Uint32Array(256),yn=0,Tn=0,tt=0;for(tt=0;tt<256;tt++)Et[tt]=tt<128?tt<<1:tt<<1^283;for(tt=0;tt<256;tt++){var Jt=Tn^Tn<<1^Tn<<2^Tn<<3^Tn<<4;ce[yn]=Jt=Jt>>>8^255&Jt^99,he[Jt]=yn;var Qt=Et[yn],ut=Et[Qt],Zn=Et[ut],$e=257*Et[Jt]^16843008*Jt;Pe[yn]=$e<<24|$e>>>8,Oe[yn]=$e<<16|$e>>>16,at[yn]=$e<<8|$e>>>24,qe[yn]=$e,vn[Jt]=($e=16843009*Zn^65537*ut^257*Qt^16843008*yn)<<24|$e>>>8,Yt[Jt]=$e<<16|$e>>>16,on[Jt]=$e<<8|$e>>>24,cr[Jt]=$e,yn?(yn=Qt^Et[Et[Et[Zn^Qt]]],Tn^=Et[Et[Tn]]):yn=Tn=1}},ge.expandKey=function(ce){for(var he=this.uint8ArrayToUint32Array_(ce),Me=!0,Pe=0;Pe<he.length&&Me;)Me=he[Pe]===this.key[Pe],Pe++;if(!Me){this.key=he;var Oe=this.keySize=he.length;if(4!==Oe&&6!==Oe&&8!==Oe)throw new Error("Invalid aes key size="+Oe);var qe,xt,Qt,ut,at=this.ksRows=4*(Oe+6+1),vn=this.keySchedule=new Uint32Array(at),Yt=this.invKeySchedule=new Uint32Array(at),on=this.sBox,cr=this.rcon,Et=this.invSubMix,yn=Et[0],Tn=Et[1],tt=Et[2],Jt=Et[3];for(qe=0;qe<at;qe++)qe<Oe?Qt=vn[qe]=he[qe]:(ut=Qt,qe%Oe==0?(ut=on[(ut=ut<<8|ut>>>24)>>>24]<<24|on[ut>>>16&255]<<16|on[ut>>>8&255]<<8|on[255&ut],ut^=cr[qe/Oe|0]<<24):Oe>6&&qe%Oe==4&&(ut=on[ut>>>24]<<24|on[ut>>>16&255]<<16|on[ut>>>8&255]<<8|on[255&ut]),vn[qe]=Qt=(vn[qe-Oe]^ut)>>>0);for(xt=0;xt<at;xt++)qe=at-xt,ut=3&xt?vn[qe]:vn[qe-4],Yt[xt]=xt<4||qe<=4?ut:yn[on[ut>>>24]]^Tn[on[ut>>>16&255]]^tt[on[ut>>>8&255]]^Jt[on[255&ut]],Yt[xt]=Yt[xt]>>>0}},ge.networkToHostOrderSwap=function(ce){return ce<<24|(65280&ce)<<8|(16711680&ce)>>8|ce>>>24},ge.decrypt=function(ce,he,Me,Pe){for(var Zn,$e,Ei,Hr,Ue,vt,rr,je,Ar,Ds,Hn,wi,Jn,Cs,Oe=this.keySize+6,at=this.invKeySchedule,qe=this.invSBox,xt=this.invSubMix,vn=xt[0],Yt=xt[1],on=xt[2],cr=xt[3],Et=this.uint8ArrayToUint32Array_(Me),yn=Et[0],Tn=Et[1],tt=Et[2],Jt=Et[3],Qt=new Int32Array(ce),ut=new Int32Array(Qt.length),Xt=this.networkToHostOrderSwap;he<Qt.length;){for(Ar=Xt(Qt[he]),Ds=Xt(Qt[he+1]),Hn=Xt(Qt[he+2]),wi=Xt(Qt[he+3]),Ue=Ar^at[0],vt=wi^at[1],rr=Hn^at[2],je=Ds^at[3],Jn=4,Cs=1;Cs<Oe;Cs++)$e=vn[vt>>>24]^Yt[rr>>16&255]^on[je>>8&255]^cr[255&Ue]^at[Jn+1],Ei=vn[rr>>>24]^Yt[je>>16&255]^on[Ue>>8&255]^cr[255&vt]^at[Jn+2],Hr=vn[je>>>24]^Yt[Ue>>16&255]^on[vt>>8&255]^cr[255&rr]^at[Jn+3],Ue=Zn=vn[Ue>>>24]^Yt[vt>>16&255]^on[rr>>8&255]^cr[255&je]^at[Jn],vt=$e,rr=Ei,je=Hr,Jn+=4;Zn=qe[Ue>>>24]<<24^qe[vt>>16&255]<<16^qe[rr>>8&255]<<8^qe[255&je]^at[Jn],$e=qe[vt>>>24]<<24^qe[rr>>16&255]<<16^qe[je>>8&255]<<8^qe[255&Ue]^at[Jn+1],Ei=qe[rr>>>24]<<24^qe[je>>16&255]<<16^qe[Ue>>8&255]<<8^qe[255&vt]^at[Jn+2],Hr=qe[je>>>24]<<24^qe[Ue>>16&255]<<16^qe[vt>>8&255]<<8^qe[255&rr]^at[Jn+3],Jn+=3,ut[he]=Xt(Zn^yn),ut[he+1]=Xt(Hr^Tn),ut[he+2]=Xt(Ei^tt),ut[he+3]=Xt($e^Jt),yn=Ar,Tn=Ds,tt=Hn,Jt=wi,he+=4}return Pe?function be(X){var ge=X.byteLength,se=ge&&new DataView(X).getUint8(ge-1);return se?X.slice(0,ge-se):X}(ut.buffer):ut.buffer},ge.destroy=function(){this.key=void 0,this.keySize=void 0,this.ksRows=void 0,this.sBox=void 0,this.invSBox=void 0,this.subMix=void 0,this.invSubMix=void 0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.rcon=void 0},X}(),we=ee("./src/errors.ts"),P=ee("./src/utils/logger.js"),N=ee("./src/events.js"),W=ee("./src/utils/get-self-scope.js"),j=Object(W.getSelfScope)();et.default=function(){function X(se,ce,he){var Pe=(void 0===he?{}:he).removePKCS7Padding,Oe=void 0===Pe||Pe;if(this.logEnabled=!0,this.observer=se,this.config=ce,this.removePKCS7Padding=Oe,Oe)try{var at=j.crypto;at&&(this.subtle=at.subtle||at.webkitSubtle)}catch{}this.disableWebCrypto=!this.subtle}var ge=X.prototype;return ge.isSync=function(){return this.disableWebCrypto&&this.config.enableSoftwareAES},ge.decrypt=function(ce,he,Me,Pe){var Oe=this;if(this.disableWebCrypto&&this.config.enableSoftwareAES){this.logEnabled&&(P.logger.log("JS AES decrypt"),this.logEnabled=!1);var at=this.decryptor;at||(this.decryptor=at=new w),at.expandKey(he),Pe(at.decrypt(ce,0,Me,this.removePKCS7Padding))}else{this.logEnabled&&(P.logger.log("WebCrypto AES decrypt"),this.logEnabled=!1);var qe=this.subtle;this.key!==he&&(this.key=he,this.fastAesKey=new H(qe,he)),this.fastAesKey.expandKey().then(function(xt){new Ce(qe,Me).decrypt(ce,xt).catch(function(Yt){Oe.onWebCryptoError(Yt,ce,he,Me,Pe)}).then(function(Yt){Pe(Yt)})}).catch(function(xt){Oe.onWebCryptoError(xt,ce,he,Me,Pe)})}},ge.onWebCryptoError=function(ce,he,Me,Pe,Oe){this.config.enableSoftwareAES?(P.logger.log("WebCrypto Error, disable WebCrypto API"),this.disableWebCrypto=!0,this.logEnabled=!0,this.decrypt(he,Me,Pe,Oe)):(P.logger.error("decrypting error : "+ce.message),this.observer.trigger(N.default.ERROR,{type:we.ErrorTypes.MEDIA_ERROR,details:we.ErrorDetails.FRAG_DECRYPT_ERROR,fatal:!0,reason:ce.message}))},ge.destroy=function(){var ce=this.decryptor;ce&&(ce.destroy(),this.decryptor=void 0)},X}()},"./src/demux/demuxer-inline.js":function(mn,et,ee){"use strict";ee.r(et);var Ce=ee("./src/events.js"),ve=ee("./src/errors.ts"),H=ee("./src/crypt/decrypter.js"),be=ee("./src/polyfills/number.js"),E=ee("./src/utils/logger.js"),w=ee("./src/utils/get-self-scope.js");function P(I,G){return 255===I[G]&&240==(246&I[G+1])}function N(I,G){return 1&I[G+1]?7:9}function W(I,G){return(3&I[G+3])<<11|I[G+4]<<3|(224&I[G+5])>>>5}function j(I,G){return!!(G+1<I.length&&P(I,G))}function $(I,G){if(j(I,G)){var O=N(I,G);if(G+O>=I.length)return!1;var D=W(I,G);if(D<=O)return!1;var A=G+D;if(A===I.length||A+1<I.length&&P(I,A))return!0}return!1}function ne(I,G,O,D,A){if(!I.samplerate){var F=function we(I,G,O,D){var A,F,L,V,z,q=navigator.userAgent.toLowerCase(),Z=D,ie=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];if(A=1+((192&G[O+2])>>>6),!((F=(60&G[O+2])>>>2)>ie.length-1))return V=(1&G[O+2])<<2,E.logger.log("manifest codec:"+D+",ADTS data:type:"+A+",sampleingIndex:"+F+"["+ie[F]+"Hz],channelConfig:"+(V|=(192&G[O+3])>>>6)),/firefox/i.test(q)?F>=6?(A=5,z=new Array(4),L=F-3):(A=2,z=new Array(2),L=F):-1!==q.indexOf("android")?(A=2,z=new Array(2),L=F):(A=5,z=new Array(4),D&&(-1!==D.indexOf("mp4a.40.29")||-1!==D.indexOf("mp4a.40.5"))||!D&&F>=6?L=F-3:((D&&-1!==D.indexOf("mp4a.40.2")&&(F>=6&&1===V||/vivaldi/i.test(q))||!D&&1===V)&&(A=2,z=new Array(2)),L=F)),z[0]=A<<3,z[0]|=(14&F)>>1,z[1]|=(1&F)<<7,z[1]|=V<<3,5===A&&(z[1]|=(14&L)>>1,z[2]=(1&L)<<7,z[2]|=8,z[3]=0),{config:z,samplerate:ie[F],channelCount:V,codec:"mp4a.40."+A,manifestCodec:Z};I.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MEDIA_ERROR,details:ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+F})}(G,O,D,A);I.config=F.config,I.samplerate=F.samplerate,I.channelCount=F.channelCount,I.codec=F.codec,I.manifestCodec=F.manifestCodec,E.logger.log("parsed codec:"+I.codec+",rate:"+F.samplerate+",nb channel:"+F.channelCount)}}function X(I){return 9216e4/I}function se(I,G,O,D,A){var L=function ge(I,G,O,D,A){var F,L,z=I.length;if(F=N(I,G),L=W(I,G),(L-=F)>0&&G+F+L<=z)return{headerLength:F,frameLength:L,stamp:O+D*A}}(G,O,D,A,X(I.samplerate));if(L){var V=L.stamp,z=L.headerLength,q=L.frameLength,Z={unit:G.subarray(O+z,O+z+q),pts:V,dts:V};return I.samples.push(Z),{sample:Z,length:q+z}}}var ce=ee("./src/demux/id3.js"),Me=function(){function I(O,D,A){this.observer=O,this.config=A,this.remuxer=D}var G=I.prototype;return G.resetInitSegment=function(D,A,F,L){this._audioTrack={container:"audio/adts",type:"audio",id:0,sequenceNumber:0,isAAC:!0,samples:[],len:0,manifestCodec:A,duration:L,inputTimeScale:9e4}},G.resetTimeStamp=function(){},I.probe=function(D){if(!D)return!1;for(var F=(ce.default.getID3Data(D,0)||[]).length,L=D.length;F<L;F++)if($(D,F))return E.logger.log("ADTS sync word found !"),!0;return!1},G.append=function(D,A,F,L){for(var V=this._audioTrack,z=ce.default.getID3Data(D,0)||[],q=ce.default.getTimeStamp(z),Z=Object(be.isFiniteNumber)(q)?90*q:9e4*A,ie=0,ue=Z,ae=D.length,ye=z.length,Ae=[{pts:ue,dts:ue,data:z}];ye<ae-1;)if(j(D,ye)&&ye+5<ae){ne(V,this.observer,D,ye,V.manifestCodec);var pe=se(V,D,ye,Z,ie);if(!pe){E.logger.log("Unable to parse AAC frame");break}ye+=pe.length,ue=pe.sample.pts,ie++}else ce.default.isHeader(D,ye)?(z=ce.default.getID3Data(D,ye),Ae.push({pts:ue,dts:ue,data:z}),ye+=z.length):ye++;this.remuxer.remux(V,{samples:[]},{samples:Ae,inputTimeScale:9e4},{samples:[]},A,F,L)},G.destroy=function(){},I}(),Pe=ee("./src/demux/mp4demuxer.js"),Oe={BitratesMap:[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],SamplingRateMap:[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SamplesCoefficients:[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],BytesInSlot:[0,1,1,4],appendFrame:function(G,O,D,A,F){if(!(D+24>O.length)){var L=this.parseHeader(O,D);if(L&&D+L.frameLength<=O.length){var z=A+F*(9e4*L.samplesPerFrame/L.sampleRate),q={unit:O.subarray(D,D+L.frameLength),pts:z,dts:z};return G.config=[],G.channelCount=L.channelCount,G.samplerate=L.sampleRate,G.samples.push(q),{sample:q,length:L.frameLength}}}},parseHeader:function(G,O){var D=G[O+1]>>3&3,A=G[O+1]>>1&3,F=G[O+2]>>4&15,L=G[O+2]>>2&3;if(1!==D&&0!==F&&15!==F&&3!==L){var ie=Oe.SamplingRateMap[3*(3===D?0:2===D?1:2)+L],ae=Oe.SamplesCoefficients[D][A],ye=Oe.BytesInSlot[A],Ae=8*ae*ye;return{sampleRate:ie,channelCount:G[O+3]>>6==3?1:2,frameLength:parseInt(ae*(1e3*Oe.BitratesMap[14*(3===D?3-A:3===A?3:4)+F-1])/ie+(G[O+2]>>1&1),10)*ye,samplesPerFrame:Ae}}},isHeaderPattern:function(G,O){return 255===G[O]&&224==(224&G[O+1])&&0!=(6&G[O+1])},isHeader:function(G,O){return!!(O+1<G.length&&this.isHeaderPattern(G,O))},probe:function(G,O){if(O+1<G.length&&this.isHeaderPattern(G,O)){var A=this.parseHeader(G,O),F=4;A&&A.frameLength&&(F=A.frameLength);var L=O+F;if(L===G.length||L+1<G.length&&this.isHeaderPattern(G,L))return!0}return!1}},at=Oe,xt=function(){function I(O){this.data=O,this.bytesAvailable=O.byteLength,this.word=0,this.bitsAvailable=0}var G=I.prototype;return G.loadWord=function(){var D=this.data,A=this.bytesAvailable,F=D.byteLength-A,L=new Uint8Array(4),V=Math.min(4,A);if(0===V)throw new Error("no bytes available");L.set(D.subarray(F,F+V)),this.word=new DataView(L.buffer).getUint32(0),this.bitsAvailable=8*V,this.bytesAvailable-=V},G.skipBits=function(D){var A;this.bitsAvailable>D?(this.word<<=D,this.bitsAvailable-=D):(D-=this.bitsAvailable,D-=(A=D>>3)>>3,this.bytesAvailable-=A,this.loadWord(),this.word<<=D,this.bitsAvailable-=D)},G.readBits=function(D){var A=Math.min(this.bitsAvailable,D),F=this.word>>>32-A;return D>32&&E.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=A,this.bitsAvailable>0?this.word<<=A:this.bytesAvailable>0&&this.loadWord(),(A=D-A)>0&&this.bitsAvailable?F<<A|this.readBits(A):F},G.skipLZ=function(){var D;for(D=0;D<this.bitsAvailable;++D)if(0!=(this.word&2147483648>>>D))return this.word<<=D,this.bitsAvailable-=D,D;return this.loadWord(),D+this.skipLZ()},G.skipUEG=function(){this.skipBits(1+this.skipLZ())},G.skipEG=function(){this.skipBits(1+this.skipLZ())},G.readUEG=function(){var D=this.skipLZ();return this.readBits(D+1)-1},G.readEG=function(){var D=this.readUEG();return 1&D?1+D>>>1:-1*(D>>>1)},G.readBoolean=function(){return 1===this.readBits(1)},G.readUByte=function(){return this.readBits(8)},G.readUShort=function(){return this.readBits(16)},G.readUInt=function(){return this.readBits(32)},G.skipScalingList=function(D){var L,A=8,F=8;for(L=0;L<D;L++)0!==F&&(F=(A+this.readEG()+256)%256),A=0===F?A:F},G.readSPS=function(){var V,Z,ie,ue,ae,ye,Ae,D=0,A=0,F=0,L=0,pe=this.readUByte.bind(this),Le=this.readBits.bind(this),Fe=this.readUEG.bind(this),Ye=this.readBoolean.bind(this),ct=this.skipBits.bind(this),rt=this.skipEG.bind(this),Mt=this.skipUEG.bind(this),wt=this.skipScalingList.bind(this);if(pe(),V=pe(),Le(5),ct(3),pe(),Mt(),100===V||110===V||122===V||244===V||44===V||83===V||86===V||118===V||128===V){var en=Fe();if(3===en&&ct(1),Mt(),Mt(),ct(1),Ye())for(ye=3!==en?8:12,Ae=0;Ae<ye;Ae++)Ye()&&wt(Ae<6?16:64)}Mt();var St=Fe();if(0===St)Fe();else if(1===St)for(ct(1),rt(),rt(),Z=Fe(),Ae=0;Ae<Z;Ae++)rt();Mt(),ct(1),ie=Fe(),ue=Fe(),0===(ae=Le(1))&&ct(1),ct(1),Ye()&&(D=Fe(),A=Fe(),F=Fe(),L=Fe());var Ze=[1,1];if(Ye()&&Ye())switch(pe()){case 1:Ze=[1,1];break;case 2:Ze=[12,11];break;case 3:Ze=[10,11];break;case 4:Ze=[16,11];break;case 5:Ze=[40,33];break;case 6:Ze=[24,11];break;case 7:Ze=[20,11];break;case 8:Ze=[32,11];break;case 9:Ze=[80,33];break;case 10:Ze=[18,11];break;case 11:Ze=[15,11];break;case 12:Ze=[64,33];break;case 13:Ze=[160,99];break;case 14:Ze=[4,3];break;case 15:Ze=[3,2];break;case 16:Ze=[2,1];break;case 255:Ze=[pe()<<8|pe(),pe()<<8|pe()]}return{width:Math.ceil(16*(ie+1)-2*D-2*A),height:(2-ae)*(ue+1)*16-(ae?2:4)*(F+L),pixelRatio:Ze}},G.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},I}(),Yt=function(){function I(O,D,A,F){this.decryptdata=A,this.discardEPB=F,this.decrypter=new H.default(O,D,{removePKCS7Padding:!1})}var G=I.prototype;return G.decryptBuffer=function(D,A){this.decrypter.decrypt(D,this.decryptdata.key.buffer,this.decryptdata.iv.buffer,A)},G.decryptAacSample=function(D,A,F,L){var V=D[A].unit,z=V.subarray(16,V.length-V.length%16),q=z.buffer.slice(z.byteOffset,z.byteOffset+z.length),Z=this;this.decryptBuffer(q,function(ie){ie=new Uint8Array(ie),V.set(ie,16),L||Z.decryptAacSamples(D,A+1,F)})},G.decryptAacSamples=function(D,A,F){for(;;A++){if(A>=D.length)return void F();if(!(D[A].unit.length<32)){var L=this.decrypter.isSync();if(this.decryptAacSample(D,A,F,L),!L)return}}},G.getAvcEncryptedData=function(D){for(var A=16*Math.floor((D.length-48)/160)+16,F=new Int8Array(A),L=0,V=32;V<=D.length-16;V+=160,L+=16)F.set(D.subarray(V,V+16),L);return F},G.getAvcDecryptedUnit=function(D,A){A=new Uint8Array(A);for(var F=0,L=32;L<=D.length-16;L+=160,F+=16)D.set(A.subarray(F,F+16),L);return D},G.decryptAvcSample=function(D,A,F,L,V,z){var q=this.discardEPB(V.data),Z=this.getAvcEncryptedData(q),ie=this;this.decryptBuffer(Z.buffer,function(ue){V.data=ie.getAvcDecryptedUnit(q,ue),z||ie.decryptAvcSamples(D,A,F+1,L)})},G.decryptAvcSamples=function(D,A,F,L){for(;;A++,F=0){if(A>=D.length)return void L();for(var V=D[A].units;!(F>=V.length);F++){var z=V[F];if(!(z.data.length<=48||1!==z.type&&5!==z.type)){var q=this.decrypter.isSync();if(this.decryptAvcSample(D,A,F,L,z,q),!q)return}}}},I}(),on={video:1,audio:2,id3:3,text:4},Et=function(){function I(O,D,A,F){this.observer=O,this.config=A,this.typeSupported=F,this.remuxer=D,this.sampleAes=null,this.pmtUnknownTypes={}}var G=I.prototype;return G.setDecryptData=function(D){this.sampleAes=null!=D&&null!=D.key&&"SAMPLE-AES"===D.method?new Yt(this.observer,this.config,D,this.discardEPB):null},I.probe=function(D){var A=I._syncOffset(D);return!(A<0||(A&&E.logger.warn("MPEG2-TS detected but first sync word found @ offset "+A+", junk ahead ?"),0))},I._syncOffset=function(D){for(var A=Math.min(1e3,D.length-564),F=0;F<A;){if(71===D[F]&&71===D[F+188]&&71===D[F+376])return F;F++}return-1},I.createTrack=function(D,A){return{container:"video"===D||"audio"===D?"video/mp2t":void 0,type:D,id:on[D],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:"video"===D?0:void 0,isAAC:"audio"===D||void 0,duration:"audio"===D?A:void 0}},G.resetInitSegment=function(D,A,F,L){this.pmtParsed=!1,this._pmtId=-1,this.pmtUnknownTypes={},this._avcTrack=I.createTrack("video",L),this._audioTrack=I.createTrack("audio",L),this._id3Track=I.createTrack("id3",L),this._txtTrack=I.createTrack("text",L),this.aacOverFlow=null,this.aacLastPTS=null,this.avcSample=null,this.audioCodec=A,this.videoCodec=F,this._duration=L},G.resetTimeStamp=function(){},G.append=function(D,A,F,L){var V,q,Z,ue,ae,z=D.length,ye=!1;this.pmtUnknownTypes={},this.contiguous=F;var Ae=this.pmtParsed,pe=this._avcTrack,Le=this._audioTrack,Fe=this._id3Track,Ye=pe.pid,ct=Le.pid,rt=Fe.pid,Mt=this._pmtId,wt=pe.pesData,en=Le.pesData,St=Fe.pesData,Ze=this._parsePAT,At=this._parsePMT.bind(this),Ln=this._parsePES,cn=this._parseAVCPES.bind(this),Pn=this._parseAACPES.bind(this),_n=this._parseMPEGPES.bind(this),Nn=this._parseID3PES.bind(this),In=I._syncOffset(D);for(z-=(z+In)%188,V=In;V<z;V+=188)if(71===D[V]){if(q=!!(64&D[V+1]),Z=((31&D[V+1])<<8)+D[V+2],(48&D[V+3])>>4>1){if((ue=V+5+D[V+4])===V+188)continue}else ue=V+4;switch(Z){case Ye:q&&(wt&&(ae=Ln(wt))&&cn(ae,!1),wt={data:[],size:0}),wt&&(wt.data.push(D.subarray(ue,V+188)),wt.size+=V+188-ue);break;case ct:q&&(en&&(ae=Ln(en))&&(Le.isAAC?Pn(ae):_n(ae)),en={data:[],size:0}),en&&(en.data.push(D.subarray(ue,V+188)),en.size+=V+188-ue);break;case rt:q&&(St&&(ae=Ln(St))&&Nn(ae),St={data:[],size:0}),St&&(St.data.push(D.subarray(ue,V+188)),St.size+=V+188-ue);break;case 0:q&&(ue+=D[ue]+1),Mt=this._pmtId=Ze(D,ue);break;case Mt:q&&(ue+=D[ue]+1);var an=At(D,ue,!0===this.typeSupported.mpeg||!0===this.typeSupported.mp3,null!=this.sampleAes);(Ye=an.avc)>0&&(pe.pid=Ye),(ct=an.audio)>0&&(Le.pid=ct,Le.isAAC=an.isAAC),(rt=an.id3)>0&&(Fe.pid=rt),ye&&!Ae&&(E.logger.log("reparse from beginning"),ye=!1,V=In-188),Ae=this.pmtParsed=!0;break;case 17:case 8191:break;default:ye=!0}}else this.observer.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MEDIA_ERROR,details:ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"TS packet did not start with 0x47"});wt&&(ae=Ln(wt))?(cn(ae,!0),pe.pesData=null):pe.pesData=wt,en&&(ae=Ln(en))?(Le.isAAC?Pn(ae):_n(ae),Le.pesData=null):(en&&en.size&&E.logger.log("last AAC PES packet truncated,might overlap between fragments"),Le.pesData=en),St&&(ae=Ln(St))?(Nn(ae),Fe.pesData=null):Fe.pesData=St,null==this.sampleAes?this.remuxer.remux(Le,pe,Fe,this._txtTrack,A,F,L):this.decryptAndRemux(Le,pe,Fe,this._txtTrack,A,F,L)},G.decryptAndRemux=function(D,A,F,L,V,z,q){if(D.samples&&D.isAAC){var Z=this;this.sampleAes.decryptAacSamples(D.samples,0,function(){Z.decryptAndRemuxAvc(D,A,F,L,V,z,q)})}else this.decryptAndRemuxAvc(D,A,F,L,V,z,q)},G.decryptAndRemuxAvc=function(D,A,F,L,V,z,q){if(A.samples){var Z=this;this.sampleAes.decryptAvcSamples(A.samples,0,0,function(){Z.remuxer.remux(D,A,F,L,V,z,q)})}else this.remuxer.remux(D,A,F,L,V,z,q)},G.destroy=function(){this._initPTS=this._initDTS=void 0,this._duration=0},G._parsePAT=function(D,A){return(31&D[A+10])<<8|D[A+11]},G._trackUnknownPmt=function(D,A,F){var L=this.pmtUnknownTypes[D]||0;return 0===L&&(this.pmtUnknownTypes[D]=0,A.call(E.logger,F)),this.pmtUnknownTypes[D]++,L},G._parsePMT=function(D,A,F,L){var z,Z,ie={audio:-1,avc:-1,id3:-1,isAAC:!0};for(z=A+3+((15&D[A+1])<<8|D[A+2])-4,A+=12+((15&D[A+10])<<8|D[A+11]);A<z;){switch(Z=(31&D[A+1])<<8|D[A+2],D[A]){case 207:if(!L){this._trackUnknownPmt(D[A],E.logger.warn,"ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===ie.audio&&(ie.audio=Z);break;case 21:-1===ie.id3&&(ie.id3=Z);break;case 219:if(!L){this._trackUnknownPmt(D[A],E.logger.warn,"H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===ie.avc&&(ie.avc=Z);break;case 3:case 4:F?-1===ie.audio&&(ie.audio=Z,ie.isAAC=!1):this._trackUnknownPmt(D[A],E.logger.warn,"MPEG audio found, not supported in this browser");break;case 36:this._trackUnknownPmt(D[A],E.logger.warn,"Unsupported HEVC stream type found");break;default:this._trackUnknownPmt(D[A],E.logger.log,"Unknown stream type:"+D[A])}A+=5+((15&D[A+3])<<8|D[A+4])}return ie},G._parsePES=function(D){var F,L,z,q,Z,ie,ue,ae,A=0,ye=D.data;if(!D||0===D.size)return null;for(;ye[0].length<19&&ye.length>1;){var Ae=new Uint8Array(ye[0].length+ye[1].length);Ae.set(ye[0]),Ae.set(ye[1],ye[0].length),ye[0]=Ae,ye.splice(1,1)}if(1===((F=ye[0])[0]<<16)+(F[1]<<8)+F[2]){if((z=(F[4]<<8)+F[5])&&z>D.size-6||(192&(L=F[7])&&(ie=536870912*(14&F[9])+4194304*(255&F[10])+16384*(254&F[11])+128*(255&F[12])+(254&F[13])/2,64&L?ie-(ue=536870912*(14&F[14])+4194304*(255&F[15])+16384*(254&F[16])+128*(255&F[17])+(254&F[18])/2)>54e5&&(E.logger.warn(Math.round((ie-ue)/9e4)+"s delta between PTS and DTS, align them"),ie=ue):ue=ie),D.size<=(ae=(q=F[8])+9)))return null;D.size-=ae,Z=new Uint8Array(D.size);for(var pe=0,Le=ye.length;pe<Le;pe++){var Fe=(F=ye[pe]).byteLength;if(ae){if(ae>Fe){ae-=Fe;continue}F=F.subarray(ae),Fe-=ae,ae=0}Z.set(F,A),A+=Fe}return z&&(z-=q+3),{data:Z,pts:ie,dts:ue,len:z}}return null},G.pushAccesUnit=function(D,A){if(D.units.length&&D.frame){var F=A.samples,L=F.length;if(isNaN(D.pts)){if(!L)return void A.dropped++;var V=F[L-1];D.pts=V.pts,D.dts=V.dts}!this.config.forceKeyFrameOnDiscontinuity||!0===D.key||A.sps&&(L||this.contiguous)?(D.id=L,F.push(D)):A.dropped++}D.debug.length&&E.logger.log(D.pts+"/"+D.dts+":"+D.debug)},G._parseAVCPES=function(D,A){var q,ie,ae,F=this,L=this._avcTrack,V=this._parseAVCNALu(D.data),Z=this.avcSample,ue=!1,ye=this.pushAccesUnit.bind(this),Ae=function(Le,Fe,Ye,ct){return{key:Le,pts:Fe,dts:Ye,units:[],debug:ct}};D.data=null,Z&&V.length&&!L.audFound&&(ye(Z,L),Z=this.avcSample=Ae(!1,D.pts,D.dts,"")),V.forEach(function(pe){switch(pe.type){case 1:ie=!0,Z||(Z=F.avcSample=Ae(!0,D.pts,D.dts,"")),Z.frame=!0;var Le=pe.data;if(ue&&Le.length>4){var Fe=new xt(Le).readSliceType();(2===Fe||4===Fe||7===Fe||9===Fe)&&(Z.key=!0)}break;case 5:ie=!0,Z||(Z=F.avcSample=Ae(!0,D.pts,D.dts,"")),Z.key=!0,Z.frame=!0;break;case 6:ie=!0,(q=new xt(F.discardEPB(pe.data))).readUByte();for(var Ye=0,ct=0,rt=!1,Mt=0;!rt&&q.bytesAvailable>1;){Ye=0;do{Ye+=Mt=q.readUByte()}while(255===Mt);ct=0;do{ct+=Mt=q.readUByte()}while(255===Mt);if(4===Ye&&0!==q.bytesAvailable){if(rt=!0,181===q.readUByte()&&49===q.readUShort()&&1195456820===q.readUInt()&&3===q.readUByte()){var At=q.readUByte(),cn=31&At,Pn=[At,q.readUByte()];for(ae=0;ae<cn;ae++)Pn.push(q.readUByte()),Pn.push(q.readUByte()),Pn.push(q.readUByte());F._insertSampleInOrder(F._txtTrack.samples,{type:3,pts:D.pts,bytes:Pn})}}else if(5===Ye&&0!==q.bytesAvailable){if(rt=!0,ct>16){var _n=[];for(ae=0;ae<16;ae++)_n.push(q.readUByte().toString(16)),(3===ae||5===ae||7===ae||9===ae)&&_n.push("-");var Nn=ct-16,In=new Uint8Array(Nn);for(ae=0;ae<Nn;ae++)In[ae]=q.readUByte();F._insertSampleInOrder(F._txtTrack.samples,{pts:D.pts,payloadType:Ye,uuid:_n.join(""),userDataBytes:In,userData:Object(ce.utf8ArrayToStr)(In.buffer)})}}else if(ct<q.bytesAvailable)for(ae=0;ae<ct;ae++)q.readUByte()}break;case 7:if(ie=!0,ue=!0,!L.sps){var an=(q=new xt(pe.data)).readSPS();L.width=an.width,L.height=an.height,L.pixelRatio=an.pixelRatio,L.sps=[pe.data],L.duration=F._duration;var dn=pe.data.subarray(1,4),di="avc1.";for(ae=0;ae<3;ae++){var Nt=dn[ae].toString(16);Nt.length<2&&(Nt="0"+Nt),di+=Nt}L.codec=di}break;case 8:ie=!0,L.pps||(L.pps=[pe.data]);break;case 9:ie=!1,L.audFound=!0,Z&&ye(Z,L),Z=F.avcSample=Ae(!1,D.pts,D.dts,"");break;case 12:ie=!1;break;default:ie=!1,Z&&(Z.debug+="unknown NAL "+pe.type+" ")}Z&&ie&&Z.units.push(pe)}),A&&Z&&(ye(Z,L),this.avcSample=null)},G._insertSampleInOrder=function(D,A){var F=D.length;if(F>0){if(A.pts>=D[F-1].pts)D.push(A);else for(var L=F-1;L>=0;L--)if(A.pts<D[L].pts){D.splice(L,0,A);break}}else D.push(A)},G._getLastNalUnit=function(){var A,D=this.avcSample;if(!D||0===D.units.length){var L=this._avcTrack.samples;D=L[L.length-1]}if(D){var V=D.units;A=V[V.length-1]}return A},G._parseAVCNALu=function(D){var L,V,ue,Ae,A=0,F=D.byteLength,z=this._avcTrack,q=z.naluState||0,Z=q,ie=[],ye=-1;for(-1===q&&(ye=0,Ae=31&D[0],q=0,A=1);A<F;)if(L=D[A++],q)if(1!==q)if(L)if(1===L){if(ye>=0)ue={data:D.subarray(ye,A-q-1),type:Ae},ie.push(ue);else{var pe=this._getLastNalUnit();if(pe&&(Z&&A<=4-Z&&pe.state&&(pe.data=pe.data.subarray(0,pe.data.byteLength-Z)),(V=A-q-1)>0)){var Le=new Uint8Array(pe.data.byteLength+V);Le.set(pe.data,0),Le.set(D.subarray(0,V),pe.data.byteLength),pe.data=Le}}A<F?(ye=A,Ae=31&D[A],q=0):q=-1}else q=0;else q=3;else q=L?0:2;else q=L?0:1;if(ye>=0&&q>=0&&(ue={data:D.subarray(ye,F),type:Ae,state:q},ie.push(ue)),0===ie.length){var Fe=this._getLastNalUnit();if(Fe){var Ye=new Uint8Array(Fe.data.byteLength+D.byteLength);Ye.set(Fe.data,0),Ye.set(D,Fe.data.byteLength),Fe.data=Ye}}return z.naluState=q,ie},G.discardEPB=function(D){for(var V,z,A=D.byteLength,F=[],L=1;L<A-2;)0===D[L]&&0===D[L+1]&&3===D[L+2]?(F.push(L+2),L+=2):L++;if(0===F.length)return D;V=A-F.length,z=new Uint8Array(V);var q=0;for(L=0;L<V;q++,L++)q===F[0]&&(q++,F.shift()),z[L]=D[q];return z},G._parseAACPES=function(D){var Z,ie,ue,ae,ye,pe,Le,A=this._audioTrack,F=D.data,L=D.pts,z=this.aacOverFlow,q=this.aacLastPTS;if(z){var Ae=new Uint8Array(z.byteLength+F.byteLength);Ae.set(z,0),Ae.set(F,z.byteLength),F=Ae}for(ue=0,ye=F.length;ue<ye-1&&!j(F,ue);ue++);if(!ue||(ue<ye-1?(pe="AAC PES did not start with ADTS header,offset:"+ue,Le=!1):(pe="no ADTS header found in AAC PES",Le=!0),E.logger.warn("parsing error:"+pe),this.observer.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MEDIA_ERROR,details:ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:Le,reason:pe}),!Le)){if(ne(A,this.observer,F,ue,this.audioCodec),ie=0,Z=X(A.samplerate),z&&q){var Fe=q+Z;Math.abs(Fe-L)>1&&(E.logger.log("AAC: align PTS for overlapping frames by "+Math.round((Fe-L)/90)),L=Fe)}for(;ue<ye;){if(j(F,ue)){if(ue+5<ye){var Ye=se(A,F,ue,L,ie);if(Ye){ue+=Ye.length,ae=Ye.sample.pts,ie++;continue}}break}ue++}z=ue<ye?F.subarray(ue,ye):null,this.aacOverFlow=z,this.aacLastPTS=ae}},G._parseMPEGPES=function(D){for(var A=D.data,F=A.length,L=0,V=0,z=D.pts;V<F;)if(at.isHeader(A,V)){var q=at.appendFrame(this._audioTrack,A,V,z,L);if(!q)break;V+=q.length,L++}else V++},G._parseID3PES=function(D){this._id3Track.samples.push(D)},I}(),Tn=function(){function I(O,D,A){this.observer=O,this.config=A,this.remuxer=D}var G=I.prototype;return G.resetInitSegment=function(D,A,F,L){this._audioTrack={container:"audio/mpeg",type:"audio",id:-1,sequenceNumber:0,isAAC:!1,samples:[],len:0,manifestCodec:A,duration:L,inputTimeScale:9e4}},G.resetTimeStamp=function(){},I.probe=function(D){var A,F,L=ce.default.getID3Data(D,0);if(L&&void 0!==ce.default.getTimeStamp(L))for(A=L.length,F=Math.min(D.length-1,A+100);A<F;A++)if(at.probe(D,A))return E.logger.log("MPEG Audio sync word found !"),!0;return!1},G.append=function(D,A,F,L){for(var V=ce.default.getID3Data(D,0)||[],z=ce.default.getTimeStamp(V),q=void 0!==z?90*z:9e4*A,Z=V.length,ie=D.length,ue=0,ae=0,ye=this._audioTrack,Ae=[{pts:q,dts:q,data:V}];Z<ie;)if(at.isHeader(D,Z)){var pe=at.appendFrame(ye,D,Z,q,ue);if(!pe)break;Z+=pe.length,ae=pe.sample.pts,ue++}else ce.default.isHeader(D,Z)?(V=ce.default.getID3Data(D,Z),Ae.push({pts:ae,dts:ae,data:V}),Z+=V.length):Z++;this.remuxer.remux(ye,{samples:[]},{samples:Ae,inputTimeScale:9e4},{samples:[]},A,F,L)},G.destroy=function(){},I}(),Jt=function(){function I(){}return I.getSilentFrame=function(O,D){if("mp4a.40.2"===O){if(1===D)return new Uint8Array([0,200,0,128,35,128]);if(2===D)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===D)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===D)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===D)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===D)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===D)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===D)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===D)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null},I}(),Qt=Math.pow(2,32)-1,ut=function(){function I(){}return I.init=function(){var O;for(O in I.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]})I.types.hasOwnProperty(O)&&(I.types[O]=[O.charCodeAt(0),O.charCodeAt(1),O.charCodeAt(2),O.charCodeAt(3)]);var D=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),A=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);I.HDLR_TYPES={video:D,audio:A};var F=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),L=new Uint8Array([0,0,0,0,0,0,0,0]);I.STTS=I.STSC=I.STCO=L,I.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),I.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),I.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),I.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var V=new Uint8Array([105,115,111,109]),z=new Uint8Array([97,118,99,49]),q=new Uint8Array([0,0,0,1]);I.FTYP=I.box(I.types.ftyp,V,q,V,z),I.DINF=I.box(I.types.dinf,I.box(I.types.dref,F))},I.box=function(O){for(var V,D=Array.prototype.slice.call(arguments,1),A=8,F=D.length,L=F;F--;)A+=D[F].byteLength;for((V=new Uint8Array(A))[0]=A>>24&255,V[1]=A>>16&255,V[2]=A>>8&255,V[3]=255&A,V.set(O,4),F=0,A=8;F<L;F++)V.set(D[F],A),A+=D[F].byteLength;return V},I.hdlr=function(O){return I.box(I.types.hdlr,I.HDLR_TYPES[O])},I.mdat=function(O){return I.box(I.types.mdat,O)},I.mdhd=function(O,D){D*=O;var A=Math.floor(D/(Qt+1)),F=Math.floor(D%(Qt+1));return I.box(I.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,O>>24&255,O>>16&255,O>>8&255,255&O,A>>24,A>>16&255,A>>8&255,255&A,F>>24,F>>16&255,F>>8&255,255&F,85,196,0,0]))},I.mdia=function(O){return I.box(I.types.mdia,I.mdhd(O.timescale,O.duration),I.hdlr(O.type),I.minf(O))},I.mfhd=function(O){return I.box(I.types.mfhd,new Uint8Array([0,0,0,0,O>>24,O>>16&255,O>>8&255,255&O]))},I.minf=function(O){return I.box(I.types.minf,"audio"===O.type?I.box(I.types.smhd,I.SMHD):I.box(I.types.vmhd,I.VMHD),I.DINF,I.stbl(O))},I.moof=function(O,D,A){return I.box(I.types.moof,I.mfhd(O),I.traf(A,D))},I.moov=function(O){for(var D=O.length,A=[];D--;)A[D]=I.trak(O[D]);return I.box.apply(null,[I.types.moov,I.mvhd(O[0].timescale,O[0].duration)].concat(A).concat(I.mvex(O)))},I.mvex=function(O){for(var D=O.length,A=[];D--;)A[D]=I.trex(O[D]);return I.box.apply(null,[I.types.mvex].concat(A))},I.mvhd=function(O,D){D*=O;var A=Math.floor(D/(Qt+1)),F=Math.floor(D%(Qt+1)),L=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,O>>24&255,O>>16&255,O>>8&255,255&O,A>>24,A>>16&255,A>>8&255,255&A,F>>24,F>>16&255,F>>8&255,255&F,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return I.box(I.types.mvhd,L)},I.sdtp=function(O){var F,L,D=O.samples||[],A=new Uint8Array(4+D.length);for(L=0;L<D.length;L++)A[L+4]=(F=D[L].flags).dependsOn<<4|F.isDependedOn<<2|F.hasRedundancy;return I.box(I.types.sdtp,A)},I.stbl=function(O){return I.box(I.types.stbl,I.stsd(O),I.box(I.types.stts,I.STTS),I.box(I.types.stsc,I.STSC),I.box(I.types.stsz,I.STSZ),I.box(I.types.stco,I.STCO))},I.avc1=function(O){var F,L,V,D=[],A=[];for(F=0;F<O.sps.length;F++)D.push((V=(L=O.sps[F]).byteLength)>>>8&255),D.push(255&V),D=D.concat(Array.prototype.slice.call(L));for(F=0;F<O.pps.length;F++)A.push((V=(L=O.pps[F]).byteLength)>>>8&255),A.push(255&V),A=A.concat(Array.prototype.slice.call(L));var z=I.box(I.types.avcC,new Uint8Array([1,D[3],D[4],D[5],255,224|O.sps.length].concat(D).concat([O.pps.length]).concat(A))),q=O.width,Z=O.height,ie=O.pixelRatio[0],ue=O.pixelRatio[1];return I.box(I.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,q>>8&255,255&q,Z>>8&255,255&Z,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),z,I.box(I.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),I.box(I.types.pasp,new Uint8Array([ie>>24,ie>>16&255,ie>>8&255,255&ie,ue>>24,ue>>16&255,ue>>8&255,255&ue])))},I.esds=function(O){var D=O.config.length;return new Uint8Array([0,0,0,0,3,23+D,0,1,0,4,15+D,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([D]).concat(O.config).concat([6,1,2]))},I.mp4a=function(O){var D=O.samplerate;return I.box(I.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,O.channelCount,0,16,0,0,0,0,D>>8&255,255&D,0,0]),I.box(I.types.esds,I.esds(O)))},I.mp3=function(O){var D=O.samplerate;return I.box(I.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,O.channelCount,0,16,0,0,0,0,D>>8&255,255&D,0,0]))},I.stsd=function(O){return I.box(I.types.stsd,I.STSD,"audio"===O.type?O.isAAC||"mp3"!==O.codec?I.mp4a(O):I.mp3(O):I.avc1(O))},I.tkhd=function(O){var D=O.id,A=O.duration*O.timescale,F=O.width,L=O.height,V=Math.floor(A/(Qt+1)),z=Math.floor(A%(Qt+1));return I.box(I.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,D>>24&255,D>>16&255,D>>8&255,255&D,0,0,0,0,V>>24,V>>16&255,V>>8&255,255&V,z>>24,z>>16&255,z>>8&255,255&z,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,F>>8&255,255&F,0,0,L>>8&255,255&L,0,0]))},I.traf=function(O,D){var A=I.sdtp(O),F=O.id,L=Math.floor(D/(Qt+1)),V=Math.floor(D%(Qt+1));return I.box(I.types.traf,I.box(I.types.tfhd,new Uint8Array([0,0,0,0,F>>24,F>>16&255,F>>8&255,255&F])),I.box(I.types.tfdt,new Uint8Array([1,0,0,0,L>>24,L>>16&255,L>>8&255,255&L,V>>24,V>>16&255,V>>8&255,255&V])),I.trun(O,A.length+16+20+8+16+8+8),A)},I.trak=function(O){return O.duration=O.duration||4294967295,I.box(I.types.trak,I.tkhd(O),I.mdia(O))},I.trex=function(O){var D=O.id;return I.box(I.types.trex,new Uint8Array([0,0,0,0,D>>24,D>>16&255,D>>8&255,255&D,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},I.trun=function(O,D){var z,q,Z,ie,ue,ae,A=O.samples||[],F=A.length,L=12+16*F,V=new Uint8Array(L);for(V.set([0,0,15,1,F>>>24&255,F>>>16&255,F>>>8&255,255&F,(D+=8+L)>>>24&255,D>>>16&255,D>>>8&255,255&D],0),z=0;z<F;z++)V.set([(Z=(q=A[z]).duration)>>>24&255,Z>>>16&255,Z>>>8&255,255&Z,(ie=q.size)>>>24&255,ie>>>16&255,ie>>>8&255,255&ie,(ue=q.flags).isLeading<<2|ue.dependsOn,ue.isDependedOn<<6|ue.hasRedundancy<<4|ue.paddingValue<<1|ue.isNonSync,61440&ue.degradPrio,15&ue.degradPrio,(ae=q.cts)>>>24&255,ae>>>16&255,ae>>>8&255,255&ae],12+16*z);return I.box(I.types.trun,V)},I.initSegment=function(O){I.types||I.init();var A,D=I.moov(O);return(A=new Uint8Array(I.FTYP.byteLength+D.byteLength)).set(I.FTYP),A.set(D,I.FTYP.byteLength),A},I}(),Zn=ut;function Hr(I,G,O,D){void 0===O&&(O=1),void 0===D&&(D=!1);var A=I*G*O;return D?Math.round(A):A}function Ue(I,G){return void 0===G&&(G=!1),Hr(I,1e3,1/9e4,G)}function vt(I,G){return void 0===G&&(G=1),Hr(I,9e4,1/G)}var rr=vt(10),je=vt(.2),Ar=null;function Hn(I,G){var O;if(void 0===G)return I;for(O=G<I?-8589934592:8589934592;Math.abs(I-G)>4294967296;)I+=O;return I}var Es,wi=function(){function I(O,D,A,F){if(this.observer=O,this.config=D,this.typeSupported=A,this.ISGenerated=!1,null===Ar){var L=navigator.userAgent.match(/Chrome\/(\d+)/i);Ar=L?parseInt(L[1]):0}}var G=I.prototype;return G.destroy=function(){},G.resetTimeStamp=function(D){this._initPTS=this._initDTS=D},G.resetInitSegment=function(){this.ISGenerated=!1},G.getVideoStartPts=function(D){var A=!1,F=D.reduce(function(L,V){var z=V.pts-L;return z<-4294967296?(A=!0,Hn(L,V.pts)):z>0?L:V.pts},D[0].pts);return A&&E.logger.debug("PTS rollover detected"),F},G.remux=function(D,A,F,L,V,z,q){if(this.ISGenerated||this.generateIS(D,A,V),this.ISGenerated){var Z=D.samples.length,ie=A.samples.length,ue=V,ae=V;if(Z&&ie){var ye=this.getVideoStartPts(A.samples),pe=(Hn(D.samples[0].pts,ye)-ye)/A.inputTimeScale;ue+=Math.max(0,pe),ae+=Math.max(0,-pe)}if(Z){D.timescale||(E.logger.warn("regenerate InitSegment as audio detected"),this.generateIS(D,A,V));var Fe,Le=this.remuxAudio(D,ue,z,q);ie&&(Le&&(Fe=Le.endPTS-Le.startPTS),A.timescale||(E.logger.warn("regenerate InitSegment as video detected"),this.generateIS(D,A,V)),this.remuxVideo(A,ae,z,Fe))}else if(ie){var Ye=this.remuxVideo(A,ae,z,0,q);Ye&&D.codec&&this.remuxEmptyAudio(D,ue,z,Ye)}}F.samples.length&&this.remuxID3(F,V),L.samples.length&&this.remuxText(L,V),this.observer.trigger(Ce.default.FRAG_PARSED)},G.generateIS=function(D,A,F){var ye,Ae,L=this.observer,V=D.samples,z=A.samples,q=this.typeSupported,Z="audio/mp4",ie={},ue={tracks:ie},ae=void 0===this._initPTS;if(ae&&(ye=Ae=1/0),D.config&&V.length&&(D.timescale=D.samplerate,E.logger.log("audio sampling rate : "+D.samplerate),D.isAAC||(q.mpeg?(Z="audio/mpeg",D.codec=""):q.mp3&&(D.codec="mp3")),ie.audio={container:Z,codec:D.codec,initSegment:!D.isAAC&&q.mpeg?new Uint8Array:Zn.initSegment([D]),metadata:{channelCount:D.channelCount}},ae&&(ye=Ae=V[0].pts-Math.round(D.inputTimeScale*F))),A.sps&&A.pps&&z.length){var pe=A.inputTimeScale;if(A.timescale=pe,ie.video={container:"video/mp4",codec:A.codec,initSegment:Zn.initSegment([A]),metadata:{width:A.width,height:A.height}},ae){var Le=this.getVideoStartPts(z),Fe=Math.round(pe*F);Ae=Math.min(Ae,Hn(z[0].dts,Le)-Fe),ye=Math.min(ye,Le-Fe),this.observer.trigger(Ce.default.INIT_PTS_FOUND,{initPTS:ye})}}else ae&&ie.audio&&this.observer.trigger(Ce.default.INIT_PTS_FOUND,{initPTS:ye});Object.keys(ie).length?(L.trigger(Ce.default.FRAG_PARSING_INIT_SEGMENT,ue),this.ISGenerated=!0,ae&&(this._initPTS=ye,this._initDTS=Ae)):L.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MEDIA_ERROR,details:ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"no audio/video samples found"})},G.remuxVideo=function(D,A,F,L){var ae,ye,Ae,pe,Le,V=D.timescale,z=D.samples,q=[],Z=z.length,ie=this._initPTS,ue=8,Fe=Number.POSITIVE_INFINITY,Ye=Number.NEGATIVE_INFINITY,ct=0,rt=!1,Mt=this.nextAvcDts;if(0!==Z){F||(Mt=A*V-(z[0].pts-Hn(z[0].dts,z[0].pts)));for(var St=0;St<Z;St++){var Ze=z[St];Ze.pts=Hn(Ze.pts-ie,Mt),Ze.dts=Hn(Ze.dts-ie,Mt),Ze.dts>Ze.pts&&(ct=Math.max(Math.min(ct,Ze.pts-Ze.dts),-1*je)),Ze.dts<z[St>0?St-1:St].dts&&(rt=!0)}rt&&z.sort(function(Ti,eo){return Ti.dts-eo.dts||Ti.pts-eo.pts||Ti.id-eo.id}),pe=z[0].dts,Le=z[Z-1].dts;var At=Math.round((Le-pe)/(Z-1));if(ct<0){if(ct<-2*At){E.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Ue(-At,!0)+" ms");for(var Ln=ct,cn=0;cn<Z;cn++)z[cn].dts=Ln=Math.max(Ln,z[cn].pts-At),z[cn].pts=Math.max(Ln,z[cn].pts)}else{E.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Ue(ct,!0)+" ms to overcome this issue");for(var Pn=0;Pn<Z;Pn++)z[Pn].dts=z[Pn].dts+ct}pe=z[0].dts,Le=z[Z-1].dts}if(F){var _n=pe-Mt,Nn=_n>At;if(Nn||_n<-1){E.logger.warn(Nn?"AVC: "+Ue(_n,!0)+" ms ("+_n+"dts) hole between fragments detected, filling it":"AVC: "+Ue(-_n,!0)+" ms ("+_n+"dts) overlapping between fragments detected");var an=z[0].pts-_n;z[0].dts=pe=Mt,z[0].pts=an,E.logger.log("Video: First PTS/DTS adjusted: "+Ue(an,!0)+"/"+Ue(pe,!0)+", delta: "+Ue(_n,!0)+" ms")}}Ar&&Ar<75&&(pe=Math.max(0,pe));for(var dn=0,di=0,Nt=0;Nt<Z;Nt++){for(var tn=z[Nt],En=tn.units,ti=En.length,$r=0,Si=0;Si<ti;Si++)$r+=En[Si].data.length;di+=$r,dn+=ti,tn.length=$r,tn.dts=Math.max(tn.dts,pe),tn.pts=Math.max(tn.pts,tn.dts,0),Fe=Math.min(tn.pts,Fe),Ye=Math.max(tn.pts,Ye)}Le=z[Z-1].dts;var Q=di+4*dn+8;try{ye=new Uint8Array(Q)}catch{return void this.observer.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MUX_ERROR,details:ve.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:Q,reason:"fail allocating video mdat "+Q})}var ni=new DataView(ye.buffer);ni.setUint32(0,Q),ye.set(Zn.types.mdat,4);for(var Rn=0;Rn<Z;Rn++){for(var zr,pr=z[Rn],Ai=pr.units,Mi=0,Js=0,Lo=Ai.length;Js<Lo;Js++){var Po=Ai[Js],No=Po.data,Ss=Po.data.byteLength;ni.setUint32(ue,Ss),ye.set(No,ue+=4),ue+=Ss,Mi+=4+Ss}if(Rn<Z-1)ae=z[Rn+1].dts-pr.dts;else{var Vo=this.config,$t=pr.dts-z[Rn>0?Rn-1:Rn].dts;if(Vo.stretchShortVideoTrack){var Xi=Math.floor(Vo.maxBufferHole*V),Zi=(L?Fe+L*V:this.nextAudioPts)-pr.pts;Zi>Xi?((ae=Zi-$t)<0&&(ae=$t),E.logger.log("It is approximately "+Ue(Zi,!1)+" ms to the next segment; using duration "+Ue(ae,!1)+" ms for the last video frame.")):ae=$t}else ae=$t}zr=Math.round(pr.pts-pr.dts),q.push({size:Mi,duration:ae,cts:zr,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:pr.key?2:1,isNonSync:pr.key?0:1}})}this.nextAvcDts=Le+ae;var Ut=D.dropped;if(D.nbNalu=0,D.dropped=0,q.length&&navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var Ms=q[0].flags;Ms.dependsOn=2,Ms.isNonSync=0}D.samples=q,Ae=Zn.moof(D.sequenceNumber++,pe,D),D.samples=[];var Vt={data1:Ae,data2:ye,startPTS:Fe/V,endPTS:(Ye+ae)/V,startDTS:pe/V,endDTS:this.nextAvcDts/V,type:"video",hasAudio:!1,hasVideo:!0,nb:q.length,dropped:Ut};return this.observer.trigger(Ce.default.FRAG_PARSING_DATA,Vt),Vt}},G.remuxAudio=function(D,A,F,L){var ye,Ae,pe,Le,Fe,Ye,V=D.inputTimeScale,q=V/D.timescale,ie=(D.isAAC?1024:1152)*q,ue=this._initPTS,ae=!D.isAAC&&this.typeSupported.mpeg,ct=ae?0:8,rt=D.samples,Mt=[],wt=this.nextAudioPts;if(F|=rt.length&&wt&&(L&&Math.abs(A-wt/V)<.1||Math.abs(rt[0].pts-wt-ue)<20*ie),rt.forEach(function(zr){zr.pts=zr.dts=Hn(zr.pts-ue,A*V)}),0!==(rt=rt.filter(function(zr){return zr.pts>=0})).length){if(F||(wt=L?Math.max(0,A*V):rt[0].pts),D.isAAC)for(var en=this.config.maxAudioFramesDrift,St=0,Ze=wt;St<rt.length;){var At=rt[St],Ln=At.pts,cn=Ln-Ze;if(cn<=-en*ie)F||St>0?(E.logger.warn("Dropping 1 audio frame @ "+Ue(Ze,!0)/1e3+"s due to "+Ue(cn,!0)+" ms overlap."),rt.splice(St,1)):(E.logger.warn("Audio frame @ "+Ue(Ln,!0)/1e3+"s overlaps nextAudioPts by "+Ue(cn,!0)+" ms."),Ze=Ln+ie,St++);else if(cn>=en*ie&&cn<rr&&Ze){var Pn=Math.round(cn/ie);E.logger.warn("Injecting "+Pn+" audio frames @ "+Ue(Ze,!0)/1e3+"s due to "+Ue(cn,!0)+" ms gap.");for(var _n=0;_n<Pn;_n++){var Nn=Math.max(Ze,0);(Ae=Jt.getSilentFrame(D.manifestCodec||D.codec,D.channelCount))||(E.logger.log("Unable to get silent frame for given audio codec; duplicating last frame instead."),Ae=At.unit.subarray()),rt.splice(St,0,{unit:Ae,pts:Nn,dts:Nn}),Ze+=ie,St++}At.pts=At.dts=Ze,Ze+=ie,St++}else Math.abs(cn),At.pts=At.dts=Ze,Ze+=ie,St++}for(var In=rt.length,an=0;In--;)an+=rt[In].unit.byteLength;for(var dn=0,di=rt.length;dn<di;dn++){var Nt=rt[dn],tn=Nt.unit,En=Nt.pts;if(void 0!==Ye&&ye)ye.duration=Math.round((En-Ye)/q);else{var ti=En-wt,$r=0;if(F&&D.isAAC&&ti){if(ti>0&&ti<rr)$r=Math.round((En-wt)/ie),E.logger.log(Ue(ti,!0)+" ms hole between AAC samples detected,filling it"),$r>0&&((Ae=Jt.getSilentFrame(D.manifestCodec||D.codec,D.channelCount))||(Ae=tn.subarray()),an+=$r*Ae.length);else if(ti<-12){E.logger.log("drop overlapping AAC sample, expected/parsed/delta: "+Ue(wt,!0)+" ms / "+Ue(En,!0)+" ms / "+Ue(-ti,!0)+" ms"),an-=tn.byteLength;continue}En=wt}if(Fe=En,!(an>0))return;an+=ct;try{pe=new Uint8Array(an)}catch{return void this.observer.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MUX_ERROR,details:ve.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:an,reason:"fail allocating audio mdat "+an})}ae||(new DataView(pe.buffer).setUint32(0,an),pe.set(Zn.types.mdat,4));for(var Q=0;Q<$r;Q++)(Ae=Jt.getSilentFrame(D.manifestCodec||D.codec,D.channelCount))||(E.logger.log("Unable to get silent frame for given audio codec; duplicating this frame instead."),Ae=tn.subarray()),pe.set(Ae,ct),ct+=Ae.byteLength,Mt.push(ye={size:Ae.byteLength,cts:0,duration:1024,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}})}pe.set(tn,ct);var ni=tn.byteLength;ct+=ni,Mt.push(ye={size:ni,cts:0,duration:0,flags:{isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:1}}),Ye=En}var Rn=0;if((In=Mt.length)>=2&&(ye.duration=Rn=Mt[In-2].duration),In){this.nextAudioPts=wt=Ye+q*Rn,D.samples=Mt,Le=ae?new Uint8Array:Zn.moof(D.sequenceNumber++,Fe/q,D),D.samples=[];var pr=Fe/V,Ai=wt/V,Mi={data1:Le,data2:pe,startPTS:pr,endPTS:Ai,startDTS:pr,endDTS:Ai,type:"audio",hasAudio:!0,hasVideo:!1,nb:In};return this.observer.trigger(Ce.default.FRAG_PARSING_DATA,Mi),Mi}return null}},G.remuxEmptyAudio=function(D,A,F,L){var V=D.inputTimeScale,Z=this.nextAudioPts,ie=(void 0!==Z?Z:L.startDTS*V)+this._initDTS,ye=V/(D.samplerate?D.samplerate:V)*1024,Ae=Math.ceil((L.endDTS*V+this._initDTS-ie)/ye),pe=Jt.getSilentFrame(D.manifestCodec||D.codec,D.channelCount);if(E.logger.warn("remux empty Audio"),pe){for(var Le=[],Fe=0;Fe<Ae;Fe++){var Ye=ie+Fe*ye;Le.push({unit:pe,pts:Ye,dts:Ye})}D.samples=Le,this.remuxAudio(D,A,F)}else E.logger.trace("Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec!")},G.remuxID3=function(D,A){var F=D.samples.length;if(F){for(var L=D.inputTimeScale,V=this._initPTS,z=this._initDTS,q=0;q<F;q++){var Z=D.samples[q];Z.pts=Hn(Z.pts-V,A*L)/L,Z.dts=Hn(Z.dts-z,A*L)/L}this.observer.trigger(Ce.default.FRAG_PARSING_METADATA,{samples:D.samples}),D.samples=[]}},G.remuxText=function(D,A){var F=D.samples.length,L=D.inputTimeScale,V=this._initPTS;if(F){for(var z=0;z<F;z++){var q=D.samples[z];q.pts=Hn(q.pts-V,A*L)/L}D.samples.sort(function(Z,ie){return Z.pts-ie.pts}),this.observer.trigger(Ce.default.FRAG_PARSING_USERDATA,{samples:D.samples})}D.samples=[]},I}(),Cs=function(){function I(O){this.observer=O}var G=I.prototype;return G.destroy=function(){},G.resetTimeStamp=function(){},G.resetInitSegment=function(){},G.remux=function(D,A,F,L,V,z,q,Z){var ie=this.observer,ue="";D&&(ue+="audio"),A&&(ue+="video"),ie.trigger(Ce.default.FRAG_PARSING_DATA,{data1:Z,startPTS:V,startDTS:V,type:ue,hasAudio:!!D,hasVideo:!!A,nb:1,dropped:0}),ie.trigger(Ce.default.FRAG_PARSED)},I}(),Xt=Object(w.getSelfScope)();try{Es=Xt.performance.now.bind(Xt.performance)}catch{E.logger.debug("Unable to use Performance API on this environment"),Es=Xt.Date.now}et.default=function(){function I(O,D,A,F){this.observer=O,this.typeSupported=D,this.config=A,this.vendor=F}var G=I.prototype;return G.destroy=function(){var D=this.demuxer;D&&D.destroy()},G.push=function(D,A,F,L,V,z,q,Z,ie,ue,ae,ye){var Ae=this;if(D.byteLength>0&&null!=A&&null!=A.key&&"AES-128"===A.method){var pe=this.decrypter;null==pe&&(pe=this.decrypter=new H.default(this.observer,this.config));var Le=Es();pe.decrypt(D,A.key.buffer,A.iv.buffer,function(Fe){var Ye=Es();Ae.observer.trigger(Ce.default.FRAG_DECRYPTED,{stats:{tstart:Le,tdecrypt:Ye}}),Ae.pushDecrypted(new Uint8Array(Fe),A,new Uint8Array(F),L,V,z,q,Z,ie,ue,ae,ye)})}else this.pushDecrypted(new Uint8Array(D),A,new Uint8Array(F),L,V,z,q,Z,ie,ue,ae,ye)},G.pushDecrypted=function(D,A,F,L,V,z,q,Z,ie,ue,ae,ye){var Ae=this.demuxer,pe=this.remuxer;if(!Ae||q||Z){for(var rt,Le=this.observer,Fe=this.typeSupported,Ye=this.config,ct=[{demux:Et,remux:wi},{demux:Pe.default,remux:Cs},{demux:Me,remux:wi},{demux:Tn,remux:wi}],Mt=0,wt=ct.length;Mt<wt&&!(rt=ct[Mt]).demux.probe(D);Mt++);if(!rt)return void Le.trigger(Ce.default.ERROR,{type:ve.ErrorTypes.MEDIA_ERROR,details:ve.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"});(!pe||!(pe instanceof rt.remux))&&(pe=new rt.remux(Le,Ye,Fe,this.vendor)),(!Ae||!(Ae instanceof rt.demux))&&(Ae=new rt.demux(Le,pe,Ye,Fe),this.probe=rt.demux.probe),this.demuxer=Ae,this.remuxer=pe}(q||Z)&&(Ae.resetInitSegment(F,L,V,ue),pe.resetInitSegment()),q&&(Ae.resetTimeStamp(ye),pe.resetTimeStamp(ye)),"function"==typeof Ae.setDecryptData&&Ae.setDecryptData(A),Ae.append(D,z,ie,ae)},I}()},"./src/demux/demuxer-worker.js":function(mn,et,ee){"use strict";ee.r(et);var Ce=ee("./src/demux/demuxer-inline.js"),ve=ee("./src/events.js"),H=ee("./src/utils/logger.js"),be=ee("./node_modules/eventemitter3/index.js");et.default=function(P){var N=new be.EventEmitter;N.trigger=function($){for(var ne=arguments.length,X=new Array(ne>1?ne-1:0),ge=1;ge<ne;ge++)X[ge-1]=arguments[ge];N.emit.apply(N,[$,$].concat(X))},N.off=function($){for(var ne=arguments.length,X=new Array(ne>1?ne-1:0),ge=1;ge<ne;ge++)X[ge-1]=arguments[ge];N.removeListener.apply(N,[$].concat(X))};var W=function($,ne){P.postMessage({event:$,data:ne})};P.addEventListener("message",function(j){var $=j.data;switch($.cmd){case"init":var ne=JSON.parse($.config);P.demuxer=new Ce.default(N,$.typeSupported,ne,$.vendor),Object(H.enableLogs)(ne.debug),W("init",null);break;case"demux":P.demuxer.push($.data,$.decryptdata,$.initSegment,$.audioCodec,$.videoCodec,$.timeOffset,$.discontinuity,$.trackSwitch,$.contiguous,$.duration,$.accurateTimeOffset,$.defaultInitPTS)}}),N.on(ve.default.FRAG_DECRYPTED,W),N.on(ve.default.FRAG_PARSING_INIT_SEGMENT,W),N.on(ve.default.FRAG_PARSED,W),N.on(ve.default.ERROR,W),N.on(ve.default.FRAG_PARSING_METADATA,W),N.on(ve.default.FRAG_PARSING_USERDATA,W),N.on(ve.default.INIT_PTS_FOUND,W),N.on(ve.default.FRAG_PARSING_DATA,function(j,$){var ne=[],X={event:j,data:$};$.data1&&(X.data1=$.data1.buffer,ne.push($.data1.buffer),delete $.data1),$.data2&&(X.data2=$.data2.buffer,ne.push($.data2.buffer),delete $.data2),P.postMessage(X,ne)})}},"./src/demux/id3.js":function(mn,et,ee){"use strict";ee.r(et),ee.d(et,"utf8ArrayToStr",function(){return E});var H,Ce=ee("./src/utils/get-self-scope.js"),ve=function(){function w(){}return w.isHeader=function(P,N){return N+10<=P.length&&73===P[N]&&68===P[N+1]&&51===P[N+2]&&P[N+3]<255&&P[N+4]<255&&P[N+6]<128&&P[N+7]<128&&P[N+8]<128&&P[N+9]<128},w.isFooter=function(P,N){return N+10<=P.length&&51===P[N]&&68===P[N+1]&&73===P[N+2]&&P[N+3]<255&&P[N+4]<255&&P[N+6]<128&&P[N+7]<128&&P[N+8]<128&&P[N+9]<128},w.getID3Data=function(P,N){for(var W=N,j=0;w.isHeader(P,N);)j+=10,j+=w._readSize(P,N+6),w.isFooter(P,N+10)&&(j+=10),N+=j;if(j>0)return P.subarray(W,W+j)},w._readSize=function(P,N){var W=0;return W=(127&P[N])<<21,W|=(127&P[N+1])<<14,(W|=(127&P[N+2])<<7)|127&P[N+3]},w.getTimeStamp=function(P){for(var N=w.getID3Frames(P),W=0;W<N.length;W++){var j=N[W];if(w.isTimeStampFrame(j))return w._readTimeStamp(j)}},w.isTimeStampFrame=function(P){return P&&"PRIV"===P.key&&"com.apple.streaming.transportStreamTimestamp"===P.info},w._getFrameData=function(P){var N=String.fromCharCode(P[0],P[1],P[2],P[3]),W=w._readSize(P,4);return{type:N,size:W,data:P.subarray(10,10+W)}},w.getID3Frames=function(P){for(var N=0,W=[];w.isHeader(P,N);){for(var j=w._readSize(P,N+6),$=(N+=10)+j;N+8<$;){var ne=w._getFrameData(P.subarray(N)),X=w._decodeFrame(ne);X&&W.push(X),N+=ne.size+10}w.isFooter(P,N)&&(N+=10)}return W},w._decodeFrame=function(P){return"PRIV"===P.type?w._decodePrivFrame(P):"W"===P.type[0]?w._decodeURLFrame(P):w._decodeTextFrame(P)},w._readTimeStamp=function(P){if(8===P.data.byteLength){var N=new Uint8Array(P.data),j=(N[4]<<23)+(N[5]<<15)+(N[6]<<7)+N[7];return j/=45,1&N[3]&&(j+=47721858.84),Math.round(j)}},w._decodePrivFrame=function(P){if(!(P.size<2)){var N=w._utf8ArrayToStr(P.data,!0),W=new Uint8Array(P.data.subarray(N.length+1));return{key:P.type,info:N,data:W.buffer}}},w._decodeTextFrame=function(P){if(!(P.size<2)){if("TXXX"===P.type){var N=1,W=w._utf8ArrayToStr(P.data.subarray(N),!0),j=w._utf8ArrayToStr(P.data.subarray(N+=W.length+1));return{key:P.type,info:W,data:j}}var $=w._utf8ArrayToStr(P.data.subarray(1));return{key:P.type,data:$}}},w._decodeURLFrame=function(P){if("WXXX"===P.type){if(P.size<2)return;var N=1,W=w._utf8ArrayToStr(P.data.subarray(N),!0),j=w._utf8ArrayToStr(P.data.subarray(N+=W.length+1));return{key:P.type,info:W,data:j}}var $=w._utf8ArrayToStr(P.data);return{key:P.type,data:$}},w._utf8ArrayToStr=function(P,N){void 0===N&&(N=!1);var W=function be(){var w=Object(Ce.getSelfScope)();return!H&&typeof w.TextDecoder<"u"&&(H=new w.TextDecoder("utf-8")),H}();if(W){var j=W.decode(P);if(N){var $=j.indexOf("\0");return-1!==$?j.substring(0,$):j}return j.replace(/\0/g,"")}for(var X,ge,se,ne=P.length,ce="",he=0;he<ne;){if(0===(X=P[he++])&&N)return ce;if(0!==X&&3!==X)switch(X>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:ce+=String.fromCharCode(X);break;case 12:case 13:ge=P[he++],ce+=String.fromCharCode((31&X)<<6|63&ge);break;case 14:ge=P[he++],se=P[he++],ce+=String.fromCharCode((15&X)<<12|(63&ge)<<6|(63&se)<<0)}}return ce},w}();var E=ve._utf8ArrayToStr;et.default=ve},"./src/demux/mp4demuxer.js":function(mn,et,ee){"use strict";ee.r(et);var Ce=ee("./src/utils/logger.js"),ve=ee("./src/events.js"),H=Math.pow(2,32)-1;et.default=function(){function E(we,P){this.observer=we,this.remuxer=P}var w=E.prototype;return w.resetTimeStamp=function(P){this.initPTS=P},w.resetInitSegment=function(P,N,W,j){if(P&&P.byteLength){var $=this.initData=E.parseInitSegment(P);null==N&&(N="mp4a.40.5"),null==W&&(W="avc1.42e01e");var ne={};$.audio&&$.video?ne.audiovideo={container:"video/mp4",codec:N+","+W,initSegment:j?P:null}:($.audio&&(ne.audio={container:"audio/mp4",codec:N,initSegment:j?P:null}),$.video&&(ne.video={container:"video/mp4",codec:W,initSegment:j?P:null})),this.observer.trigger(ve.default.FRAG_PARSING_INIT_SEGMENT,{tracks:ne})}else N&&(this.audioCodec=N),W&&(this.videoCodec=W)},E.probe=function(P){return E.findBox({data:P,start:0,end:Math.min(P.length,16384)},["moof"]).length>0},E.bin2str=function(P){return String.fromCharCode.apply(null,P)},E.readUint16=function(P,N){P.data&&(N+=P.start,P=P.data);var W=P[N]<<8|P[N+1];return W<0?65536+W:W},E.readUint32=function(P,N){P.data&&(N+=P.start,P=P.data);var W=P[N]<<24|P[N+1]<<16|P[N+2]<<8|P[N+3];return W<0?4294967296+W:W},E.writeUint32=function(P,N,W){P.data&&(N+=P.start,P=P.data),P[N]=W>>24,P[N+1]=W>>16&255,P[N+2]=W>>8&255,P[N+3]=255&W},E.findBox=function(P,N){var j,$,X,ge,se,ce,W=[];if(P.data?(se=P.start,X=P.end,P=P.data):(se=0,X=P.byteLength),!N.length)return null;for(j=se;j<X;)ce=($=E.readUint32(P,j))>1?j+$:X,E.bin2str(P.subarray(j+4,j+8))===N[0]&&(1===N.length?W.push({data:P,start:j+8,end:ce}):(ge=E.findBox({data:P,start:j+8,end:ce},N.slice(1))).length&&(W=W.concat(ge))),j=ce;return W},E.parseSegmentIndex=function(P){var ne,N=E.findBox(P,["moov"])[0],W=N?N.end:null,j=0,$=E.findBox(P,["sidx"]);if(!$||!$[0])return null;ne=[];var X=($=$[0]).data[0],ge=E.readUint32($,j=0===X?8:16);j+=4;j+=0===X?8:16;var he=$.end+0,Me=E.readUint16($,j+=2);j+=2;for(var Pe=0;Pe<Me;Pe++){var Oe=j,at=E.readUint32($,Oe);Oe+=4;var qe=2147483647&at;if(1==(2147483648&at)>>>31)return void console.warn("SIDX has hierarchical references (not supported)");var vn=E.readUint32($,Oe);Oe+=4,ne.push({referenceSize:qe,subsegmentDuration:vn,info:{duration:vn/ge,start:he,end:he+qe-1}}),he+=qe,j=Oe+=4}return{earliestPresentationTime:0,timescale:ge,version:X,referencesCount:Me,references:ne,moovEndOffset:W}},E.parseInitSegment=function(P){var N=[];return E.findBox(P,["moov","trak"]).forEach(function(j){var $=E.findBox(j,["tkhd"])[0];if($){var ne=$.data[$.start],X=0===ne?12:20,ge=E.readUint32($,X),se=E.findBox(j,["mdia","mdhd"])[0];if(se){var ce=E.readUint32(se,X=0===(ne=se.data[se.start])?12:20),he=E.findBox(j,["mdia","hdlr"])[0];if(he){var Pe={soun:"audio",vide:"video"}[E.bin2str(he.data.subarray(he.start+8,he.start+12))];if(Pe){var Oe=E.findBox(j,["mdia","minf","stbl","stsd"]);if(Oe.length){var at=E.bin2str((Oe=Oe[0]).data.subarray(Oe.start+12,Oe.start+16));Ce.logger.log("MP4Demuxer:"+Pe+":"+at+" found")}N[ge]={timescale:ce,type:Pe},N[Pe]={timescale:ce,id:ge}}}}}}),N},E.getStartDTS=function(P,N){var W,j,$;return W=E.findBox(N,["moof","traf"]),j=[].concat.apply([],W.map(function(ne){return E.findBox(ne,["tfhd"]).map(function(X){var ge,se;return ge=E.readUint32(X,4),se=P[ge].timescale||9e4,E.findBox(ne,["tfdt"]).map(function(he){var Me,Pe;return Me=he.data[he.start],Pe=E.readUint32(he,4),1===Me&&(Pe*=Math.pow(2,32),Pe+=E.readUint32(he,8)),Pe})[0]/se})})),$=Math.min.apply(null,j),isFinite($)?$:0},E.offsetStartDTS=function(P,N,W){E.findBox(N,["moof","traf"]).map(function(j){return E.findBox(j,["tfhd"]).map(function($){var ne=E.readUint32($,4),X=P[ne].timescale||9e4;E.findBox(j,["tfdt"]).map(function(ge){var se=ge.data[ge.start],ce=E.readUint32(ge,4);if(0===se)E.writeUint32(ge,4,ce-W*X);else{ce*=Math.pow(2,32),ce+=E.readUint32(ge,8),ce-=W*X,ce=Math.max(ce,0);var he=Math.floor(ce/(H+1)),Me=Math.floor(ce%(H+1));E.writeUint32(ge,4,he),E.writeUint32(ge,8,Me)}})})})},w.append=function(P,N,W,j){var $=this.initData;$||(this.resetInitSegment(P,this.audioCodec,this.videoCodec,!1),$=this.initData);var ne,X=this.initPTS;if(void 0===X){var ge=E.getStartDTS($,P);this.initPTS=X=ge-N,this.observer.trigger(ve.default.INIT_PTS_FOUND,{initPTS:X})}E.offsetStartDTS($,P,X),ne=E.getStartDTS($,P),this.remuxer.remux($.audio,$.video,null,null,ne,W,j,P)},w.destroy=function(){},E}()},"./src/errors.ts":function(mn,et,ee){"use strict";ee.r(et),ee.d(et,"ErrorTypes",function(){return Ce}),ee.d(et,"ErrorDetails",function(){return ve});var Ce=(()=>{return(H=Ce||(Ce={})).NETWORK_ERROR="networkError",H.MEDIA_ERROR="mediaError",H.KEY_SYSTEM_ERROR="keySystemError",H.MUX_ERROR="muxError",H.OTHER_ERROR="otherError",Ce;var H})(),ve=(()=>{return(H=ve||(ve={})).KEY_SYSTEM_NO_KEYS="keySystemNoKeys",H.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",H.KEY_SYSTEM_NO_SESSION="keySystemNoSession",H.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",H.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",H.MANIFEST_LOAD_ERROR="manifestLoadError",H.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",H.MANIFEST_PARSING_ERROR="manifestParsingError",H.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",H.LEVEL_EMPTY_ERROR="levelEmptyError",H.LEVEL_LOAD_ERROR="levelLoadError",H.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",H.LEVEL_SWITCH_ERROR="levelSwitchError",H.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",H.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",H.FRAG_LOAD_ERROR="fragLoadError",H.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",H.FRAG_DECRYPT_ERROR="fragDecryptError",H.FRAG_PARSING_ERROR="fragParsingError",H.REMUX_ALLOC_ERROR="remuxAllocError",H.KEY_LOAD_ERROR="keyLoadError",H.KEY_LOAD_TIMEOUT="keyLoadTimeOut",H.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",H.BUFFER_APPEND_ERROR="bufferAppendError",H.BUFFER_APPENDING_ERROR="bufferAppendingError",H.BUFFER_STALLED_ERROR="bufferStalledError",H.BUFFER_FULL_ERROR="bufferFullError",H.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",H.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",H.INTERNAL_EXCEPTION="internalException",ve;var H})()},"./src/events.js":function(mn,et,ee){"use strict";ee.r(et),et.default={MEDIA_ATTACHING:"hlsMediaAttaching",MEDIA_ATTACHED:"hlsMediaAttached",MEDIA_DETACHING:"hlsMediaDetaching",MEDIA_DETACHED:"hlsMediaDetached",BUFFER_RESET:"hlsBufferReset",BUFFER_CODECS:"hlsBufferCodecs",BUFFER_CREATED:"hlsBufferCreated",BUFFER_APPENDING:"hlsBufferAppending",BUFFER_APPENDED:"hlsBufferAppended",BUFFER_EOS:"hlsBufferEos",BUFFER_FLUSHING:"hlsBufferFlushing",BUFFER_FLUSHED:"hlsBufferFlushed",MANIFEST_LOADING:"hlsManifestLoading",MANIFEST_LOADED:"hlsManifestLoaded",MANIFEST_PARSED:"hlsManifestParsed",LEVEL_SWITCHING:"hlsLevelSwitching",LEVEL_SWITCHED:"hlsLevelSwitched",LEVEL_LOADING:"hlsLevelLoading",LEVEL_LOADED:"hlsLevelLoaded",LEVEL_UPDATED:"hlsLevelUpdated",LEVEL_PTS_UPDATED:"hlsLevelPtsUpdated",LEVELS_UPDATED:"hlsLevelsUpdated",AUDIO_TRACKS_UPDATED:"hlsAudioTracksUpdated",AUDIO_TRACK_SWITCHING:"hlsAudioTrackSwitching",AUDIO_TRACK_SWITCHED:"hlsAudioTrackSwitched",AUDIO_TRACK_LOADING:"hlsAudioTrackLoading",AUDIO_TRACK_LOADED:"hlsAudioTrackLoaded",SUBTITLE_TRACKS_UPDATED:"hlsSubtitleTracksUpdated",SUBTITLE_TRACK_SWITCH:"hlsSubtitleTrackSwitch",SUBTITLE_TRACK_LOADING:"hlsSubtitleTrackLoading",SUBTITLE_TRACK_LOADED:"hlsSubtitleTrackLoaded",SUBTITLE_FRAG_PROCESSED:"hlsSubtitleFragProcessed",CUES_PARSED:"hlsCuesParsed",NON_NATIVE_TEXT_TRACKS_FOUND:"hlsNonNativeTextTracksFound",INIT_PTS_FOUND:"hlsInitPtsFound",FRAG_LOADING:"hlsFragLoading",FRAG_LOAD_PROGRESS:"hlsFragLoadProgress",FRAG_LOAD_EMERGENCY_ABORTED:"hlsFragLoadEmergencyAborted",FRAG_LOADED:"hlsFragLoaded",FRAG_DECRYPTED:"hlsFragDecrypted",FRAG_PARSING_INIT_SEGMENT:"hlsFragParsingInitSegment",FRAG_PARSING_USERDATA:"hlsFragParsingUserdata",FRAG_PARSING_METADATA:"hlsFragParsingMetadata",FRAG_PARSING_DATA:"hlsFragParsingData",FRAG_PARSED:"hlsFragParsed",FRAG_BUFFERED:"hlsFragBuffered",FRAG_CHANGED:"hlsFragChanged",FPS_DROP:"hlsFpsDrop",FPS_DROP_LEVEL_CAPPING:"hlsFpsDropLevelCapping",ERROR:"hlsError",DESTROYING:"hlsDestroying",KEY_LOADING:"hlsKeyLoading",KEY_LOADED:"hlsKeyLoaded",STREAM_STATE_TRANSITION:"hlsStreamStateTransition",LIVE_BACK_BUFFER_REACHED:"hlsLiveBackBufferReached"}},"./src/hls.ts":function(mn,et,ee){"use strict";ee.r(et),ee.d(et,"default",function(){return _f});var Ce={};ee.r(Ce),ee.d(Ce,"newCue",function(){return pv});var ve=ee("./node_modules/url-toolkit/src/url-toolkit.js"),H=ee("./src/errors.ts"),be=ee("./src/polyfills/number.js"),E=ee("./src/events.js"),w=ee("./src/utils/logger.js"),we={hlsEventGeneric:!0,hlsHandlerDestroying:!0,hlsHandlerDestroyed:!0},P=function(){function v(f){this.hls=void 0,this.handledEvents=void 0,this.useGenericHandler=void 0,this.hls=f,this.onEvent=this.onEvent.bind(this);for(var c=arguments.length,a=new Array(c>1?c-1:0),u=1;u<c;u++)a[u-1]=arguments[u];this.handledEvents=a,this.useGenericHandler=!0,this.registerListeners()}var p=v.prototype;return p.destroy=function(){this.onHandlerDestroying(),this.unregisterListeners(),this.onHandlerDestroyed()},p.onHandlerDestroying=function(){},p.onHandlerDestroyed=function(){},p.isEventHandler=function(){return"object"==typeof this.handledEvents&&this.handledEvents.length&&"function"==typeof this.onEvent},p.registerListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(c){if(we[c])throw new Error("Forbidden event-name: "+c);this.hls.on(c,this.onEvent)},this)},p.unregisterListeners=function(){this.isEventHandler()&&this.handledEvents.forEach(function(c){this.hls.off(c,this.onEvent)},this)},p.onEvent=function(c,a){this.onEventGeneric(c,a)},p.onEventGeneric=function(c,a){try{(function(m,_){var x="on"+m.replace("hls","");if("function"!=typeof this[x])throw new Error("Event "+m+" has no generic handler in this "+this.constructor.name+" class (tried "+x+")");return this[x].bind(this,_)}).call(this,c,a).call()}catch(h){w.logger.error("An internal error happened while handling event "+c+'. Error message: "'+h.message+'". Here is a stacktrace:',h),this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.OTHER_ERROR,details:H.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:c,err:h})}},v}(),N=P,W=(()=>{return(v=W||(W={})).MANIFEST="manifest",v.LEVEL="level",v.AUDIO_TRACK="audioTrack",v.SUBTITLE_TRACK="subtitleTrack",W;var v})(),j=(()=>{return(v=j||(j={})).MAIN="main",v.AUDIO="audio",v.SUBTITLE="subtitle",j;var v})(),$=ee("./src/demux/mp4demuxer.js");function ne(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var ge=function(){function v(p,f){this._uri=null,this.baseuri=void 0,this.reluri=void 0,this.method=null,this.key=null,this.iv=null,this.baseuri=p,this.reluri=f}return function X(v,p,f){return p&&ne(v.prototype,p),f&&ne(v,f),v}(v,[{key:"uri",get:function(){return!this._uri&&this.reluri&&(this._uri=Object(ve.buildAbsoluteURL)(this.baseuri,this.reluri,{alwaysNormalize:!0})),this._uri}}]),v}();function se(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var he=(()=>{return(v=he||(he={})).AUDIO="audio",v.VIDEO="video",he;var v})(),Me=function(){function v(){var f;this._url=null,this._byteRange=null,this._decryptdata=null,this._elementaryStreams=((f={})[he.AUDIO]=!1,f[he.VIDEO]=!1,f),this.deltaPTS=0,this.rawProgramDateTime=null,this.programDateTime=null,this.title=null,this.tagList=[],this.cc=void 0,this.type=void 0,this.relurl=void 0,this.baseurl=void 0,this.duration=void 0,this.start=void 0,this.sn=0,this.urlId=0,this.level=0,this.levelkey=void 0,this.loader=void 0}var p=v.prototype;return p.setByteRange=function(c,a){var u=c.split("@",2),h=[];h[0]=1===u.length?a?a.byteRangeEndOffset:0:parseInt(u[1]),h[1]=parseInt(u[0])+h[0],this._byteRange=h},p.addElementaryStream=function(c){this._elementaryStreams[c]=!0},p.hasElementaryStream=function(c){return!0===this._elementaryStreams[c]},p.createInitializationVector=function(c){for(var a=new Uint8Array(16),u=12;u<16;u++)a[u]=c>>8*(15-u)&255;return a},p.setDecryptDataFromLevelKey=function(c,a){var u=c;return c?.method&&c.uri&&!c.iv&&((u=new ge(c.baseuri,c.reluri)).method=c.method,u.iv=this.createInitializationVector(a)),u},function ce(v,p,f){return p&&se(v.prototype,p),f&&se(v,f),v}(v,[{key:"url",get:function(){return!this._url&&this.relurl&&(this._url=Object(ve.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url},set:function(c){this._url=c}},{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var c=this.sn;"number"!=typeof c&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&w.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),c=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,c)}return this._decryptdata}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime||!Object(be.isFiniteNumber)(this.programDateTime))return null;var c=Object(be.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*c}},{key:"encrypted",get:function(){return!(!this.decryptdata||null===this.decryptdata.uri||null!==this.decryptdata.key)}}]),v}();function Pe(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var at=function(){function v(p){this.endCC=0,this.endSN=0,this.fragments=[],this.initSegment=null,this.live=!0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=p,this.version=null}return function Oe(v,p,f){return p&&Pe(v.prototype,p),f&&Pe(v,f),v}(v,[{key:"hasProgramDateTime",get:function(){return!(!this.fragments[0]||!Object(be.isFiniteNumber)(this.fragments[0].programDateTime))}}]),v}(),qe=/^(\d+)x(\d+)$/,xt=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,Yt=function(){function v(f){for(var c in"string"==typeof f&&(f=v.parseAttrList(f)),f)f.hasOwnProperty(c)&&(this[c]=f[c])}var p=v.prototype;return p.decimalInteger=function(c){var a=parseInt(this[c],10);return a>Number.MAX_SAFE_INTEGER?1/0:a},p.hexadecimalInteger=function(c){if(this[c]){var a=(this[c]||"0x").slice(2);a=(1&a.length?"0":"")+a;for(var u=new Uint8Array(a.length/2),h=0;h<a.length/2;h++)u[h]=parseInt(a.slice(2*h,2*h+2),16);return u}return null},p.hexadecimalIntegerAsNumber=function(c){var a=parseInt(this[c],16);return a>Number.MAX_SAFE_INTEGER?1/0:a},p.decimalFloatingPoint=function(c){return parseFloat(this[c])},p.enumeratedString=function(c){return this[c]},p.decimalResolution=function(c){var a=qe.exec(this[c]);if(null!==a)return{width:parseInt(a[1],10),height:parseInt(a[2],10)}},v.parseAttrList=function(c){var a,u={};for(xt.lastIndex=0;null!==(a=xt.exec(c));){var h=a[2];0===h.indexOf('"')&&h.lastIndexOf('"')===h.length-1&&(h=h.slice(1,-1)),u[a[1]]=h}return u},v}(),on={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0}};function Et(v,p){return MediaSource.isTypeSupported((p||"video")+'/mp4;codecs="'+v+'"')}var yn=/(?:#EXT-X-STREAM-INF:([^\n\r]*)[\r\n]+([^\r\n]+)|#EXT-X-SESSION-DATA:([^\n\r]*)[\r\n]+)/g,Tn=/#EXT-X-MEDIA:(.*)/g,tt=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/|(?!#)([\S+ ?]+)/.source,/|#EXT-X-BYTERANGE:*(.+)/.source,/|#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/|#.*/.source].join(""),"g"),Jt=/(?:(?:#(EXTM3U))|(?:#EXT-X-(PLAYLIST-TYPE):(.+))|(?:#EXT-X-(MEDIA-SEQUENCE): *(\d+))|(?:#EXT-X-(TARGETDURATION): *(\d+))|(?:#EXT-X-(KEY):(.+))|(?:#EXT-X-(START):(.+))|(?:#EXT-X-(ENDLIST))|(?:#EXT-X-(DISCONTINUITY-SEQ)UENCE:(\d+))|(?:#EXT-X-(DIS)CONTINUITY))|(?:#EXT-X-(VERSION):(\d+))|(?:#EXT-X-(MAP):(.+))|(?:(#)([^:]*):(.*))|(?:(#)(.*))(?:.*)\r?\n?/,Qt=/\.(mp4|m4s|m4v|m4a)$/i,ut=function(){function v(){}return v.findGroup=function(f,c){for(var a=0;a<f.length;a++){var u=f[a];if(u.id===c)return u}},v.convertAVC1ToAVCOTI=function(f){var a,c=f.split(".");return c.length>2?(a=c.shift()+".",a+=parseInt(c.shift()).toString(16),a+=("000"+parseInt(c.shift()).toString(16)).substr(-4)):a=f,a},v.resolve=function(f,c){return ve.buildAbsoluteURL(c,f,{alwaysNormalize:!0})},v.parseMasterPlaylist=function(f,c){var _,a=[],u={},h=!1;function m(B,K){["video","audio"].forEach(function(le){var me=B.filter(function(De){return function cr(v,p){var f=on[p];return!!f&&!0===f[v.slice(0,4)]}(De,le)});if(me.length){var ke=me.filter(function(De){return 0===De.lastIndexOf("avc1",0)||0===De.lastIndexOf("mp4a",0)});K[le+"Codec"]=ke.length>0?ke[0]:me[0],B=B.filter(function(De){return-1===me.indexOf(De)})}}),K.unknownCodecs=B}for(yn.lastIndex=0;null!=(_=yn.exec(f));)if(_[1]){var x={},C=x.attrs=new Yt(_[1]);x.url=v.resolve(_[2],c);var M=C.decimalResolution("RESOLUTION");M&&(x.width=M.width,x.height=M.height),x.bitrate=C.decimalInteger("AVERAGE-BANDWIDTH")||C.decimalInteger("BANDWIDTH"),x.name=C.NAME,m([].concat((C.CODECS||"").split(/[ ,]+/)),x),x.videoCodec&&-1!==x.videoCodec.indexOf("avc1")&&(x.videoCodec=v.convertAVC1ToAVCOTI(x.videoCodec)),a.push(x)}else if(_[3]){var T=new Yt(_[3]);T["DATA-ID"]&&(h=!0,u[T["DATA-ID"]]=T)}return{levels:a,sessionData:h?u:null}},v.parseMasterPlaylistMedia=function(f,c,a,u){void 0===u&&(u=[]);var h,m=[],_=0;for(Tn.lastIndex=0;null!==(h=Tn.exec(f));){var x=new Yt(h[1]);if(x.TYPE===a){var C={attrs:x,id:_++,groupId:x["GROUP-ID"],instreamId:x["INSTREAM-ID"],name:x.NAME||x.LANGUAGE,type:a,default:"YES"===x.DEFAULT,autoselect:"YES"===x.AUTOSELECT,forced:"YES"===x.FORCED,lang:x.LANGUAGE};if(x.URI&&(C.url=v.resolve(x.URI,c)),u.length){var M=v.findGroup(u,C.groupId);C.audioCodec=M?M.codec:u[0].codec}m.push(C)}}return m},v.parseLevelPlaylist=function(f,c,a,u,h){var B,K,le,m=0,_=0,x=new at(c),C=0,M=null,T=new Me,me=null;for(tt.lastIndex=0;null!==(B=tt.exec(f));){var ke=B[1];if(ke){T.duration=parseFloat(ke);var De=(" "+B[2]).slice(1);T.title=De||null,T.tagList.push(De?["INF",ke,De]:["INF",ke])}else if(B[3]){if(Object(be.isFiniteNumber)(T.duration)){var Ve=m++;T.type=u,T.start=_,le&&(T.levelkey=le),T.sn=Ve,T.level=a,T.cc=C,T.urlId=h,T.baseurl=c,T.relurl=(" "+B[3]).slice(1),$e(T,M),x.fragments.push(T),M=T,_+=T.duration,T=new Me}}else if(B[4]){var Qe=(" "+B[4]).slice(1);M?T.setByteRange(Qe,M):T.setByteRange(Qe)}else if(B[5])T.rawProgramDateTime=(" "+B[5]).slice(1),T.tagList.push(["PROGRAM-DATE-TIME",T.rawProgramDateTime]),null===me&&(me=x.fragments.length);else{if(!(B=B[0].match(Jt))){w.logger.warn("No matches on slow regex match for level playlist!");continue}for(K=1;K<B.length&&!(typeof B[K]<"u");K++);var bt=(" "+B[K+1]).slice(1),ln=(" "+B[K+2]).slice(1);switch(B[K]){case"#":T.tagList.push(ln?[bt,ln]:[bt]);break;case"PLAYLIST-TYPE":x.type=bt.toUpperCase();break;case"MEDIA-SEQUENCE":m=x.startSN=parseInt(bt);break;case"TARGETDURATION":x.targetduration=parseFloat(bt);break;case"VERSION":x.version=parseInt(bt);break;case"EXTM3U":break;case"ENDLIST":x.live=!1;break;case"DIS":C++,T.tagList.push(["DIS"]);break;case"DISCONTINUITY-SEQ":C=parseInt(bt);break;case"KEY":var zn=new Yt(bt),qr=zn.enumeratedString("METHOD"),Ne=zn.URI,Ke=zn.hexadecimalInteger("IV");if("com.apple.streamingkeydelivery"===(zn.KEYFORMAT||"identity")){w.logger.warn("Keyformat com.apple.streamingkeydelivery is not supported");continue}qr&&(le=new ge(c,Ne),Ne&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(qr)>=0&&(le.method=qr,le.key=null,le.iv=Ke));break;case"START":var Pi=new Yt(bt).decimalFloatingPoint("TIME-OFFSET");Object(be.isFiniteNumber)(Pi)&&(x.startTimeOffset=Pi);break;case"MAP":var so=new Yt(bt);T.relurl=so.URI,so.BYTERANGE&&T.setByteRange(so.BYTERANGE),T.baseurl=c,T.level=a,T.type=u,T.sn="initSegment",x.initSegment=T,(T=new Me).rawProgramDateTime=x.initSegment.rawProgramDateTime;break;default:w.logger.warn("line parsed but not handled: "+B)}}}return(T=M)&&!T.relurl&&(x.fragments.pop(),_-=T.duration),x.totalduration=_,x.averagetargetduration=_/x.fragments.length,x.endSN=m-1,x.startCC=x.fragments[0]?x.fragments[0].cc:0,x.endCC=C,!x.initSegment&&x.fragments.length&&x.fragments.every(function(ul){return Qt.test(ul.relurl)})&&(w.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(T=new Me).relurl=x.fragments[0].relurl,T.baseurl=c,T.level=a,T.type=u,T.sn="initSegment",x.initSegment=T,x.needSidxRanges=!0),me&&function Zn(v,p){for(var f=v[p],c=p-1;c>=0;c--){var a=v[c];a.programDateTime=f.programDateTime-1e3*a.duration,f=a}}(x.fragments,me),x},v}();function $e(v,p){v.rawProgramDateTime?v.programDateTime=Date.parse(v.rawProgramDateTime):p?.programDateTime&&(v.programDateTime=p.endProgramDateTime),Object(be.isFiniteNumber)(v.programDateTime)||(v.programDateTime=null,v.rawProgramDateTime=null)}var Ue=window.performance,rr=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MANIFEST_LOADING,E.default.LEVEL_LOADING,E.default.AUDIO_TRACK_LOADING,E.default.SUBTITLE_TRACK_LOADING)||this).loaders={},a}(function Ei(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p})(p,v),p.canHaveQualityLevels=function(a){return a!==W.AUDIO_TRACK&&a!==W.SUBTITLE_TRACK},p.mapContextToLevelType=function(a){switch(a.type){case W.AUDIO_TRACK:return j.AUDIO;case W.SUBTITLE_TRACK:return j.SUBTITLE;default:return j.MAIN}},p.getResponseUrl=function(a,u){var h=a.url;return(void 0===h||0===h.indexOf("data:"))&&(h=u.url),h};var f=p.prototype;return f.createInternalLoader=function(a){var u=this.hls.config,x=new(u.pLoader||u.loader)(u);return a.loader=x,this.loaders[a.type]=x,x},f.getInternalLoader=function(a){return this.loaders[a.type]},f.resetInternalLoader=function(a){this.loaders[a]&&delete this.loaders[a]},f.destroyInternalLoaders=function(){for(var a in this.loaders){var u=this.loaders[a];u&&u.destroy(),this.resetInternalLoader(a)}},f.destroy=function(){this.destroyInternalLoaders(),v.prototype.destroy.call(this)},f.onManifestLoading=function(a){this.load({url:a.url,type:W.MANIFEST,level:0,id:null,responseType:"text"})},f.onLevelLoading=function(a){this.load({url:a.url,type:W.LEVEL,level:a.level,id:a.id,responseType:"text"})},f.onAudioTrackLoading=function(a){this.load({url:a.url,type:W.AUDIO_TRACK,level:null,id:a.id,responseType:"text"})},f.onSubtitleTrackLoading=function(a){this.load({url:a.url,type:W.SUBTITLE_TRACK,level:null,id:a.id,responseType:"text"})},f.load=function(a){var u=this.hls.config;w.logger.debug("Loading playlist of type "+a.type+", level: "+a.level+", id: "+a.id);var _,x,C,M,h=this.getInternalLoader(a);if(h){var m=h.context;if(m&&m.url===a.url)return w.logger.trace("playlist request ongoing"),!1;w.logger.warn("aborting previous loader for type: "+a.type),h.abort()}switch(a.type){case W.MANIFEST:_=u.manifestLoadingMaxRetry,x=u.manifestLoadingTimeOut,C=u.manifestLoadingRetryDelay,M=u.manifestLoadingMaxRetryTimeout;break;case W.LEVEL:_=0,M=0,C=0,x=u.levelLoadingTimeOut;break;default:_=u.levelLoadingMaxRetry,x=u.levelLoadingTimeOut,C=u.levelLoadingRetryDelay,M=u.levelLoadingMaxRetryTimeout}h=this.createInternalLoader(a);var T={timeout:x,maxRetry:_,retryDelay:C,maxRetryDelay:M},B={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};return w.logger.debug("Calling internal loader delegate for URL: "+a.url),h.load(a,T,B),!0},f.loadsuccess=function(a,u,h,m){if(void 0===m&&(m=null),h.isSidxRequest)return this._handleSidxRequest(a,h),void this._handlePlaylistLoaded(a,u,h,m);if(this.resetInternalLoader(h.type),"string"!=typeof a.data)throw new Error('expected responseType of "text" for PlaylistLoader');var _=a.data;u.tload=Ue.now(),0===_.indexOf("#EXTM3U")?_.indexOf("#EXTINF:")>0||_.indexOf("#EXT-X-TARGETDURATION:")>0?this._handleTrackOrLevelPlaylist(a,u,h,m):this._handleMasterPlaylist(a,u,h,m):this._handleManifestParsingError(a,h,"no EXTM3U delimiter",m)},f.loaderror=function(a,u,h){void 0===h&&(h=null),this._handleNetworkError(u,h,!1,a)},f.loadtimeout=function(a,u,h){void 0===h&&(h=null),this._handleNetworkError(u,h,!0)},f._handleMasterPlaylist=function(a,u,h,m){var _=this.hls,x=a.data,C=p.getResponseUrl(a,h),M=ut.parseMasterPlaylist(x,C),T=M.levels,B=M.sessionData;if(T.length){var K=T.map(function(Ve){return{id:Ve.attrs.AUDIO,codec:Ve.audioCodec}}),le=ut.parseMasterPlaylistMedia(x,C,"AUDIO",K),me=ut.parseMasterPlaylistMedia(x,C,"SUBTITLES"),ke=ut.parseMasterPlaylistMedia(x,C,"CLOSED-CAPTIONS");if(le.length){var De=!1;le.forEach(function(Ve){Ve.url||(De=!0)}),!1===De&&T[0].audioCodec&&!T[0].attrs.AUDIO&&(w.logger.log("audio codec signaled in quality level, but no embedded audio track signaled, create one"),le.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:{},url:""}))}_.trigger(E.default.MANIFEST_LOADED,{levels:T,audioTracks:le,subtitles:me,captions:ke,url:C,stats:u,networkDetails:m,sessionData:B})}else this._handleManifestParsingError(a,h,"no level found in manifest",m)},f._handleTrackOrLevelPlaylist=function(a,u,h,m){var _=this.hls,x=h.id,C=h.level,M=h.type,T=p.getResponseUrl(a,h),B=Object(be.isFiniteNumber)(x)?x:0,K=Object(be.isFiniteNumber)(C)?C:B,le=p.mapContextToLevelType(h),me=ut.parseLevelPlaylist(a.data,T,K,le,B);me.tload=u.tload,me.fragments.length?(M===W.MANIFEST&&_.trigger(E.default.MANIFEST_LOADED,{levels:[{url:T,details:me}],audioTracks:[],url:T,stats:u,networkDetails:m,sessionData:null}),u.tparsed=Ue.now(),me.needSidxRanges?this.load({url:me.initSegment.url,isSidxRequest:!0,type:M,level:C,levelDetails:me,id:x,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer"}):(h.levelDetails=me,this._handlePlaylistLoaded(a,u,h,m))):_.trigger(E.default.ERROR,{type:H.ErrorTypes.NETWORK_ERROR,details:H.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:T,reason:"no fragments found in level",level:"number"==typeof h.level?h.level:void 0})},f._handleSidxRequest=function(a,u){if("string"==typeof a.data)throw new Error("sidx request must be made with responseType of array buffer");var h=$.default.parseSegmentIndex(new Uint8Array(a.data));if(h){var _=u.levelDetails;h.references.forEach(function(x,C){var M=x.info;if(_){var T=_.fragments[C];0===T.byteRange.length&&T.setByteRange(String(1+M.end-M.start)+"@"+String(M.start))}}),_&&_.initSegment.setByteRange(String(h.moovEndOffset)+"@0")}},f._handleManifestParsingError=function(a,u,h,m){this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.NETWORK_ERROR,details:H.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:!0,url:a.url,reason:h,networkDetails:m})},f._handleNetworkError=function(a,u,h,m){void 0===h&&(h=!1),void 0===m&&(m=null),w.logger.info("A network error occured while loading a "+a.type+"-type playlist");var _,x,C=this.getInternalLoader(a);switch(a.type){case W.MANIFEST:_=h?H.ErrorDetails.MANIFEST_LOAD_TIMEOUT:H.ErrorDetails.MANIFEST_LOAD_ERROR,x=!0;break;case W.LEVEL:_=h?H.ErrorDetails.LEVEL_LOAD_TIMEOUT:H.ErrorDetails.LEVEL_LOAD_ERROR,x=!1;break;case W.AUDIO_TRACK:_=h?H.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:H.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,x=!1;break;default:x=!1}C&&(C.abort(),this.resetInternalLoader(a.type));var M={type:H.ErrorTypes.NETWORK_ERROR,details:_,fatal:x,url:a.url,loader:C,context:a,networkDetails:u};m&&(M.response=m),this.hls.trigger(E.default.ERROR,M)},f._handlePlaylistLoaded=function(a,u,h,m){var _=h.type,x=h.level,C=h.id,M=h.levelDetails;if(M&&M.targetduration)if(p.canHaveQualityLevels(h.type))this.hls.trigger(E.default.LEVEL_LOADED,{details:M,level:x||0,id:C||0,stats:u,networkDetails:m});else switch(_){case W.AUDIO_TRACK:this.hls.trigger(E.default.AUDIO_TRACK_LOADED,{details:M,id:C,stats:u,networkDetails:m});break;case W.SUBTITLE_TRACK:this.hls.trigger(E.default.SUBTITLE_TRACK_LOADED,{details:M,id:C,stats:u,networkDetails:m})}else this._handleManifestParsingError(a,h,"invalid target duration",m)},p}(N);var Ds=function(v){function p(c){var a;return(a=v.call(this,c,E.default.FRAG_LOADING)||this).loaders={},a}!function je(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){var a=this.loaders;for(var u in a){var h=a[u];h&&h.destroy()}this.loaders={},v.prototype.destroy.call(this)},f.onFragLoading=function(a){var u=a.frag,h=u.type,m=this.loaders,_=this.hls.config,x=_.fLoader,C=_.loader;u.loaded=0;var T,B,K,M=m[h];M&&(w.logger.warn("abort previous fragment loader for type: "+h),M.abort()),M=m[h]=u.loader=_.fLoader?new x(_):new C(_),T={url:u.url,frag:u,responseType:"arraybuffer",progressData:!1};var le=u.byteRangeStartOffset,me=u.byteRangeEndOffset;Object(be.isFiniteNumber)(le)&&Object(be.isFiniteNumber)(me)&&(T.rangeStart=le,T.rangeEnd=me),B={timeout:_.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:_.fragLoadingMaxRetryTimeout},K={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this),onProgress:this.loadprogress.bind(this)},M.load(T,B,K)},f.loadsuccess=function(a,u,h,m){void 0===m&&(m=null);var _=a.data,x=h.frag;x.loader=void 0,this.loaders[x.type]=void 0,this.hls.trigger(E.default.FRAG_LOADED,{payload:_,frag:x,stats:u,networkDetails:m})},f.loaderror=function(a,u,h){void 0===h&&(h=null);var m=u.frag,_=m.loader;_&&_.abort(),this.loaders[m.type]=void 0,this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.NETWORK_ERROR,details:H.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:u.frag,response:a,networkDetails:h})},f.loadtimeout=function(a,u,h){void 0===h&&(h=null);var m=u.frag,_=m.loader;_&&_.abort(),this.loaders[m.type]=void 0,this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.NETWORK_ERROR,details:H.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:u.frag,networkDetails:h})},f.loadprogress=function(a,u,h,m){void 0===m&&(m=null);var _=u.frag;_.loaded=a.loaded,this.hls.trigger(E.default.FRAG_LOAD_PROGRESS,{frag:_,stats:a,networkDetails:m})},p}(N);var Jn=function(v){function p(c){var a;return(a=v.call(this,c,E.default.KEY_LOADING)||this).loaders={},a.decryptkey=null,a.decrypturl=null,a}!function Hn(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){for(var a in this.loaders){var u=this.loaders[a];u&&u.destroy()}this.loaders={},v.prototype.destroy.call(this)},f.onKeyLoading=function(a){var u=a.frag,h=u.type,m=this.loaders[h];if(u.decryptdata){var _=u.decryptdata.uri;if(_!==this.decrypturl||null===this.decryptkey){var x=this.hls.config;if(m&&(w.logger.warn("abort previous key loader for type:"+h),m.abort()),!_)return void w.logger.warn("key uri is falsy");u.loader=this.loaders[h]=new x.loader(x),this.decrypturl=_,this.decryptkey=null;var C={url:_,frag:u,responseType:"arraybuffer"},M={timeout:x.fragLoadingTimeOut,maxRetry:0,retryDelay:x.fragLoadingRetryDelay,maxRetryDelay:x.fragLoadingMaxRetryTimeout},T={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};u.loader.load(C,M,T)}else this.decryptkey&&(u.decryptdata.key=this.decryptkey,this.hls.trigger(E.default.KEY_LOADED,{frag:u}))}else w.logger.warn("Missing decryption data on fragment in onKeyLoading")},f.loadsuccess=function(a,u,h){var m=h.frag;m.decryptdata?(this.decryptkey=m.decryptdata.key=new Uint8Array(a.data),m.loader=void 0,delete this.loaders[m.type],this.hls.trigger(E.default.KEY_LOADED,{frag:m})):w.logger.error("after key load, decryptdata unset")},f.loaderror=function(a,u){var h=u.frag,m=h.loader;m&&m.abort(),delete this.loaders[h.type],this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.NETWORK_ERROR,details:H.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:h,response:a})},f.loadtimeout=function(a,u){var h=u.frag,m=h.loader;m&&m.abort(),delete this.loaders[h.type],this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.NETWORK_ERROR,details:H.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:h})},p}(N);var Xt_NOT_LOADED="NOT_LOADED",Xt_APPENDING="APPENDING",Xt_PARTIAL="PARTIAL",Xt_OK="OK",Es=function(v){function p(c){var a;return(a=v.call(this,c,E.default.BUFFER_APPENDED,E.default.FRAG_BUFFERED,E.default.FRAG_LOADED)||this).bufferPadding=.2,a.fragments=Object.create(null),a.timeRanges=Object.create(null),a.config=c.config,a}!function Cs(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.config=null,N.prototype.destroy.call(this),v.prototype.destroy.call(this)},f.getBufferedFrag=function(a,u){var h=this.fragments,m=Object.keys(h).filter(function(x){var C=h[x];if(C.body.type!==u||!C.buffered)return!1;var M=C.body;return M.startPTS<=a&&a<=M.endPTS});if(0===m.length)return null;var _=m.pop();return h[_].body},f.detectEvictedFragments=function(a,u){var h=this;Object.keys(this.fragments).forEach(function(m){var _=h.fragments[m];if(_&&_.buffered){var x=_.range[a];if(x)for(var C=x.time,M=0;M<C.length;M++){var T=C[M];if(!h.isTimeBuffered(T.startPTS,T.endPTS,u)){h.removeFragment(_.body);break}}}})},f.detectPartialFragments=function(a){var u=this,h=this.getFragmentKey(a),m=this.fragments[h];m&&(m.buffered=!0,Object.keys(this.timeRanges).forEach(function(_){a.hasElementaryStream(_)&&(m.range[_]=u.getBufferedTimes(a.startPTS,a.endPTS,u.timeRanges[_]))}))},f.getBufferedTimes=function(a,u,h){for(var _,x,m=[],C=!1,M=0;M<h.length;M++){if(_=h.start(M)-this.bufferPadding,x=h.end(M)+this.bufferPadding,a>=_&&u<=x){m.push({startPTS:Math.max(a,h.start(M)),endPTS:Math.min(u,h.end(M))});break}if(a<x&&u>_)m.push({startPTS:Math.max(a,h.start(M)),endPTS:Math.min(u,h.end(M))}),C=!0;else if(u<=_)break}return{time:m,partial:C}},f.getFragmentKey=function(a){return a.type+"_"+a.level+"_"+a.urlId+"_"+a.sn},f.getPartialFragment=function(a){var h,m,_,u=this,x=null,C=0;return Object.keys(this.fragments).forEach(function(M){var T=u.fragments[M];u.isPartial(T)&&(_=T.body.endPTS+u.bufferPadding,a>=(m=T.body.startPTS-u.bufferPadding)&&a<=_&&(h=Math.min(a-m,_-a),C<=h&&(x=T.body,C=h)))}),x},f.getState=function(a){var u=this.getFragmentKey(a),h=this.fragments[u],m=Xt_NOT_LOADED;return void 0!==h&&(m=h.buffered?!0===this.isPartial(h)?Xt_PARTIAL:Xt_OK:Xt_APPENDING),m},f.isPartial=function(a){return!0===a.buffered&&(void 0!==a.range.video&&!0===a.range.video.partial||void 0!==a.range.audio&&!0===a.range.audio.partial)},f.isTimeBuffered=function(a,u,h){for(var m,_,x=0;x<h.length;x++){if(m=h.start(x)-this.bufferPadding,_=h.end(x)+this.bufferPadding,a>=m&&u<=_)return!0;if(u<=m)return!1}return!1},f.onFragLoaded=function(a){var u=a.frag;!Object(be.isFiniteNumber)(u.sn)||u.bitrateTest||(this.fragments[this.getFragmentKey(u)]={body:u,range:Object.create(null),buffered:!1})},f.onBufferAppended=function(a){var u=this;this.timeRanges=a.timeRanges,Object.keys(this.timeRanges).forEach(function(h){u.detectEvictedFragments(h,u.timeRanges[h])})},f.onFragBuffered=function(a){this.detectPartialFragments(a.frag)},f.hasFragment=function(a){var u=this.getFragmentKey(a);return void 0!==this.fragments[u]},f.removeFragment=function(a){var u=this.getFragmentKey(a);delete this.fragments[u]},f.removeAllFragments=function(){this.fragments=Object.create(null)},p}(N),ws_search=function(p,f){for(var c=0,a=p.length-1,u=null,h=null;c<=a;){var m=f(h=p[u=(c+a)/2|0]);if(m>0)c=u+1;else{if(!(m<0))return h;a=u-1}}return null},I=function(){function v(){}return v.isBuffered=function(f,c){try{if(f)for(var a=f.buffered,u=0;u<a.length;u++)if(c>=a.start(u)&&c<=a.end(u))return!0}catch{}return!1},v.bufferInfo=function(f,c,a){try{if(f){var m,u=f.buffered,h=[];for(m=0;m<u.length;m++)h.push({start:u.start(m),end:u.end(m)});return this.bufferedInfo(h,c,a)}}catch{}return{len:0,start:c,end:c,nextStart:void 0}},v.bufferedInfo=function(f,c,a){f.sort(function(me,ke){return me.start-ke.start||ke.end-me.end});var u=[];if(a)for(var h=0;h<f.length;h++){var m=u.length;if(m){var _=u[m-1].end;f[h].start-_<a?f[h].end>_&&(u[m-1].end=f[h].end):u.push(f[h])}else u.push(f[h])}else u=f;for(var C,x=0,M=c,T=c,B=0;B<u.length;B++){var K=u[B].start,le=u[B].end;if(c+a>=K&&c<le)M=K,x=(T=le)-c;else if(c+a<K){C=K;break}}return{len:x,start:M,end:T,nextStart:C}},v}(),G=ee("./node_modules/eventemitter3/index.js"),O=ee("./node_modules/webworkify-webpack/index.js"),D=ee("./src/demux/demuxer-inline.js");function A(){return window.MediaSource||window.WebKitMediaSource}var F=ee("./src/utils/get-self-scope.js");var V=function(v){function p(){return v.apply(this,arguments)||this}return function L(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v),p.prototype.trigger=function(a){for(var u=arguments.length,h=new Array(u>1?u-1:0),m=1;m<u;m++)h[m-1]=arguments[m];this.emit.apply(this,[a,a].concat(h))},p}(G.EventEmitter),z=Object(F.getSelfScope)(),q=A()||{isTypeSupported:function(){return!1}},ie=function(){function v(f,c){var a=this;this.hls=f,this.id=c;var u=this.observer=new V,h=f.config,m=function(T,B){(B=B||{}).frag=a.frag,B.id=a.id,f.trigger(T,B)};u.on(E.default.FRAG_DECRYPTED,m),u.on(E.default.FRAG_PARSING_INIT_SEGMENT,m),u.on(E.default.FRAG_PARSING_DATA,m),u.on(E.default.FRAG_PARSED,m),u.on(E.default.ERROR,m),u.on(E.default.FRAG_PARSING_METADATA,m),u.on(E.default.FRAG_PARSING_USERDATA,m),u.on(E.default.INIT_PTS_FOUND,m);var _={mp4:q.isTypeSupported("video/mp4"),mpeg:q.isTypeSupported("audio/mpeg"),mp3:q.isTypeSupported('audio/mp4; codecs="mp3"')},x=navigator.vendor;if(h.enableWorker&&typeof Worker<"u"){var C;w.logger.log("demuxing in webworker");try{C=this.w=O("./src/demux/demuxer-worker.js"),this.onwmsg=this.onWorkerMessage.bind(this),C.addEventListener("message",this.onwmsg),C.onerror=function(M){f.trigger(E.default.ERROR,{type:H.ErrorTypes.OTHER_ERROR,details:H.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",err:{message:M.message+" ("+M.filename+":"+M.lineno+")"}})},C.postMessage({cmd:"init",typeSupported:_,vendor:x,id:c,config:JSON.stringify(h)})}catch(M){w.logger.warn("Error in worker:",M),w.logger.error("Error while initializing DemuxerWorker, fallback on DemuxerInline"),C&&z.URL.revokeObjectURL(C.objectURL),this.demuxer=new D.default(u,_,h,x),this.w=void 0}}else this.demuxer=new D.default(u,_,h,x)}var p=v.prototype;return p.destroy=function(){var c=this.w;if(c)c.removeEventListener("message",this.onwmsg),c.terminate(),this.w=null;else{var a=this.demuxer;a&&(a.destroy(),this.demuxer=null)}var u=this.observer;u&&(u.removeAllListeners(),this.observer=null)},p.push=function(c,a,u,h,m,_,x,C){var M=this.w,T=Object(be.isFiniteNumber)(m.startPTS)?m.startPTS:m.start,B=m.decryptdata,K=this.frag,le=!(K&&m.cc===K.cc),me=!(K&&m.level===K.level),De=!me&&K&&m.sn===K.sn+1;if(le&&w.logger.log(this.id+":discontinuity detected"),me&&w.logger.log(this.id+":switch detected"),this.frag=m,M)M.postMessage({cmd:"demux",data:c,decryptdata:B,initSegment:a,audioCodec:u,videoCodec:h,timeOffset:T,discontinuity:le,trackSwitch:me,contiguous:De,duration:_,accurateTimeOffset:x,defaultInitPTS:C},c instanceof ArrayBuffer?[c]:[]);else{var Ve=this.demuxer;Ve&&Ve.push(c,B,a,u,h,T,le,me,De,_,x,C)}},p.onWorkerMessage=function(c){var a=c.data,u=this.hls;switch(a.event){case"init":z.URL.revokeObjectURL(this.w.objectURL);break;case E.default.FRAG_PARSING_DATA:a.data.data1=new Uint8Array(a.data1),a.data2&&(a.data.data2=new Uint8Array(a.data2));default:a.data=a.data||{},a.data.frag=this.frag,a.data.id=this.id,u.trigger(a.event,a.data)}},v}();function ue(v,p,f){switch(p){case"audio":v.audioGroupIds||(v.audioGroupIds=[]),v.audioGroupIds.push(f);break;case"text":v.textGroupIds||(v.textGroupIds=[]),v.textGroupIds.push(f)}}function ae(v,p,f){var c=v[p],a=v[f],u=a.startPTS;Object(be.isFiniteNumber)(u)?f>p?(c.duration=u-c.start,c.duration<0&&w.logger.warn("negative duration computed for frag "+c.sn+",level "+c.level+", there should be some duration drift between playlist and fragment!")):(a.duration=c.start-u,a.duration<0&&w.logger.warn("negative duration computed for frag "+a.sn+",level "+a.level+", there should be some duration drift between playlist and fragment!")):a.start=f>p?c.start+(c.cc===a.cc&&c.minEndPTS?c.minEndPTS-c.start:c.duration):Math.max(c.start-a.duration,0)}function ye(v,p,f,c,a,u){var h=f,m=c;if(Object(be.isFiniteNumber)(p.startPTS)){var _=Math.abs(p.startPTS-f);p.deltaPTS=Object(be.isFiniteNumber)(p.deltaPTS)?Math.max(_,p.deltaPTS):_,h=Math.max(f,p.startPTS),f=Math.min(f,p.startPTS),m=Math.min(c,p.endPTS),c=Math.max(c,p.endPTS),a=Math.min(a,p.startDTS),u=Math.max(u,p.endDTS)}var x=f-p.start;p.start=p.startPTS=f,p.maxStartPTS=h,p.endPTS=c,p.minEndPTS=m,p.startDTS=a,p.endDTS=u,p.duration=c-f;var M,T,B,C=p.sn;if(!v||C<v.startSN||C>v.endSN)return 0;for((T=v.fragments)[M=C-v.startSN]=p,B=M;B>0;B--)ae(T,B,B-1);for(B=M;B<T.length-1;B++)ae(T,B,B+1);return v.PTSKnown=!0,x}function Ae(v,p){p.initSegment&&v.initSegment&&(p.initSegment=v.initSegment);var c,f=0;if(Le(v,p,function(h,m){f=h.cc-m.cc,Object(be.isFiniteNumber)(h.startPTS)&&(m.start=m.startPTS=h.startPTS,m.endPTS=h.endPTS,m.duration=h.duration,m.backtracked=h.backtracked,m.dropped=h.dropped,c=m),p.PTSKnown=!0}),p.PTSKnown){if(f){w.logger.log("discontinuity sliding from playlist, take drift into account");for(var a=p.fragments,u=0;u<a.length;u++)a[u].cc+=f}c?ye(p,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS):function Fe(v,p){var f=p.startSN-v.startSN,c=v.fragments,a=p.fragments;if(!(f<0||f>c.length))for(var u=0;u<a.length;u++)a[u].start+=c[f].start}(v,p),p.PTSKnown=v.PTSKnown}}function Le(v,p,f){if(v&&p)for(var c=Math.max(v.startSN,p.startSN)-p.startSN,a=Math.min(v.endSN,p.endSN)-p.startSN,u=p.startSN-v.startSN,h=c;h<=a;h++){var m=v.fragments[u+h],_=p.fragments[h];if(!m||!_)break;f(m,_,h)}}function Ye(v,p,f){var c=1e3*(p.averagetargetduration?p.averagetargetduration:p.targetduration),a=c/2;return v&&p.endSN===v.endSN&&(c=a),f&&(c=Math.max(a,c-(window.performance.now()-f))),Math.round(c)}var rt_toString=function(p){for(var f="",c=p.length,a=0;a<c;a++)f+="["+p.start(a).toFixed(3)+","+p.end(a).toFixed(3)+"]";return f};function Ze(v,p){p.fragments.forEach(function(f){if(f){var c=f.start+v;f.start=f.startPTS=c,f.endPTS=c+f.duration}}),p.PTSKnown=!0}function At(v,p,f){(function Ln(v,p,f){if(function en(v,p,f){var c=!1;return p&&p.details&&f&&(f.endCC>f.startCC||v&&v.cc<f.startCC)&&(c=!0),c}(v,f,p)){var c=function St(v,p){var f=v.fragments,c=p.fragments;if(c.length&&f.length){var a=function Mt(v,p){for(var f=null,c=0;c<v.length;c+=1){var a=v[c];if(a&&a.cc===p){f=a;break}}return f}(f,c[0].cc);if(a&&(!a||a.startPTS))return a;w.logger.log("No frag in previous level to align on")}else w.logger.log("No fragments to align")}(f.details,p);c&&(w.logger.log("Adjusting PTS using last level due to CC increase within current level"),Ze(c.start,p))}})(v,f,p),!f.PTSKnown&&p&&function cn(v,p){if(p&&p.fragments.length){if(!v.hasProgramDateTime||!p.hasProgramDateTime)return;var a=(v.fragments[0].programDateTime-p.fragments[0].programDateTime)/1e3+p.fragments[0].start;Object(be.isFiniteNumber)(a)&&(w.logger.log("adjusting PTS using programDateTime delta, sliding:"+a.toFixed(3)),Ze(a,v))}}(f,p.details)}function Pn(v,p,f){if(null===p||!Array.isArray(v)||!v.length||!Object(be.isFiniteNumber)(p))return null;if(p<(v[0].programDateTime||0))return null;if(p>=(v[v.length-1].endProgramDateTime||0))return null;f=f||0;for(var u=0;u<v.length;++u){var h=v[u];if(In(p,f,h))return h}return null}function _n(v,p,f,c){void 0===f&&(f=0),void 0===c&&(c=0);var a=null;return v?a=p[v.sn-p[0].sn+1]:0===f&&0===p[0].start&&(a=p[0]),a&&0===Nn(f,c,a)?a:ws_search(p,Nn.bind(null,f,c))||a}function Nn(v,p,f){void 0===v&&(v=0),void 0===p&&(p=0);var c=Math.min(p,f.duration+(f.deltaPTS?f.deltaPTS:0));return f.start+f.duration-c<=v?1:f.start-c>v&&f.start?-1:0}function In(v,p,f){var c=1e3*Math.min(p,f.duration+(f.deltaPTS?f.deltaPTS:0));return(f.endProgramDateTime||0)-c>v}var tn=function(){function v(f,c,a,u){this.config=f,this.media=c,this.fragmentTracker=a,this.hls=u,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1}var p=v.prototype;return p.poll=function(c){var a=this.config,u=this.media,h=this.stalled,m=u.currentTime,_=u.seeking,x=this.seeking&&!_,C=!this.seeking&&_;if(this.seeking=_,m===c){if((C||x)&&(this.stalled=null),!u.paused&&!u.ended&&0!==u.playbackRate&&u.buffered.length){var T=I.bufferInfo(u,m,0),K=T.nextStart||0;if(T.len>0||K){if(_){var le=T.len>2,me=!K||K-m>2&&!this.fragmentTracker.getPartialFragment(m);if(le||me)return;this.moved=!1}if(!this.moved&&this.stalled){var ke=Math.max(K,T.start||0)-m;if(ke>0&&ke<=2)return void this._trySkipBufferHole(null)}var De=self.performance.now();if(null===h)return void(this.stalled=De);var Ve=De-h;!_&&Ve>=250&&this._reportStall(T.len);var Qe=I.bufferInfo(u,m,a.maxBufferHole);this._tryFixBufferStall(Qe,Ve)}}}else if(this.moved=!0,null!==h){if(this.stallReported){var M=self.performance.now()-h;w.logger.warn("playback not stuck anymore @"+m+", after "+Math.round(M)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}},p._tryFixBufferStall=function(c,a){var u=this.config,x=this.fragmentTracker.getPartialFragment(this.media.currentTime);x&&this._trySkipBufferHole(x)||c.len>u.maxBufferHole&&a>1e3*u.highBufferWatchdogPeriod&&(w.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())},p._reportStall=function(c){var a=this.hls,u=this.media;this.stallReported||(this.stallReported=!0,w.logger.warn("Playback stalling at @"+u.currentTime+" due to low buffer (buffer="+c+")"),a.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:c}))},p._trySkipBufferHole=function(c){for(var a=this.config,u=this.hls,h=this.media,m=h.currentTime,_=0,x=0;x<h.buffered.length;x++){var C=h.buffered.start(x);if(m+a.maxBufferHole>=_&&m<C){var M=Math.max(C+.05,h.currentTime+.1);return w.logger.warn("skipping hole, adjusting currentTime from "+m+" to "+M),this.moved=!0,this.stalled=null,h.currentTime=M,c&&u.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+m+" to "+M,frag:c}),M}_=h.buffered.end(x)}return 0},p._tryNudgeBuffer=function(){var c=this.config,a=this.hls,u=this.media,h=u.currentTime,m=(this.nudgeRetry||0)+1;if(this.nudgeRetry=m,m<c.nudgeMaxRetry){var _=h+m*c.nudgeOffset;w.logger.warn("Nudging 'currentTime' from "+h+" to "+_),u.currentTime=_,a.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else w.logger.error("Playhead still not moving while enough data buffered @"+h+" after "+c.nudgeMaxRetry+" nudges"),a.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})},v}();function En(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}var $r=function(v){function p(c){for(var a,u=arguments.length,h=new Array(u>1?u-1:0),m=1;m<u;m++)h[m-1]=arguments[m];return(a=v.call.apply(v,[this,c].concat(h))||this)._boundTick=void 0,a._tickTimer=null,a._tickInterval=null,a._tickCallCount=0,a._boundTick=a.tick.bind(En(a)),a}!function ti(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},f.hasInterval=function(){return!!this._tickInterval},f.hasNextTick=function(){return!!this._tickTimer},f.setInterval=function(a){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,a),!0)},f.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},f.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},f.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&(this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)),this._tickCallCount=0)},f.doTick=function(){},p}(N);var Q_STOPPED="STOPPED",Q_STARTING="STARTING",Q_IDLE="IDLE",Q_PAUSED="PAUSED",Q_KEY_LOADING="KEY_LOADING",Q_FRAG_LOADING="FRAG_LOADING",Q_FRAG_LOADING_WAITING_RETRY="FRAG_LOADING_WAITING_RETRY",Q_WAITING_TRACK="WAITING_TRACK",Q_PARSING="PARSING",Q_PARSED="PARSED",Q_BUFFER_FLUSHING="BUFFER_FLUSHING",Q_ENDED="ENDED",Q_ERROR="ERROR",Q_WAITING_INIT_PTS="WAITING_INIT_PTS",Q_WAITING_LEVEL="WAITING_LEVEL",ni=function(v){function p(){return v.apply(this,arguments)||this}!function Si(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.doTick=function(){},f.startLoad=function(){},f.stopLoad=function(){var a=this.fragCurrent;a&&(a.loader&&a.loader.abort(),this.fragmentTracker.removeFragment(a)),this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Q_STOPPED},f._streamEnded=function(a,u){var h=this.fragCurrent;if(!u.live&&h&&!h.backtracked&&h.sn===u.endSN&&!a.nextStart){var _=this.fragmentTracker.getState(h);return _===Xt_PARTIAL||_===Xt_OK}return!1},f.onMediaSeeking=function(){var a=this.config,u=this.media,m=this.state,_=u?u.currentTime:null,x=I.bufferInfo(this.mediaBuffer||u,_,this.config.maxBufferHole);if(w.logger.log("media seeking to "+(Object(be.isFiniteNumber)(_)?_.toFixed(3):_)),m===Q_FRAG_LOADING){var C=this.fragCurrent;if(0===x.len&&C){var M=a.maxFragLookUpTolerance;_<C.start-M||_>C.start+C.duration+M?(C.loader&&(w.logger.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),C.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.state=Q_IDLE):w.logger.log("seeking outside of buffer but within currently loaded fragment range")}}else m===Q_ENDED&&(0===x.len&&(this.fragPrevious=null,this.fragCurrent=null),this.state=Q_IDLE);u&&(this.lastCurrentTime=_),this.loadedmetadata||(this.nextLoadPosition=this.startPosition=_),this.tick()},f.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},f.onHandlerDestroying=function(){this.stopLoad(),v.prototype.onHandlerDestroying.call(this)},f.onHandlerDestroyed=function(){this.state=Q_STOPPED,this.fragmentTracker=null},f.computeLivePosition=function(a,u){return a+Math.max(0,u.totalduration-(void 0!==this.config.liveSyncDuration?this.config.liveSyncDuration:this.config.liveSyncDurationCount*u.targetduration))},p}($r);function Rn(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var Js=function(v){function p(c,a){var u;return(u=v.call(this,c,E.default.MEDIA_ATTACHED,E.default.MEDIA_DETACHING,E.default.MANIFEST_LOADING,E.default.MANIFEST_PARSED,E.default.LEVEL_LOADED,E.default.LEVELS_UPDATED,E.default.KEY_LOADED,E.default.FRAG_LOADED,E.default.FRAG_LOAD_EMERGENCY_ABORTED,E.default.FRAG_PARSING_INIT_SEGMENT,E.default.FRAG_PARSING_DATA,E.default.FRAG_PARSED,E.default.ERROR,E.default.AUDIO_TRACK_SWITCHING,E.default.AUDIO_TRACK_SWITCHED,E.default.BUFFER_CREATED,E.default.BUFFER_APPENDED,E.default.BUFFER_FLUSHED)||this).fragmentTracker=a,u.config=c.config,u.audioCodecSwap=!1,u._state=Q_STOPPED,u.stallReported=!1,u.gapController=null,u.altAudio=!1,u.audioOnly=!1,u.bitrateTest=!1,u}!function Ai(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.startLoad=function(a){if(this.levels){var u=this.lastCurrentTime,h=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var m=h.startLevel;-1===m&&(h.config.testBandwidth?(m=0,this.bitrateTest=!0):m=h.nextAutoLevel),this.level=h.nextLoadLevel=m,this.loadedmetadata=!1}u>0&&-1===a&&(w.logger.log("override startPosition with lastCurrentTime @"+u.toFixed(3)),a=u),this.state=Q_IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=a,this.tick()}else this.forceStartLoad=!0,this.state=Q_STOPPED},f.stopLoad=function(){this.forceStartLoad=!1,v.prototype.stopLoad.call(this)},f.doTick=function(){switch(this.state){case Q_BUFFER_FLUSHING:this.fragLoadError=0;break;case Q_IDLE:this._doTickIdle();break;case Q_WAITING_LEVEL:var a=this.levels[this.level];a&&a.details&&(this.state=Q_IDLE);break;case Q_FRAG_LOADING_WAITING_RETRY:var u=window.performance.now(),h=this.retryDate;(!h||u>=h||this.media&&this.media.seeking)&&(w.logger.log("mediaController: retryDate reached, switch back to IDLE state"),this.state=Q_IDLE)}this._checkBuffer(),this._checkFragmentChanged()},f._doTickIdle=function(){var a=this.hls,u=a.config,h=this.media;if(void 0!==this.levelLastLoaded&&(h||!this.startFragRequested&&u.startFragPrefetch)){if(this.altAudio&&this.audioOnly)return void(this.demuxer.frag=null);var m;m=this.loadedmetadata?h.currentTime:this.nextLoadPosition;var _=a.nextLoadLevel,x=this.levels[_];if(x){var M,C=x.bitrate;M=C?Math.max(8*u.maxBufferSize/C,u.maxBufferLength):u.maxBufferLength,M=Math.min(M,u.maxMaxBufferLength);var T=m<u.maxBufferHole?Math.max(2,u.maxBufferHole):u.maxBufferHole,B=I.bufferInfo(this.mediaBuffer?this.mediaBuffer:h,m,T),K=B.len;if(!(K>=M)){w.logger.trace("buffer length of "+K.toFixed(3)+" is below max of "+M.toFixed(3)+". checking for more payload ..."),this.level=a.nextLoadLevel=_;var le=x.details;if(!le||le.live&&this.levelLastLoaded!==_)return void(this.state=Q_WAITING_LEVEL);if(this._streamEnded(B,le)){var me={};return this.altAudio&&(me.type="video"),this.hls.trigger(E.default.BUFFER_EOS,me),void(this.state=Q_ENDED)}this._fetchPayloadOrEos(m,B,le)}}}},f._fetchPayloadOrEos=function(a,u,h){var m=this.fragPrevious,x=h.fragments,C=x.length;if(0!==C){var K,M=x[0].start,T=x[C-1].start+x[C-1].duration,B=u.end;if(h.initSegment&&!h.initSegment.data)K=h.initSegment;else if(h.live){var le=this.config.initialLiveManifestSize;if(C<le)return void w.logger.warn("Can not start playback of a level, reason: not enough fragments "+C+" < "+le);if(null===(K=this._ensureFragmentAtLivePoint(h,B,M,T,m,x)))return}else B<M&&(K=x[0]);K||(K=this._findFragment(M,m,C,x,B,T,h)),K&&(K.encrypted?this._loadKey(K,h):this._loadFragment(K,h,a,B))}},f._ensureFragmentAtLivePoint=function(a,u,h,m,_,x){var T,C=this.hls.config,M=this.media,B=1/0;if(void 0!==C.liveMaxLatencyDuration?B=C.liveMaxLatencyDuration:Object(be.isFiniteNumber)(C.liveMaxLatencyDurationCount)&&(B=C.liveMaxLatencyDurationCount*a.targetduration),u<Math.max(h-C.maxFragLookUpTolerance,m-B)){var K=this.liveSyncPosition=this.computeLivePosition(h,a);u=K,M&&!M.paused&&M.readyState&&M.duration>K&&K>M.currentTime&&(w.logger.log("buffer end: "+u.toFixed(3)+" is located too far from the end of live sliding playlist, reset currentTime to : "+K.toFixed(3)),M.currentTime=K),this.nextLoadPosition=K}if(a.PTSKnown&&u>m&&M&&M.readyState)return null;if(this.startFragRequested&&!a.PTSKnown&&_)if(a.hasProgramDateTime)w.logger.log("live playlist, switching playlist, load frag with same PDT: "+_.programDateTime),T=Pn(x,_.endProgramDateTime,C.maxFragLookUpTolerance);else{var le=_.sn+1;if(le>=a.startSN&&le<=a.endSN){var me=x[le-a.startSN];_.cc===me.cc&&w.logger.log("live playlist, switching playlist, load frag with next SN: "+(T=me).sn)}T||(T=ws_search(x,function(ke){return _.cc-ke.cc}))&&w.logger.log("live playlist, switching playlist, load frag with same CC: "+T.sn)}return T},f._findFragment=function(a,u,h,m,_,x,C){var T,M=this.hls.config;if(T=_<x?_n(u,m,_,_>x-M.maxFragLookUpTolerance?0:M.maxFragLookUpTolerance):m[h-1]){var K=T.sn-C.startSN,me=m[K-1],ke=m[K+1];if(u&&T.sn===u.sn)if(u&&T.level===u.level&&!T.backtracked)if(T.sn<C.endSN){var De=u.deltaPTS;De&&De>M.maxBufferHole&&u.dropped&&K?(T=me,w.logger.warn("Previous fragment was dropped with large PTS gap between audio and video. Maybe fragment is not starting with a keyframe? Loading previous one to try to overcome this")):this.fragmentTracker.getState(T=ke)!==Xt_OK&&w.logger.log("Re-loading fragment with SN: "+T.sn)}else T=null;else T.backtracked&&(ke&&ke.backtracked?(w.logger.warn("Already backtracked from fragment "+ke.sn+", will not backtrack to fragment "+T.sn+". Loading fragment "+ke.sn),T=ke):(w.logger.warn("Loaded fragment with dropped frames, backtracking 1 segment to find a keyframe"),T.dropped=0,me?(T=me).backtracked=!0:K&&(T=null)))}return T},f._loadKey=function(a,u){w.logger.log("Loading key for "+a.sn+" of ["+u.startSN+"-"+u.endSN+"], level "+this.level),this.state=Q_KEY_LOADING,this.hls.trigger(E.default.KEY_LOADING,{frag:a})},f._loadFragment=function(a,u,h,m){var _=this.fragmentTracker.getState(a);this.fragCurrent=a,"initSegment"!==a.sn&&(this.startFragRequested=!0),Object(be.isFiniteNumber)(a.sn)&&!a.bitrateTest&&(this.nextLoadPosition=a.start+a.duration),a.backtracked||_===Xt_NOT_LOADED||_===Xt_PARTIAL?(a.autoLevel=this.hls.autoLevelEnabled,a.bitrateTest=this.bitrateTest,w.logger.log("Loading "+a.sn+" of ["+u.startSN+"-"+u.endSN+"], level "+this.level+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+parseFloat(h.toFixed(3))+", bufferEnd: "+parseFloat(m.toFixed(3))),this.hls.trigger(E.default.FRAG_LOADING,{frag:a}),this.demuxer||(this.demuxer=new ie(this.hls,"main")),this.state=Q_FRAG_LOADING):_===Xt_APPENDING&&this._reduceMaxBufferLength(a.duration)&&this.fragmentTracker.removeFragment(a)},f.getBufferedFrag=function(a){return this.fragmentTracker.getBufferedFrag(a,j.MAIN)},f.followingBufferedFrag=function(a){return a?this.getBufferedFrag(a.endPTS+.5):null},f._checkFragmentChanged=function(){var a,u,h=this.media;if(h&&h.readyState&&!1===h.seeking&&((u=h.currentTime)>this.lastCurrentTime&&(this.lastCurrentTime=u),I.isBuffered(h,u)?a=this.getBufferedFrag(u):I.isBuffered(h,u+.1)&&(a=this.getBufferedFrag(u+.1)),a)){var m=a;if(m!==this.fragPlaying){this.hls.trigger(E.default.FRAG_CHANGED,{frag:m});var _=m.level;(!this.fragPlaying||this.fragPlaying.level!==_)&&this.hls.trigger(E.default.LEVEL_SWITCHED,{level:_}),this.fragPlaying=m}}},f.immediateLevelSwitch=function(){if(w.logger.log("immediateLevelSwitch"),!this.immediateSwitch){this.immediateSwitch=!0;var u,a=this.media;a?(u=a.paused)||a.pause():u=!0,this.previouslyPaused=u}var h=this.fragCurrent;h&&h.loader&&h.loader.abort(),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},f.immediateLevelSwitchEnd=function(){var a=this.media;a&&a.buffered.length&&(this.immediateSwitch=!1,a.currentTime>0&&I.isBuffered(a,a.currentTime)&&(a.currentTime-=1e-4),this.previouslyPaused||a.play())},f.nextLevelSwitch=function(){var a=this.media;if(a&&a.readyState){var u,h=this.getBufferedFrag(a.currentTime);if(h&&h.startPTS>1&&this.flushMainBuffer(0,h.startPTS-1),a.paused)u=0;else{var x=this.fragLastKbps;u=x&&this.fragCurrent?this.fragCurrent.duration*this.levels[this.hls.nextLoadLevel].bitrate/(1e3*x)+1:0}var C=this.getBufferedFrag(a.currentTime+u);if(C){var M=this.followingBufferedFrag(C);if(M){var T=this.fragCurrent;T&&T.loader&&T.loader.abort(),this.fragCurrent=null;var B=Math.max(C.endPTS,M.maxStartPTS+Math.min(this.config.maxFragLookUpTolerance,M.duration));this.flushMainBuffer(B,Number.POSITIVE_INFINITY)}}}},f.flushMainBuffer=function(a,u){this.state=Q_BUFFER_FLUSHING;var h={startOffset:a,endOffset:u};this.altAudio&&(h.type="video"),this.hls.trigger(E.default.BUFFER_FLUSHING,h)},f.onMediaAttached=function(a){var u=this.media=this.mediaBuffer=a.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),this.onvended=this.onMediaEnded.bind(this),u.addEventListener("seeking",this.onvseeking),u.addEventListener("seeked",this.onvseeked),u.addEventListener("ended",this.onvended);var h=this.config;this.levels&&h.autoStartLoad&&this.hls.startLoad(h.startPosition),this.gapController=new tn(h,u,this.fragmentTracker,this.hls)},f.onMediaDetaching=function(){var a=this.media;a&&a.ended&&(w.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0);var u=this.levels;u&&u.forEach(function(h){h.details&&h.details.fragments.forEach(function(m){m.backtracked=void 0})}),a&&(a.removeEventListener("seeking",this.onvseeking),a.removeEventListener("seeked",this.onvseeked),a.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.fragmentTracker.removeAllFragments(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.stopLoad()},f.onMediaSeeked=function(){var a=this.media,u=a?a.currentTime:void 0;Object(be.isFiniteNumber)(u)&&w.logger.log("media seeked to "+u.toFixed(3)),this.tick()},f.onManifestLoading=function(){w.logger.log("trigger BUFFER_RESET"),this.hls.trigger(E.default.BUFFER_RESET),this.fragmentTracker.removeAllFragments(),this.stalled=!1,this.startPosition=this.lastCurrentTime=0},f.onManifestParsed=function(a){var m,u=!1,h=!1;a.levels.forEach(function(x){(m=x.audioCodec)&&(-1!==m.indexOf("mp4a.40.2")&&(u=!0),-1!==m.indexOf("mp4a.40.5")&&(h=!0))}),this.audioCodecSwitch=u&&h,this.audioCodecSwitch&&w.logger.log("both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.altAudio=a.altAudio,this.levels=a.levels,this.startFragRequested=!1;var _=this.config;(_.autoStartLoad||this.forceStartLoad)&&this.hls.startLoad(_.startPosition)},f.onLevelLoaded=function(a){var u=a.details,h=a.level,m=this.levels[this.levelLastLoaded],_=this.levels[h],x=u.totalduration,C=0;if(w.logger.log("level "+h+" loaded ["+u.startSN+","+u.endSN+"],duration:"+x),u.live||_.details&&_.details.live){var M=_.details;M&&u.fragments.length>0?(Ae(M,u),this.liveSyncPosition=this.computeLivePosition(C=u.fragments[0].start,M),u.PTSKnown&&Object(be.isFiniteNumber)(C)?w.logger.log("live playlist sliding:"+C.toFixed(3)):(w.logger.log("live playlist - outdated PTS, unknown sliding"),At(this.fragPrevious,m,u))):(w.logger.log("live playlist - first load, unknown sliding"),u.PTSKnown=!1,At(this.fragPrevious,m,u))}else u.PTSKnown=!1;if(_.details=u,this.levelLastLoaded=h,this.hls.trigger(E.default.LEVEL_UPDATED,{details:u,level:h}),!1===this.startFragRequested){if(-1===this.startPosition||-1===this.lastCurrentTime){var T=u.startTimeOffset;Object(be.isFiniteNumber)(T)?(T<0&&(w.logger.log("negative start time offset "+T+", count from end of last fragment"),T=C+x+T),w.logger.log("start time offset found in playlist, adjust startPosition to "+T),this.startPosition=T):u.live?(this.startPosition=this.computeLivePosition(C,u),w.logger.log("configure startPosition to "+this.startPosition)):this.startPosition=0,this.lastCurrentTime=this.startPosition}this.nextLoadPosition=this.startPosition}this.state===Q_WAITING_LEVEL&&(this.state=Q_IDLE),this.tick()},f.onKeyLoaded=function(){this.state===Q_KEY_LOADING&&(this.state=Q_IDLE,this.tick())},f.onFragLoaded=function(a){var u=this.fragCurrent,h=this.hls,_=this.media,x=a.frag;if(this.state===Q_FRAG_LOADING&&u&&"main"===x.type&&x.level===u.level&&x.sn===u.sn){var C=a.stats,M=this.levels[u.level],T=M.details;if(this.bitrateTest=!1,this.stats=C,w.logger.log("Loaded "+u.sn+" of ["+T.startSN+" ,"+T.endSN+"],level "+u.level),x.bitrateTest&&h.nextLoadLevel)this.state=Q_IDLE,this.startFragRequested=!1,C.tparsed=C.tbuffered=window.performance.now(),h.trigger(E.default.FRAG_BUFFERED,{stats:C,frag:u,id:"main"}),this.tick();else if("initSegment"===x.sn)this.state=Q_IDLE,C.tparsed=C.tbuffered=window.performance.now(),T.initSegment.data=a.payload,h.trigger(E.default.FRAG_BUFFERED,{stats:C,frag:u,id:"main"}),this.tick();else{w.logger.log("Parsing "+u.sn+" of ["+T.startSN+" ,"+T.endSN+"],level "+u.level+", cc "+u.cc),this.state=Q_PARSING,this.pendingBuffering=!0,this.appended=!1,x.bitrateTest&&(x.bitrateTest=!1,this.fragmentTracker.onFragLoaded({frag:x}));var B=!(_&&_.seeking)&&(T.PTSKnown||!T.live),K=T.initSegment?T.initSegment.data:[],le=this._getAudioCodec(M);(this.demuxer=this.demuxer||new ie(this.hls,"main")).push(a.payload,K,le,M.videoCodec,u,T.totalduration,B)}}this.fragLoadError=0},f.onFragParsingInitSegment=function(a){var u=this.fragCurrent,h=a.frag;if(u&&"main"===a.id&&h.sn===u.sn&&h.level===u.level&&this.state===Q_PARSING){var _,x,m=a.tracks;if(this.audioOnly=m.audio&&!m.video,this.altAudio&&!this.audioOnly&&delete m.audio,x=m.audio){var C=this.levels[this.level].audioCodec,M=navigator.userAgent.toLowerCase();C&&this.audioCodecSwap&&(w.logger.log("swapping playlist audio codec"),C=-1!==C.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),this.audioCodecSwitch&&1!==x.metadata.channelCount&&-1===M.indexOf("firefox")&&(C="mp4a.40.5"),-1!==M.indexOf("android")&&"audio/mpeg"!==x.container&&w.logger.log("Android: force audio codec to "+(C="mp4a.40.2")),x.levelCodec=C,x.id=a.id}for(_ in(x=m.video)&&(x.levelCodec=this.levels[this.level].videoCodec,x.id=a.id),this.hls.trigger(E.default.BUFFER_CODECS,m),m){w.logger.log("main track:"+_+",container:"+(x=m[_]).container+",codecs[level/parsed]=["+x.levelCodec+"/"+x.codec+"]");var T=x.initSegment;T&&(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(E.default.BUFFER_APPENDING,{type:_,data:T,parent:"main",content:"initSegment"}))}this.tick()}},f.onFragParsingData=function(a){var u=this,h=this.fragCurrent,m=a.frag;if(h&&"main"===a.id&&m.sn===h.sn&&m.level===h.level&&("audio"!==a.type||!this.altAudio)&&this.state===Q_PARSING){var _=this.levels[this.level],x=h;if(Object(be.isFiniteNumber)(a.endPTS)||(a.endPTS=a.startPTS+h.duration,a.endDTS=a.startDTS+h.duration),!0===a.hasAudio&&x.addElementaryStream(he.AUDIO),!0===a.hasVideo&&x.addElementaryStream(he.VIDEO),w.logger.log("Parsed "+a.type+",PTS:["+a.startPTS.toFixed(3)+","+a.endPTS.toFixed(3)+"],DTS:["+a.startDTS.toFixed(3)+"/"+a.endDTS.toFixed(3)+"],nb:"+a.nb+",dropped:"+(a.dropped||0)),"video"===a.type)if(x.dropped=a.dropped,x.dropped)if(x.backtracked)w.logger.warn("Already backtracked on this fragment, appending with the gap",x.sn);else{var C=_.details;if(!C||x.sn!==C.startSN)return w.logger.warn("missing video frame(s), backtracking fragment",x.sn),this.fragmentTracker.removeFragment(x),x.backtracked=!0,this.nextLoadPosition=a.startPTS,this.state=Q_IDLE,this.fragPrevious=x,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),void this.tick();w.logger.warn("missing video frame(s) on first frag, appending with gap",x.sn)}else x.backtracked=!1;var M=ye(_.details,x,a.startPTS,a.endPTS,a.startDTS,a.endDTS),T=this.hls;T.trigger(E.default.LEVEL_PTS_UPDATED,{details:_.details,level:this.level,drift:M,type:a.type,start:a.startPTS,end:a.endPTS}),[a.data1,a.data2].forEach(function(B){B&&B.length&&u.state===Q_PARSING&&(u.appended=!0,u.pendingBuffering=!0,T.trigger(E.default.BUFFER_APPENDING,{type:a.type,data:B,parent:"main",content:"data"}))}),this.tick()}},f.onFragParsed=function(a){var u=this.fragCurrent,h=a.frag;u&&"main"===a.id&&h.sn===u.sn&&h.level===u.level&&this.state===Q_PARSING&&(this.stats.tparsed=window.performance.now(),this.state=Q_PARSED,this._checkAppendedParsed())},f.onAudioTrackSwitching=function(a){var u=this.altAudio,m=a.id;if(!a.url){if(this.mediaBuffer!==this.media){w.logger.log("switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var _=this.fragCurrent;_.loader&&(w.logger.log("switching to main audio track, cancel main fragment load"),_.loader.abort()),this.fragCurrent=null,this.fragPrevious=null,this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),this.state=Q_IDLE}var x=this.hls;u&&x.trigger(E.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),x.trigger(E.default.AUDIO_TRACK_SWITCHED,{id:m})}},f.onAudioTrackSwitched=function(a){var h=!!this.hls.audioTracks[a.id].url;if(h){var m=this.videoBuffer;m&&this.mediaBuffer!==m&&(w.logger.log("switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=m)}this.altAudio=h,this.tick()},f.onBufferCreated=function(a){var h,m,u=a.tracks,_=!1;for(var x in u){var C=u[x];"main"===C.id?(m=x,h=C,"video"===x&&(this.videoBuffer=u[x].buffer)):_=!0}_&&h?(w.logger.log("alternate track found, use "+m+".buffered to schedule main fragment loading"),this.mediaBuffer=h.buffer):this.mediaBuffer=this.media},f.onBufferAppended=function(a){if("main"===a.parent){var u=this.state;(u===Q_PARSING||u===Q_PARSED)&&(this.pendingBuffering=a.pending>0,this._checkAppendedParsed())}},f._checkAppendedParsed=function(){if(!(this.state!==Q_PARSED||this.appended&&this.pendingBuffering)){var a=this.fragCurrent;if(a){w.logger.log("main buffered : "+rt_toString((this.mediaBuffer?this.mediaBuffer:this.media).buffered)),this.fragPrevious=a;var h=this.stats;h.tbuffered=window.performance.now(),this.fragLastKbps=Math.round(8*h.total/(h.tbuffered-h.tfirst)),this.hls.trigger(E.default.FRAG_BUFFERED,{stats:h,frag:a,id:"main"}),this.state=Q_IDLE}(this.loadedmetadata||this.startPosition<=0)&&this.tick()}},f.onError=function(a){var u=a.frag||this.fragCurrent;if(!u||"main"===u.type){var h=!!this.media&&I.isBuffered(this.media,this.media.currentTime)&&I.isBuffered(this.media,this.media.currentTime+.5);switch(a.details){case H.ErrorDetails.FRAG_LOAD_ERROR:case H.ErrorDetails.FRAG_LOAD_TIMEOUT:case H.ErrorDetails.KEY_LOAD_ERROR:case H.ErrorDetails.KEY_LOAD_TIMEOUT:if(!a.fatal)if(this.fragLoadError+1<=this.config.fragLoadingMaxRetry){var m=Math.min(Math.pow(2,this.fragLoadError)*this.config.fragLoadingRetryDelay,this.config.fragLoadingMaxRetryTimeout);w.logger.warn("mediaController: frag loading failed, retry in "+m+" ms"),this.retryDate=window.performance.now()+m,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.fragLoadError++,this.state=Q_FRAG_LOADING_WAITING_RETRY}else w.logger.error("mediaController: "+a.details+" reaches max retry, redispatch as fatal ..."),a.fatal=!0,this.state=Q_ERROR;break;case H.ErrorDetails.LEVEL_LOAD_ERROR:case H.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==Q_ERROR&&(a.fatal?(this.state=Q_ERROR,w.logger.warn("streamController: "+a.details+",switch to "+this.state+" state ...")):!a.levelRetry&&this.state===Q_WAITING_LEVEL&&(this.state=Q_IDLE));break;case H.ErrorDetails.BUFFER_FULL_ERROR:"main"===a.parent&&(this.state===Q_PARSING||this.state===Q_PARSED)&&(h?(this._reduceMaxBufferLength(this.config.maxBufferLength),this.state=Q_IDLE):(w.logger.warn("buffer full error also media.currentTime is not buffered, flush everything"),this.fragCurrent=null,this.flushMainBuffer(0,Number.POSITIVE_INFINITY)))}}},f._reduceMaxBufferLength=function(a){var u=this.config;return u.maxMaxBufferLength>=a&&(u.maxMaxBufferLength/=2,w.logger.warn("main:reduce max buffer length to "+u.maxMaxBufferLength+"s"),!0)},f._checkBuffer=function(){var a=this.media;if(a&&0!==a.readyState){var h=(this.mediaBuffer?this.mediaBuffer:a).buffered;!this.loadedmetadata&&h.length?(this.loadedmetadata=!0,this._seekToStartPos()):this.immediateSwitch?this.immediateLevelSwitchEnd():this.gapController.poll(this.lastCurrentTime,h)}},f.onFragLoadEmergencyAborted=function(){this.state=Q_IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tick()},f.onBufferFlushed=function(){var a=this.mediaBuffer?this.mediaBuffer:this.media;a&&this.fragmentTracker.detectEvictedFragments(this.audioOnly?he.AUDIO:he.VIDEO,a.buffered),this.state=Q_IDLE,this.fragPrevious=null},f.onLevelsUpdated=function(a){this.levels=a.levels},f.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},f._seekToStartPos=function(){var a=this.media,u=a.currentTime,h=this.startPosition;if(u!==h&&h>=0){if(a.seeking)return void w.logger.log("could not seek to "+h+", already seeking at "+u);var _=(a.buffered.length?a.buffered.start(0):0)-h;_>0&&_<this.config.maxBufferHole&&(w.logger.log("adjusting start position by "+_+" to match buffer start"),this.startPosition=h+=_),w.logger.log("seek to target start position "+h+" from current time "+u+". ready state "+a.readyState),a.currentTime=h}},f._getAudioCodec=function(a){var u=this.config.defaultAudioCodec||a.audioCodec;return this.audioCodecSwap&&(w.logger.log("swapping playlist audio codec"),u&&(u=-1!==u.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5")),u},function pr(v,p,f){return p&&Rn(v.prototype,p),f&&Rn(v,f),v}(p,[{key:"state",set:function(a){if(this.state!==a){var u=this.state;this._state=a,w.logger.log("main stream-controller: "+u+"->"+a),this.hls.trigger(E.default.STREAM_STATE_TRANSITION,{previousState:u,nextState:a})}},get:function(){return this._state}},{key:"currentLevel",get:function(){var a=this.media;if(a){var u=this.getBufferedFrag(a.currentTime);if(u)return u.level}return-1}},{key:"nextBufferedFrag",get:function(){var a=this.media;return a?this.followingBufferedFrag(this.getBufferedFrag(a.currentTime)):null}},{key:"nextLevel",get:function(){var a=this.nextBufferedFrag;return a?a.level:-1}},{key:"liveSyncPosition",get:function(){return this._liveSyncPosition},set:function(a){this._liveSyncPosition=a}}]),p}(ni);function Lo(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var Ss,Vo=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MANIFEST_LOADED,E.default.LEVEL_LOADED,E.default.AUDIO_TRACK_SWITCHED,E.default.FRAG_LOADED,E.default.ERROR)||this).canload=!1,a.currentLevelIndex=null,a.manualLevelIndex=-1,a.timer=null,Ss=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),a}!function No(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.onHandlerDestroying=function(){this.clearTimer(),this.manualLevelIndex=-1},f.clearTimer=function(){null!==this.timer&&(clearTimeout(this.timer),this.timer=null)},f.startLoad=function(){var a=this._levels;this.canload=!0,this.levelRetryCount=0,a&&a.forEach(function(u){u.loadError=0;var h=u.details;h&&h.live&&(u.details=void 0)}),null!==this.timer&&this.loadLevel()},f.stopLoad=function(){this.canload=!1},f.onManifestLoaded=function(a){var m,u=[],h=[],_={},x=null,C=!1,M=!1;if(a.levels.forEach(function(K){var le=K.attrs;K.loadError=0,K.fragmentError=!1,C=C||!!K.videoCodec,M=M||!!K.audioCodec,Ss&&K.audioCodec&&-1!==K.audioCodec.indexOf("mp4a.40.34")&&(K.audioCodec=void 0),(x=_[K.bitrate])?x.url.push(K.url):(K.url=[K.url],K.urlId=0,_[K.bitrate]=K,u.push(K)),le&&(le.AUDIO&&ue(x||K,"audio",le.AUDIO),le.SUBTITLES&&ue(x||K,"text",le.SUBTITLES))}),C&&M&&(u=u.filter(function(K){return!!K.videoCodec})),u=u.filter(function(K){var le=K.audioCodec,me=K.videoCodec;return(!le||Et(le,"audio"))&&(!me||Et(me,"video"))}),a.audioTracks&&(h=a.audioTracks.filter(function(K){return!K.audioCodec||Et(K.audioCodec,"audio")})).forEach(function(K,le){K.id=le}),u.length>0){m=u[0].bitrate,u.sort(function(K,le){return K.bitrate-le.bitrate}),this._levels=u;for(var T=0;T<u.length;T++)if(u[T].bitrate===m){this._firstLevel=T,w.logger.log("manifest loaded,"+u.length+" level(s) found, first bitrate:"+m);break}this.hls.trigger(E.default.MANIFEST_PARSED,{levels:u,audioTracks:h,firstLevel:this._firstLevel,stats:a.stats,audio:M,video:C,altAudio:!(M&&!C)&&h.some(function(K){return!!K.url})})}else this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:this.hls.url,reason:"no level with compatible codecs found in manifest"})},f.setLevelInternal=function(a){var u=this._levels,h=this.hls;if(a>=0&&a<u.length){if(this.clearTimer(),this.currentLevelIndex!==a){w.logger.log("switching to level "+a),this.currentLevelIndex=a;var m=u[a];m.level=a,h.trigger(E.default.LEVEL_SWITCHING,m)}var _=u[a],x=_.details;if(!x||x.live){var C=_.urlId;h.trigger(E.default.LEVEL_LOADING,{url:_.url[C],level:a,id:C})}}else h.trigger(E.default.ERROR,{type:H.ErrorTypes.OTHER_ERROR,details:H.ErrorDetails.LEVEL_SWITCH_ERROR,level:a,fatal:!1,reason:"invalid level idx"})},f.onError=function(a){if(a.fatal)a.type===H.ErrorTypes.NETWORK_ERROR&&this.clearTimer();else{var m,u=!1,h=!1;switch(a.details){case H.ErrorDetails.FRAG_LOAD_ERROR:case H.ErrorDetails.FRAG_LOAD_TIMEOUT:case H.ErrorDetails.KEY_LOAD_ERROR:case H.ErrorDetails.KEY_LOAD_TIMEOUT:m=a.frag.level,h=!0;break;case H.ErrorDetails.LEVEL_LOAD_ERROR:case H.ErrorDetails.LEVEL_LOAD_TIMEOUT:m=a.context.level,u=!0;break;case H.ErrorDetails.REMUX_ALLOC_ERROR:m=a.level,u=!0}void 0!==m&&this.recoverLevel(a,m,u,h)}},f.recoverLevel=function(a,u,h,m){var T,B,K,_=this,x=this.hls.config,C=a.details,M=this._levels[u];if(M.loadError++,M.fragmentError=m,h){if(!(this.levelRetryCount+1<=x.levelLoadingMaxRetry))return w.logger.error("level controller, cannot recover from "+C+" error"),this.currentLevelIndex=null,this.clearTimer(),void(a.fatal=!0);B=Math.min(Math.pow(2,this.levelRetryCount)*x.levelLoadingRetryDelay,x.levelLoadingMaxRetryTimeout),this.timer=setTimeout(function(){return _.loadLevel()},B),a.levelRetry=!0,this.levelRetryCount++,w.logger.warn("level controller, "+C+", retry in "+B+" ms, current retry count is "+this.levelRetryCount)}(h||m)&&((T=M.url.length)>1&&M.loadError<T?(M.urlId=(M.urlId+1)%T,M.details=void 0,w.logger.warn("level controller, "+C+" for level "+u+": switching to redundant URL-id "+M.urlId)):-1===this.manualLevelIndex?(w.logger.warn("level controller, "+C+": switch to "+(K=0===u?this._levels.length-1:u-1)),this.hls.nextAutoLevel=this.currentLevelIndex=K):m&&(w.logger.warn("level controller, "+C+": reload a fragment"),this.currentLevelIndex=null))},f.onFragLoaded=function(a){var u=a.frag;if(void 0!==u&&"main"===u.type){var h=this._levels[u.level];void 0!==h&&(h.fragmentError=!1,h.loadError=0,this.levelRetryCount=0)}},f.onLevelLoaded=function(a){var u=this,h=a.level,m=a.details;if(h===this.currentLevelIndex){var _=this._levels[h];if(_.fragmentError||(_.loadError=0,this.levelRetryCount=0),m.live){var x=Ye(_.details,m,a.stats.trequest);w.logger.log("live playlist, reload in "+Math.round(x)+" ms"),this.timer=setTimeout(function(){return u.loadLevel()},x)}else this.clearTimer()}},f.onAudioTrackSwitched=function(a){var u=this.hls.audioTracks[a.id].groupId,h=this.hls.levels[this.currentLevelIndex];if(h&&h.audioGroupIds){for(var m=-1,_=0;_<h.audioGroupIds.length;_++)if(h.audioGroupIds[_]===u){m=_;break}m!==h.urlId&&(h.urlId=m,this.startLoad())}},f.loadLevel=function(){if(w.logger.debug("call to loadLevel"),null!==this.currentLevelIndex&&this.canload){var a=this._levels[this.currentLevelIndex];if("object"==typeof a&&a.url.length>0){var u=this.currentLevelIndex,h=a.urlId,m=a.url[h];w.logger.log("Attempt loading level index "+u+" with URL-id "+h),this.hls.trigger(E.default.LEVEL_LOADING,{url:m,level:u,id:h})}}},f.removeLevel=function(a,u){var h=this.levels.filter(function(m,_){return _!==a||m.url.length>1&&void 0!==u&&(m.url=m.url.filter(function(x,C){return C!==u}),m.urlId=0,!0)}).map(function(m,_){var x=m.details;return x&&x.fragments&&x.fragments.forEach(function(C){C.level=_}),m});this._levels=h,this.hls.trigger(E.default.LEVELS_UPDATED,{levels:h})},function Po(v,p,f){return p&&Lo(v.prototype,p),f&&Lo(v,f),v}(p,[{key:"levels",get:function(){return this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(a){var u=this._levels;u&&(a=Math.min(a,u.length-1),(this.currentLevelIndex!==a||!u[a].details)&&this.setLevelInternal(a))}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(a){this.manualLevelIndex=a,void 0===this._startLevel&&(this._startLevel=a),-1!==a&&(this.level=a)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(a){this._firstLevel=a}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var a=this.hls.config.startLevel;return void 0!==a?a:this._firstLevel}return this._startLevel},set:function(a){this._startLevel=a}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(a){this.level=a,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=a)}}]),p}(N),$t=ee("./src/demux/id3.js");function As(v,p){var f;try{f=new Event("addtrack")}catch{(f=document.createEvent("Event")).initEvent("addtrack",!1,!1)}f.track=v,p.dispatchEvent(f)}function Xi(v){if(v?.cues)for(;v.cues.length>0;)v.removeCue(v.cues[0])}var Ti=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MEDIA_ATTACHED,E.default.MEDIA_DETACHING,E.default.FRAG_PARSING_METADATA,E.default.LIVE_BACK_BUFFER_REACHED)||this).id3Track=void 0,a.media=void 0,a}!function Ut(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){N.prototype.destroy.call(this)},f.onMediaAttached=function(a){this.media=a.media},f.onMediaDetaching=function(){Xi(this.id3Track),this.id3Track=void 0,this.media=void 0},f.getID3Track=function(a){for(var u=0;u<a.length;u++){var h=a[u];if("metadata"===h.kind&&"id3"===h.label)return As(h,this.media),h}return this.media.addTextTrack("metadata","id3")},f.onFragParsingMetadata=function(a){var u=a.frag,h=a.samples;this.id3Track||(this.id3Track=this.getID3Track(this.media.textTracks),this.id3Track.mode="hidden");for(var m=window.WebKitDataCue||window.VTTCue||window.TextTrackCue,_=0;_<h.length;_++){var x=$t.default.getID3Frames(h[_].data);if(x){var C=Math.max(h[_].pts,0),M=_<h.length-1?h[_+1].pts:u.endPTS;M||(M=u.start+u.duration),M-C<=0&&(M=C+.25);for(var B=0;B<x.length;B++){var K=x[B];if(!$t.default.isTimeStampFrame(K)){var le=new m(C,M,"");le.value=K,this.id3Track.addCue(le)}}}}},f.onLiveBackBufferReached=function(a){var h=this.id3Track;if(h&&h.cues&&h.cues.length){var m=function Zi(v,p){if(p<v[0].endTime)return v[0];if(p>v[v.length-1].endTime)return v[v.length-1];for(var f=0,c=v.length-1;f<=c;){var a=Math.floor((c+f)/2);if(p<v[a].endTime)c=a-1;else{if(!(p>v[a].endTime))return v[a];f=a+1}}return v[f].endTime-p<p-v[c].endTime?v[f]:v[c]}(h.cues,a.bufferEnd);if(m)for(;h.cues[0]!==m;)h.removeCue(h.cues[0])}},p}(N);var ze=function(){function v(f){this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.alpha_=f?Math.exp(Math.log(.5)/f):0,this.estimate_=0,this.totalWeight_=0}var p=v.prototype;return p.sample=function(c,a){var u=Math.pow(this.alpha_,c);this.estimate_=a*(1-u)+u*this.estimate_,this.totalWeight_+=c},p.getTotalWeight=function(){return this.totalWeight_},p.getEstimate=function(){if(this.alpha_){var c=1-Math.pow(this.alpha_,this.totalWeight_);return this.estimate_/c}return this.estimate_},v}(),nv=function(){function v(f,c,a,u){this.hls=void 0,this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.hls=f,this.defaultEstimate_=u,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new ze(c),this.fast_=new ze(a)}var p=v.prototype;return p.sample=function(c,a){var h=(c=Math.max(c,this.minDelayMs_))/1e3,m=8*a/h;this.fast_.sample(h,m),this.slow_.sample(h,m)},p.canEstimate=function(){var c=this.fast_;return c&&c.getTotalWeight()>=this.minWeight_},p.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},p.destroy=function(){},v}();function Ee(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var rv=window.performance,Uo=function(v){function p(c){var a;return(a=v.call(this,c,E.default.FRAG_LOADING,E.default.FRAG_LOADED,E.default.FRAG_BUFFERED,E.default.ERROR)||this).lastLoadedFragLevel=0,a._nextAutoLevel=-1,a.hls=c,a.timer=null,a._bwEstimator=null,a.onCheck=a._abandonRulesCheck.bind(function it(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(a)),a}!function Ot(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){this.clearTimer(),N.prototype.destroy.call(this)},f.onFragLoading=function(a){var u=a.frag;if("main"===u.type&&(this.timer||(this.fragCurrent=u,this.timer=setInterval(this.onCheck,100)),!this._bwEstimator)){var C,M,h=this.hls,m=h.config;h.levels[u.level].details.live?(C=m.abrEwmaFastLive,M=m.abrEwmaSlowLive):(C=m.abrEwmaFastVoD,M=m.abrEwmaSlowVoD),this._bwEstimator=new nv(h,M,C,m.abrEwmaDefaultEstimate)}},f._abandonRulesCheck=function(){var a=this.hls,u=a.media,h=this.fragCurrent;if(h){var m=h.loader;if(!m||m.stats&&m.stats.aborted)return w.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);var _=m.stats;if(u&&_&&(!u.paused&&0!==u.playbackRate||!u.readyState)&&h.autoLevel&&h.level){var x=rv.now()-_.trequest,C=Math.abs(u.playbackRate);if(x>500*h.duration/C){var M=a.levels,T=Math.max(1,_.bw?_.bw/8:1e3*_.loaded/x),B=M[h.level];if(!B)return;var K=B.realBitrate?Math.max(B.realBitrate,B.bitrate):B.bitrate,le=_.total?_.total:Math.max(_.loaded,Math.round(h.duration*K/8)),me=u.currentTime,ke=(le-_.loaded)/T,De=(I.bufferInfo(u,me,a.config.maxBufferHole).end-me)/C;if(De<2*h.duration/C&&ke>De){var bt,Ve=a.minAutoLevel;for(bt=h.level-1;bt>Ve;bt--){var ln=M[bt].realBitrate?Math.max(M[bt].realBitrate,M[bt].bitrate):M[bt].bitrate;if(h.duration*ln/(6.4*T)<De)break}undefined<ke&&(w.logger.warn("loading too slow, abort fragment loading and switch to level "+bt+":fragLoadedDelay["+bt+"]<fragLoadedDelay["+(h.level-1)+"];bufferStarvationDelay:"+undefined.toFixed(1)+"<"+ke.toFixed(1)+":"+De.toFixed(1)),a.nextLoadLevel=bt,this._bwEstimator.sample(x,_.loaded),m.abort(),this.clearTimer(),a.trigger(E.default.FRAG_LOAD_EMERGENCY_ABORTED,{frag:h,stats:_}))}}}}},f.onFragLoaded=function(a){var u=a.frag;if("main"===u.type&&Object(be.isFiniteNumber)(u.sn)){if(this.clearTimer(),this.lastLoadedFragLevel=u.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var h=this.hls.levels[u.level],m=(h.loaded?h.loaded.bytes:0)+a.stats.loaded,_=(h.loaded?h.loaded.duration:0)+a.frag.duration;h.loaded={bytes:m,duration:_},h.realBitrate=Math.round(8*m/_)}if(a.frag.bitrateTest){var x=a.stats;x.tparsed=x.tbuffered=x.tload,this.onFragBuffered(a)}}},f.onFragBuffered=function(a){var u=a.stats,h=a.frag;if(!0!==u.aborted&&"main"===h.type&&Object(be.isFiniteNumber)(h.sn)&&(!h.bitrateTest||u.tload===u.tbuffered)){var m=u.tparsed-u.trequest;w.logger.log("latency/loading/parsing/append/kbps:"+Math.round(u.tfirst-u.trequest)+"/"+Math.round(u.tload-u.tfirst)+"/"+Math.round(u.tparsed-u.tload)+"/"+Math.round(u.tbuffered-u.tparsed)+"/"+Math.round(8*u.loaded/(u.tbuffered-u.trequest))),this._bwEstimator.sample(m,u.loaded),u.bwEstimate=this._bwEstimator.getEstimate(),this.bitrateTestDelay=h.bitrateTest?m/1e3:0}},f.onError=function(a){switch(a.details){case H.ErrorDetails.FRAG_LOAD_ERROR:case H.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},f.clearTimer=function(){clearInterval(this.timer),this.timer=null},f._findBestLevel=function(a,u,h,m,_,x,C,M,T){for(var B=_;B>=m;B--){var K=T[B];if(K){var De,le=K.details,me=le?le.totalduration/le.fragments.length:u,ke=!!le&&le.live;De=B<=a?C*h:M*h;var Ve=T[B].realBitrate?Math.max(T[B].realBitrate,T[B].bitrate):T[B].bitrate,Qe=Ve*me/De;if(w.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+B+"/"+Math.round(De)+"/"+Ve+"/"+me+"/"+x+"/"+Qe),De>Ve&&(!Qe||ke&&!this.bitrateTestDelay||Qe<x))return B}}return-1},function Bo(v,p,f){return p&&Ee(v.prototype,p),f&&Ee(v,f),v}(p,[{key:"nextAutoLevel",get:function(){var a=this._nextAutoLevel,u=this._bwEstimator;if(!(-1===a||u&&u.canEstimate()))return a;var h=this._nextABRAutoLevel;return-1!==a&&(h=Math.min(a,h)),h},set:function(a){this._nextAutoLevel=a}},{key:"_nextABRAutoLevel",get:function(){var a=this.hls,u=a.maxAutoLevel,h=a.levels,m=a.config,_=a.minAutoLevel,x=a.media,C=this.lastLoadedFragLevel,M=this.fragCurrent?this.fragCurrent.duration:0,T=x?x.currentTime:0,B=x&&0!==x.playbackRate?Math.abs(x.playbackRate):1,K=this._bwEstimator?this._bwEstimator.getEstimate():m.abrEwmaDefaultEstimate,le=(I.bufferInfo(x,T,m.maxBufferHole).end-T)/B,me=this._findBestLevel(C,M,K,_,u,le,m.abrBandWidthFactor,m.abrBandWidthUpFactor,h);if(me>=0)return me;w.logger.trace("rebuffering expected to happen, lets try to find a quality level minimizing the rebuffering");var ke=M?Math.min(M,m.maxStarvationDelay):m.maxStarvationDelay,De=m.abrBandWidthFactor,Ve=m.abrBandWidthUpFactor;if(0===le){var Qe=this.bitrateTestDelay;Qe&&(ke=(M?Math.min(M,m.maxLoadingDelay):m.maxLoadingDelay)-Qe,w.logger.trace("bitrate test took "+Math.round(1e3*Qe)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*ke)+" ms"),De=Ve=1)}return me=this._findBestLevel(C,M,K,_,u,le+ke,De,Ve,h),Math.max(me,0)}}]),p}(N);var af=A(),iv=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MEDIA_ATTACHING,E.default.MEDIA_DETACHING,E.default.MANIFEST_PARSED,E.default.BUFFER_RESET,E.default.BUFFER_APPENDING,E.default.BUFFER_CODECS,E.default.BUFFER_EOS,E.default.BUFFER_FLUSHING,E.default.LEVEL_PTS_UPDATED,E.default.LEVEL_UPDATED)||this)._msDuration=null,a._levelDuration=null,a._levelTargetDuration=10,a._live=null,a._objectUrl=null,a._needsFlush=!1,a._needsEos=!1,a.config=void 0,a.audioTimestampOffset=void 0,a.bufferCodecEventsExpected=0,a._bufferCodecEventsTotal=0,a.media=null,a.mediaSource=null,a.segments=[],a.parent=void 0,a.appending=!1,a.appended=0,a.appendError=0,a.flushBufferCounter=0,a.tracks={},a.pendingTracks={},a.sourceBuffer={},a.flushRange=[],a._onMediaSourceOpen=function(){w.logger.log("media source opened"),a.hls.trigger(E.default.MEDIA_ATTACHED,{media:a.media});var u=a.mediaSource;u&&u.removeEventListener("sourceopen",a._onMediaSourceOpen),a.checkPendingTracks()},a._onMediaSourceClose=function(){w.logger.log("media source closed")},a._onMediaSourceEnded=function(){w.logger.log("media source ended")},a._onSBUpdateEnd=function(){if(a.audioTimestampOffset&&a.sourceBuffer.audio){var u=a.sourceBuffer.audio;w.logger.warn("change mpeg audio timestamp offset from "+u.timestampOffset+" to "+a.audioTimestampOffset),u.timestampOffset=a.audioTimestampOffset,delete a.audioTimestampOffset}a._needsFlush&&a.doFlush(),a._needsEos&&a.checkEos(),a.appending=!1;var h=a.parent,m=a.segments.reduce(function(T,B){return B.parent===h?T+1:T},0),_={},x=a.sourceBuffer;for(var C in x){var M=x[C];if(!M)throw Error("handling source buffer update end error: source buffer for "+C+" uninitilized and unable to update buffered TimeRanges.");_[C]=M.buffered}a.hls.trigger(E.default.BUFFER_APPENDED,{parent:h,pending:m,timeRanges:_}),a._needsFlush||a.doAppending(),a.updateMediaElementDuration(),0===m&&a.flushLiveBackBuffer()},a._onSBUpdateError=function(u){w.logger.error("sourceBuffer error:",u),a.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1})},a.config=c.config,a}!function mr(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){N.prototype.destroy.call(this)},f.onLevelPtsUpdated=function(a){var h=this.tracks.audio;if("audio"===a.type&&h&&"audio/mpeg"===h.container){var m=this.sourceBuffer.audio;if(!m)throw Error("Level PTS Updated and source buffer for audio uninitalized");if(Math.abs(m.timestampOffset-a.start)>.1){var x=m.updating;try{m.abort()}catch(C){w.logger.warn("can not abort audio buffer: "+C)}x?this.audioTimestampOffset=a.start:(w.logger.warn("change mpeg audio timestamp offset from "+m.timestampOffset+" to "+a.start),m.timestampOffset=a.start)}}},f.onManifestParsed=function(a){var u=2;(a.audio&&!a.video||!a.altAudio)&&(u=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=u,w.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},f.onMediaAttaching=function(a){var u=this.media=a.media;if(u&&af){var h=this.mediaSource=new af;h.addEventListener("sourceopen",this._onMediaSourceOpen),h.addEventListener("sourceended",this._onMediaSourceEnded),h.addEventListener("sourceclose",this._onMediaSourceClose),u.src=window.URL.createObjectURL(h),this._objectUrl=u.src}},f.onMediaDetaching=function(){w.logger.log("media source detaching");var a=this.mediaSource;if(a){if("open"===a.readyState)try{a.endOfStream()}catch(u){w.logger.warn("onMediaDetaching:"+u.message+" while calling endOfStream")}a.removeEventListener("sourceopen",this._onMediaSourceOpen),a.removeEventListener("sourceended",this._onMediaSourceEnded),a.removeEventListener("sourceclose",this._onMediaSourceClose),this.media&&(this._objectUrl&&window.URL.revokeObjectURL(this._objectUrl),this.media.src===this._objectUrl?(this.media.removeAttribute("src"),this.media.load()):w.logger.warn("media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={},this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0}this.hls.trigger(E.default.MEDIA_DETACHED)},f.checkPendingTracks=function(){var a=this.bufferCodecEventsExpected,u=this.pendingTracks,h=Object.keys(u).length;(h&&!a||2===h)&&(this.createSourceBuffers(u),this.pendingTracks={},this.doAppending())},f.onBufferReset=function(){var a=this.sourceBuffer;for(var u in a){var h=a[u];try{h&&(this.mediaSource&&this.mediaSource.removeSourceBuffer(h),h.removeEventListener("updateend",this._onSBUpdateEnd),h.removeEventListener("error",this._onSBUpdateError))}catch{}}this.sourceBuffer={},this.flushRange=[],this.segments=[],this.appended=0},f.onBufferCodecs=function(a){var u=this;Object.keys(this.sourceBuffer).length||(Object.keys(a).forEach(function(h){u.pendingTracks[h]=a[h]}),this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},f.createSourceBuffers=function(a){var u=this.sourceBuffer,h=this.mediaSource;if(!h)throw Error("createSourceBuffers called when mediaSource was null");for(var m in a)if(!u[m]){var _=a[m];if(!_)throw Error("source buffer exists for track "+m+", however track does not");var x=_.levelCodec||_.codec,C=_.container+";codecs="+x;w.logger.log("creating sourceBuffer("+C+")");try{var M=u[m]=h.addSourceBuffer(C);M.addEventListener("updateend",this._onSBUpdateEnd),M.addEventListener("error",this._onSBUpdateError),this.tracks[m]={buffer:M,codec:x,id:_.id,container:_.container,levelCodec:_.levelCodec}}catch(T){w.logger.error("error while trying to add sourceBuffer:"+T.message),this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,err:T,mimeType:C})}}this.hls.trigger(E.default.BUFFER_CREATED,{tracks:this.tracks})},f.onBufferAppending=function(a){this._needsFlush||(this.segments?this.segments.push(a):this.segments=[a],this.doAppending())},f.onBufferEos=function(a){for(var u in this.sourceBuffer)if(!a.type||a.type===u){var h=this.sourceBuffer[u];h&&!h.ended&&(h.ended=!0,w.logger.log(u+" sourceBuffer now EOS"))}this.checkEos()},f.checkEos=function(){var a=this.sourceBuffer,u=this.mediaSource;if(u&&"open"===u.readyState){for(var h in a){var m=a[h];if(m){if(!m.ended)return;if(m.updating)return void(this._needsEos=!0)}}w.logger.log("all media data are available, signal endOfStream() to MediaSource and stop loading fragment");try{u.endOfStream()}catch{w.logger.warn("exception while calling mediaSource.endOfStream()")}this._needsEos=!1}else this._needsEos=!1},f.onBufferFlushing=function(a){a.type?this.flushRange.push({start:a.startOffset,end:a.endOffset,type:a.type}):(this.flushRange.push({start:a.startOffset,end:a.endOffset,type:"video"}),this.flushRange.push({start:a.startOffset,end:a.endOffset,type:"audio"})),this.flushBufferCounter=0,this.doFlush()},f.flushLiveBackBuffer=function(){if(this._live){var a=this.config.liveBackBufferLength;if(isFinite(a)&&!(a<0)){if(!this.media)return void w.logger.error("flushLiveBackBuffer called without attaching media");for(var u=this.media.currentTime,h=this.sourceBuffer,m=Object.keys(h),_=u-Math.max(a,this._levelTargetDuration),x=m.length-1;x>=0;x--){var C=m[x],M=h[C];if(M){var T=M.buffered;T.length>0&&_>T.start(0)&&this.removeBufferRange(C,M,0,_)&&this.hls.trigger(E.default.LIVE_BACK_BUFFER_REACHED,{bufferEnd:_})}}}}},f.onLevelUpdated=function(a){var u=a.details;u.fragments.length>0&&(this._levelDuration=u.totalduration+u.fragments[0].start,this._levelTargetDuration=u.averagetargetduration||u.targetduration||10,this._live=u.live,this.updateMediaElementDuration())},f.updateMediaElementDuration=function(){var u,a=this.config;if(null!==this._levelDuration&&this.media&&this.mediaSource&&this.sourceBuffer&&0!==this.media.readyState&&"open"===this.mediaSource.readyState){for(var h in this.sourceBuffer){var m=this.sourceBuffer[h];if(m&&!0===m.updating)return}u=this.media.duration,null===this._msDuration&&(this._msDuration=this.mediaSource.duration),!0===this._live&&!0===a.liveDurationInfinity?(w.logger.log("Media Source duration is set to Infinity"),this._msDuration=this.mediaSource.duration=1/0):(this._levelDuration>this._msDuration&&this._levelDuration>u||!Object(be.isFiniteNumber)(u))&&(w.logger.log("Updating Media Source duration to "+this._levelDuration.toFixed(3)),this._msDuration=this.mediaSource.duration=this._levelDuration)}},f.doFlush=function(){for(;this.flushRange.length;){var a=this.flushRange[0];if(!this.flushBuffer(a.start,a.end,a.type))return void(this._needsFlush=!0);this.flushRange.shift(),this.flushBufferCounter=0}if(0===this.flushRange.length){this._needsFlush=!1;var u=0,h=this.sourceBuffer;try{for(var m in h){var _=h[m];_&&(u+=_.buffered.length)}}catch{w.logger.error("error while accessing sourceBuffer.buffered")}this.appended=u,this.hls.trigger(E.default.BUFFER_FLUSHED)}},f.doAppending=function(){var a=this.config,u=this.hls,h=this.segments,m=this.sourceBuffer;if(Object.keys(m).length){if(!this.media||this.media.error)return this.segments=[],void w.logger.error("trying to append although a media error occured, flush segment and abort");if(!this.appending){var _=h.shift();if(_)try{var x=m[_.type];if(!x)return void this._onSBUpdateEnd();if(x.updating)return void h.unshift(_);x.ended=!1,this.parent=_.parent,x.appendBuffer(_.data),this.appendError=0,this.appended++,this.appending=!0}catch(M){w.logger.error("error while trying to append buffer:"+M.message),h.unshift(_);var C={type:H.ErrorTypes.MEDIA_ERROR,parent:_.parent,details:"",fatal:!1};22===M.code?(this.segments=[],C.details=H.ErrorDetails.BUFFER_FULL_ERROR):(this.appendError++,C.details=H.ErrorDetails.BUFFER_APPEND_ERROR,this.appendError>a.appendErrorMaxRetry&&(w.logger.log("fail "+a.appendErrorMaxRetry+" times to append segment in sourceBuffer"),this.segments=[],C.fatal=!0)),u.trigger(E.default.ERROR,C)}}}},f.flushBuffer=function(a,u,h){var m=this.sourceBuffer;if(!Object.keys(m).length)return!0;var _="null";if(this.media&&(_=this.media.currentTime.toFixed(3)),w.logger.log("flushBuffer,pos/start/end: "+_+"/"+a+"/"+u),this.flushBufferCounter>=this.appended)return w.logger.warn("abort flushing too many retries"),!0;var x=m[h];if(x){if(x.ended=!1,x.updating)return w.logger.warn("cannot flush, sb updating in progress"),!1;if(this.removeBufferRange(h,x,a,u))return this.flushBufferCounter++,!1}return w.logger.log("buffer flushed"),!0},f.removeBufferRange=function(a,u,h,m){try{for(var _=0;_<u.buffered.length;_++){var x=u.buffered.start(_),C=u.buffered.end(_),M=Math.max(x,h),T=Math.min(C,m);if(Math.min(T,C)-M>.5){var B="null";return this.media&&(B=this.media.currentTime.toString()),w.logger.log("sb remove "+a+" ["+M+","+T+"], of ["+x+","+C+"], pos:"+B),u.remove(M,T),!0}}}catch(K){w.logger.warn("removeBufferRange failed",K)}return!1},p}(N);function ri(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var lv=function(v){function p(c){var a;return(a=v.call(this,c,E.default.FPS_DROP_LEVEL_CAPPING,E.default.MEDIA_ATTACHING,E.default.MANIFEST_PARSED,E.default.LEVELS_UPDATED,E.default.BUFFER_CODECS,E.default.MEDIA_DETACHING)||this).autoLevelCapping=Number.POSITIVE_INFINITY,a.firstLevel=null,a.levels=[],a.media=null,a.restrictedLevels=[],a.timer=null,a.clientRect=null,a}!function ov(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){this.hls.config.capLevelToPlayerSize&&(this.media=null,this.clientRect=null,this.stopCapping())},f.onFpsDropLevelCapping=function(a){p.isLevelAllowed(a.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(a.droppedLevel)},f.onMediaAttaching=function(a){this.media=a.media instanceof window.HTMLVideoElement?a.media:null},f.onManifestParsed=function(a){var u=this.hls;this.restrictedLevels=[],this.levels=a.levels,this.firstLevel=a.firstLevel,u.config.capLevelToPlayerSize&&a.video&&this.startCapping()},f.onBufferCodecs=function(a){this.hls.config.capLevelToPlayerSize&&a.video&&this.startCapping()},f.onLevelsUpdated=function(a){this.levels=a.levels},f.onMediaDetaching=function(){this.stopCapping()},f.detectPlayerSize=function(){if(this.media){var a=this.levels?this.levels.length:0;if(a){var u=this.hls;u.autoLevelCapping=this.getMaxLevel(a-1),u.autoLevelCapping>this.autoLevelCapping&&u.streamController.nextLevelSwitch(),this.autoLevelCapping=u.autoLevelCapping}}},f.getMaxLevel=function(a){var u=this;if(!this.levels)return-1;var h=this.levels.filter(function(m,_){return p.isLevelAllowed(_,u.restrictedLevels)&&_<=a});return this.clientRect=null,p.getMaxLevelByMediaSize(h,this.mediaWidth,this.mediaHeight)},f.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),clearInterval(this.timer),this.timer=setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},f.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=null,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(this.timer=clearInterval(this.timer),this.timer=null)},f.getDimensions=function(){if(this.clientRect)return this.clientRect;var a=this.media,u={width:0,height:0};if(a){var h=a.getBoundingClientRect();u.width=h.width,u.height=h.height,!u.width&&!u.height&&(u.width=h.right-h.left||a.width||0,u.height=h.bottom-h.top||a.height||0)}return this.clientRect=u,u},p.isLevelAllowed=function(a,u){return void 0===u&&(u=[]),-1===u.indexOf(a)},p.getMaxLevelByMediaSize=function(a,u,h){if(!a||a&&!a.length)return-1;for(var _=a.length-1,x=0;x<a.length;x+=1){var C=a[x];if((C.width>=u||C.height>=h)&&(T=C,!(B=a[x+1])||T.width!==B.width||T.height!==B.height)){_=x;break}}var T,B;return _},function sv(v,p,f){return p&&ri(v.prototype,p),f&&ri(v,f),v}(p,[{key:"mediaWidth",get:function(){return this.getDimensions().width*p.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*p.contentScaleFactor}}],[{key:"contentScaleFactor",get:function(){var a=1;try{a=window.devicePixelRatio}catch{}return a}}]),p}(N);var cf=window.performance,vr=function(v){function p(c){return v.call(this,c,E.default.MEDIA_ATTACHING)||this}!function uf(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){this.timer&&clearInterval(this.timer),this.isVideoPlaybackQualityAvailable=!1},f.onMediaAttaching=function(a){var u=this.hls.config;u.capLevelOnFPSDrop&&("function"==typeof(this.video=a.media instanceof window.HTMLVideoElement?a.media:null).getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),clearInterval(this.timer),this.timer=setInterval(this.checkFPSInterval.bind(this),u.fpsDroppedMonitoringPeriod))},f.checkFPS=function(a,u,h){var m=cf.now();if(u){if(this.lastTime){var x=h-this.lastDroppedFrames,C=u-this.lastDecodedFrames,M=1e3*x/(m-this.lastTime),T=this.hls;if(T.trigger(E.default.FPS_DROP,{currentDropped:x,currentDecoded:C,totalDroppedFrames:h}),M>0&&x>T.config.fpsDroppedMonitoringThreshold*C){var B=T.currentLevel;w.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+B),B>0&&(-1===T.autoLevelCapping||T.autoLevelCapping>=B)&&(T.trigger(E.default.FPS_DROP_LEVEL_CAPPING,{level:B-=1,droppedLevel:T.currentLevel}),T.autoLevelCapping=B,T.streamController.nextLevelSwitch())}}this.lastTime=m,this.lastDroppedFrames=h,this.lastDecodedFrames=u}},f.checkFPSInterval=function(){var a=this.video;if(a)if(this.isVideoPlaybackQualityAvailable){var u=a.getVideoPlaybackQuality();this.checkFPS(a,u.totalVideoFrames,u.droppedVideoFrames)}else this.checkFPS(a,a.webkitDecodedFrameCount,a.webkitDroppedFrameCount)},p}(N),dv=function(){function v(f){f&&f.xhrSetup&&(this.xhrSetup=f.xhrSetup)}var p=v.prototype;return p.destroy=function(){this.abort(),this.loader=null},p.abort=function(){var c=this.loader;c&&4!==c.readyState&&(this.stats.aborted=!0,c.abort()),window.clearTimeout(this.requestTimeout),this.requestTimeout=null,window.clearTimeout(this.retryTimeout),this.retryTimeout=null},p.load=function(c,a,u){this.context=c,this.config=a,this.callbacks=u,this.stats={trequest:window.performance.now(),retry:0},this.retryDelay=a.retryDelay,this.loadInternal()},p.loadInternal=function(){var c,a=this.context;c=this.loader=new window.XMLHttpRequest;var u=this.stats;u.tfirst=0,u.loaded=0;var h=this.xhrSetup;try{if(h)try{h(c,a.url)}catch{c.open("GET",a.url,!0),h(c,a.url)}c.readyState||c.open("GET",a.url,!0)}catch(m){return void this.callbacks.onError({code:c.status,text:m.message},a,c)}a.rangeEnd&&c.setRequestHeader("Range","bytes="+a.rangeStart+"-"+(a.rangeEnd-1)),c.onreadystatechange=this.readystatechange.bind(this),c.onprogress=this.loadprogress.bind(this),c.responseType=a.responseType,this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),this.config.timeout),c.send()},p.readystatechange=function(c){var a=c.currentTarget,u=a.readyState,h=this.stats,m=this.context,_=this.config;if(!h.aborted&&u>=2)if(window.clearTimeout(this.requestTimeout),0===h.tfirst&&(h.tfirst=Math.max(window.performance.now(),h.trequest)),4===u){var C,M,x=a.status;x>=200&&x<300?(h.tload=Math.max(h.tfirst,window.performance.now()),M="arraybuffer"===m.responseType?(C=a.response).byteLength:(C=a.responseText).length,h.loaded=h.total=M,this.callbacks.onSuccess({url:a.responseURL,data:C},h,m,a)):h.retry>=_.maxRetry||x>=400&&x<499?(w.logger.error(x+" while loading "+m.url),this.callbacks.onError({code:x,text:a.statusText},m,a)):(w.logger.warn(x+" while loading "+m.url+", retrying in "+this.retryDelay+"..."),this.destroy(),this.retryTimeout=window.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,_.maxRetryDelay),h.retry++)}else this.requestTimeout=window.setTimeout(this.loadtimeout.bind(this),_.timeout)},p.loadtimeout=function(){w.logger.warn("timeout while loading "+this.context.url),this.callbacks.onTimeout(this.stats,this.context,null)},p.loadprogress=function(c){var a=c.currentTarget,u=this.stats;u.loaded=c.loaded,c.lengthComputable&&(u.total=c.total);var h=this.callbacks.onProgress;h&&h(u,this.context,null,a)},v}();function df(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var pt=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MANIFEST_LOADING,E.default.MANIFEST_PARSED,E.default.AUDIO_TRACK_LOADED,E.default.AUDIO_TRACK_SWITCHED,E.default.LEVEL_LOADED,E.default.ERROR)||this)._trackId=-1,a._selectDefaultTrack=!0,a.tracks=[],a.trackIdBlacklist=Object.create(null),a.audioGroupId=null,a}!function _e(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.onManifestLoading=function(){this.tracks=[],this._trackId=-1,this._selectDefaultTrack=!0},f.onManifestParsed=function(a){var u=this.tracks=a.audioTracks||[];this.hls.trigger(E.default.AUDIO_TRACKS_UPDATED,{audioTracks:u}),this._selectAudioGroup(this.hls.nextLoadLevel)},f.onAudioTrackLoaded=function(a){a.id>=this.tracks.length?w.logger.warn("Invalid audio track id:",a.id):(w.logger.log("audioTrack "+a.id+" loaded"),this.tracks[a.id].details=a.details,a.details.live&&!this.hasInterval()&&this.setInterval(1e3*a.details.targetduration),!a.details.live&&this.hasInterval()&&this.clearInterval())},f.onAudioTrackSwitched=function(a){var u=this.tracks[a.id].groupId;u&&this.audioGroupId!==u&&(this.audioGroupId=u)},f.onLevelLoaded=function(a){this._selectAudioGroup(a.level)},f.onError=function(a){a.type===H.ErrorTypes.NETWORK_ERROR&&(a.fatal&&this.clearInterval(),a.details===H.ErrorDetails.AUDIO_TRACK_LOAD_ERROR&&(w.logger.warn("Network failure on audio-track id:",a.context.id),this._handleLoadError()))},f._setAudioTrack=function(a){if(this._trackId===a&&this.tracks[this._trackId].details)w.logger.debug("Same id as current audio-track passed, and track details available -> no-op");else if(a<0||a>=this.tracks.length)w.logger.warn("Invalid id passed to audio-track controller");else{var u=this.tracks[a];w.logger.log("Now switching to audio-track index "+a),this.clearInterval(),this._trackId=a,this.hls.trigger(E.default.AUDIO_TRACK_SWITCHING,{id:u.id,type:u.type,url:u.url}),this._loadTrackDetailsIfNeeded(u)}},f.doTick=function(){this._updateTrack(this._trackId)},f._selectAudioGroup=function(a){var u=this.hls.levels[a];if(u&&u.audioGroupIds){var h=u.audioGroupIds[u.urlId];this.audioGroupId!==h&&(this.audioGroupId=h,this._selectInitialAudioTrack())}},f._selectInitialAudioTrack=function(){var a=this,u=this.tracks;if(u.length){var h=this.tracks[this._trackId],m=null;if(h&&(m=h.name),this._selectDefaultTrack){var _=u.filter(function(M){return M.default});_.length?u=_:w.logger.warn("No default audio tracks defined")}var x=!1,C=function(){u.forEach(function(T){x||(!a.audioGroupId||T.groupId===a.audioGroupId)&&(!m||m===T.name)&&(a._setAudioTrack(T.id),x=!0)})};C(),x||(m=null,C()),x||(w.logger.error("No track found for running audio group-ID: "+this.audioGroupId),this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:H.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))}},f._needsTrackLoading=function(a){var u=a.details;return!(u&&!u.live||!a.url)},f._loadTrackDetailsIfNeeded=function(a){if(this._needsTrackLoading(a)){var u=a.url,h=a.id;w.logger.log("loading audio-track playlist for id: "+h),this.hls.trigger(E.default.AUDIO_TRACK_LOADING,{url:u,id:h})}},f._updateTrack=function(a){a<0||a>=this.tracks.length||(this.clearInterval(),this._trackId=a,w.logger.log("trying to update audio-track "+a),this._loadTrackDetailsIfNeeded(this.tracks[a]))},f._handleLoadError=function(){this.trackIdBlacklist[this._trackId]=!0;var a=this._trackId,u=this.tracks[a],h=u.name,m=u.language;w.logger.warn("Loading failed on audio track id: "+a+", group-id: "+u.groupId+', name/language: "'+h+'" / "'+m+'"');for(var x=a,C=0;C<this.tracks.length;C++)if(!this.trackIdBlacklist[C]&&this.tracks[C].name===h){x=C;break}x!==a?(w.logger.log("Attempting audio-track fallback id:",x,"group-id:",this.tracks[x].groupId),this._setAudioTrack(x)):w.logger.warn('No fallback audio-track found for name/language: "'+h+'" / "'+m+'"')},function fv(v,p,f){return p&&df(v.prototype,p),f&&df(v,f),v}(p,[{key:"audioTracks",get:function(){return this.tracks}},{key:"audioTrack",get:function(){return this._trackId},set:function(a){this._setAudioTrack(a),this._selectDefaultTrack=!1}}]),p}($r);function to(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var no=window.performance,Za=function(v){function p(c,a){var u;return(u=v.call(this,c,E.default.MEDIA_ATTACHED,E.default.MEDIA_DETACHING,E.default.AUDIO_TRACKS_UPDATED,E.default.AUDIO_TRACK_SWITCHING,E.default.AUDIO_TRACK_LOADED,E.default.KEY_LOADED,E.default.FRAG_LOADED,E.default.FRAG_PARSING_INIT_SEGMENT,E.default.FRAG_PARSING_DATA,E.default.FRAG_PARSED,E.default.ERROR,E.default.BUFFER_RESET,E.default.BUFFER_CREATED,E.default.BUFFER_APPENDED,E.default.BUFFER_FLUSHED,E.default.INIT_PTS_FOUND)||this).fragmentTracker=a,u.config=c.config,u.audioCodecSwap=!1,u._state=Q_STOPPED,u.initPTS=[],u.waitingFragment=null,u.videoTrackCC=null,u.waitingVideoCC=null,u}!function Fu(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.onInitPtsFound=function(a){var h=a.frag.cc,m=a.initPTS;"main"===a.id&&(this.initPTS[h]=m,this.videoTrackCC=h,w.logger.log("InitPTS for cc: "+h+" found from main: "+m),this.state===Q_WAITING_INIT_PTS&&this.tick())},f.startLoad=function(a){if(this.tracks){var u=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,u>0&&-1===a?(w.logger.log("audio:override startPosition with lastCurrentTime @"+u.toFixed(3)),this.state=Q_IDLE):(this.lastCurrentTime=this.startPosition?this.startPosition:a,this.state=Q_STARTING),this.nextLoadPosition=this.startPosition=this.lastCurrentTime,this.tick()}else this.startPosition=a,this.state=Q_STOPPED},f.doTick=function(){var a,u,h,m=this.hls,_=m.config;switch(this.state){case Q_ERROR:case Q_PAUSED:case Q_BUFFER_FLUSHING:break;case Q_STARTING:this.state=Q_WAITING_TRACK,this.loadedmetadata=!1;break;case Q_IDLE:var x=this.tracks;if(!x||!this.media&&(this.startFragRequested||!_.startFragPrefetch))break;if(this.loadedmetadata)a=this.media.currentTime;else if(void 0===(a=this.nextLoadPosition))break;var C=this.mediaBuffer?this.mediaBuffer:this.media,M=this.videoBuffer?this.videoBuffer:this.media,T=a<_.maxBufferHole?Math.max(2,_.maxBufferHole):_.maxBufferHole,B=I.bufferInfo(C,a,T),K=I.bufferInfo(M,a,T),le=B.len,me=B.end,ke=this.fragPrevious,De=Math.min(_.maxBufferLength,_.maxMaxBufferLength),Ve=Math.max(De,K.len),Qe=this.audioSwitch,bt=this.trackId;if((le<Ve||Qe)&&bt<x.length){if(typeof(h=x[bt].details)>"u"){this.state=Q_WAITING_TRACK;break}if(!Qe&&this._streamEnded(B,h))return this.hls.trigger(E.default.BUFFER_EOS,{type:"audio"}),void(this.state=Q_ENDED);var Ne,ln=h.fragments,dr=ln.length,zn=ln[0].start,qr=ln[dr-1].start+ln[dr-1].duration;if(Qe)if(h.live&&!h.PTSKnown)w.logger.log("switching audiotrack, live stream, unknown PTS,load first fragment"),me=0;else if(me=a,h.PTSKnown&&a<zn){if(!(B.end>zn||B.nextStart))return;w.logger.log("alt audio track ahead of main track, seek to start of alt audio track"),this.media.currentTime=zn+.05}if(h.initSegment&&!h.initSegment.data)Ne=h.initSegment;else if(me<=zn){if(Ne=ln[0],null!==this.videoTrackCC&&Ne.cc!==this.videoTrackCC&&(Ne=function wt(v,p){return ws_search(v,function(f){return f.cc<p?1:f.cc>p?-1:0})}(ln,this.videoTrackCC)),h.live&&Ne.loadIdx&&Ne.loadIdx===this.fragLoadIdx){var Ke=B.nextStart?B.nextStart:zn;return w.logger.log("no alt audio available @currentTime:"+this.media.currentTime+", seeking @"+(Ke+.05)),void(this.media.currentTime=Ke+.05)}}else{var hn,Os=_.maxFragLookUpTolerance,Pi=ke?ln[ke.sn-ln[0].sn+1]:void 0;me<qr?(me>qr-Os&&(Os=0),hn=Pi&&!Nn(me,Os,Pi)?Pi:ws_search(ln,function(xf){return Nn(me,Os,xf)})):hn=ln[dr-1],hn&&(Ne=hn,zn=hn.start,ke&&Ne.level===ke.level&&Ne.sn===ke.sn&&(Ne.sn<h.endSN?this.fragmentTracker.getState(Ne=ln[Ne.sn+1-h.startSN])!==Xt_OK&&w.logger.log("SN just loaded, load next one: "+Ne.sn):Ne=null))}Ne&&(Ne.encrypted?(w.logger.log("Loading key for "+Ne.sn+" of ["+h.startSN+" ,"+h.endSN+"],track "+bt),this.state=Q_KEY_LOADING,m.trigger(E.default.KEY_LOADING,{frag:Ne})):(this.fragCurrent=Ne,(Qe||this.fragmentTracker.getState(Ne)===Xt_NOT_LOADED)&&(w.logger.log("Loading "+Ne.sn+", cc: "+Ne.cc+" of ["+h.startSN+" ,"+h.endSN+"],track "+bt+", "+(this.loadedmetadata?"currentTime":"nextLoadPosition")+": "+a+", bufferEnd: "+me.toFixed(3)),"initSegment"!==Ne.sn&&(this.startFragRequested=!0),Object(be.isFiniteNumber)(Ne.sn)&&(this.nextLoadPosition=Ne.start+Ne.duration),m.trigger(E.default.FRAG_LOADING,{frag:Ne}),this.state=Q_FRAG_LOADING)))}break;case Q_WAITING_TRACK:(u=this.tracks[this.trackId])&&u.details&&(this.state=Q_IDLE);break;case Q_FRAG_LOADING_WAITING_RETRY:var so=no.now(),ul=this.retryDate;C=this.media,(!ul||so>=ul||C&&C.seeking)&&(w.logger.log("audioStreamController: retryDate reached, switch back to IDLE state"),this.state=Q_IDLE);break;case Q_WAITING_INIT_PTS:var oo=this.waitingFragment;if(oo){var Bu=oo.frag.cc;if(void 0!==this.initPTS[Bu])this.waitingFragment=null,this.state=Q_FRAG_LOADING,this.onFragLoaded(oo);else if(this.videoTrackCC!==this.waitingVideoCC)w.logger.log("Waiting fragment cc ("+Bu+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var ao=I.bufferInfo(this.mediaBuffer,this.media.currentTime,_.maxBufferHole);Nn(ao.end,_.maxFragLookUpTolerance,oo.frag)<0&&(w.logger.log("Waiting fragment cc ("+Bu+") @ "+oo.frag.start+" cancelled because another fragment at "+ao.end+" is needed"),this.clearWaitingFragment())}}else this.state=Q_IDLE}},f.clearWaitingFragment=function(){var a=this.waitingFragment;a&&(this.fragmentTracker.removeFragment(a.frag),this.waitingFragment=null,this.waitingVideoCC=null,this.state=Q_IDLE)},f.onMediaAttached=function(a){var u=this.media=this.mediaBuffer=a.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),u.addEventListener("seeking",this.onvseeking),u.addEventListener("ended",this.onvended);var h=this.config;this.tracks&&h.autoStartLoad&&this.startLoad(h.startPosition)},f.onMediaDetaching=function(){var a=this.media;a&&a.ended&&(w.logger.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),a&&(a.removeEventListener("seeking",this.onvseeking),a.removeEventListener("ended",this.onvended),this.onvseeking=this.onvseeked=this.onvended=null),this.media=this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},f.onAudioTracksUpdated=function(a){w.logger.log("audio tracks updated"),this.tracks=a.audioTracks},f.onAudioTrackSwitching=function(a){var u=!!a.url;this.trackId=a.id,this.fragCurrent=null,this.clearWaitingFragment(),this.state=Q_PAUSED,u?this.setInterval(100):this.demuxer&&(this.demuxer.destroy(),this.demuxer=null),u&&(this.audioSwitch=!0,this.state=Q_IDLE),this.tick()},f.onAudioTrackLoaded=function(a){var u=a.details,h=a.id,m=this.tracks[h],_=m.details,C=0;if(w.logger.log("track "+h+" loaded ["+u.startSN+","+u.endSN+"],duration:"+u.totalduration),u.live||_&&_.live?_&&u.fragments.length>0?(Ae(_,u),C=u.fragments[0].start,w.logger.log(u.PTSKnown?"live audio playlist sliding:"+C.toFixed(3):"live audio playlist - outdated PTS, unknown sliding")):(u.PTSKnown=!1,w.logger.log("live audio playlist - first load, unknown sliding")):u.PTSKnown=!1,m.details=u,!this.startFragRequested){if(-1===this.startPosition){var M=u.startTimeOffset;Object(be.isFiniteNumber)(M)?(w.logger.log("start time offset found in playlist, adjust startPosition to "+M),this.startPosition=M):u.live?(this.startPosition=this.computeLivePosition(C,u),w.logger.log("compute startPosition for audio-track to "+this.startPosition)):this.startPosition=0}this.nextLoadPosition=this.startPosition}this.state===Q_WAITING_TRACK&&(this.state=Q_IDLE),this.tick()},f.onKeyLoaded=function(){this.state===Q_KEY_LOADING&&(this.state=Q_IDLE,this.tick())},f.onFragLoaded=function(a){var u=this.fragCurrent,h=a.frag;if(this.state===Q_FRAG_LOADING&&u&&"audio"===h.type&&h.level===u.level&&h.sn===u.sn){var m=this.tracks[this.trackId],_=m.details,x=_.totalduration,C=u.level,M=u.sn,T=u.cc,B=this.config.defaultAudioCodec||m.audioCodec||"mp4a.40.2",K=this.stats=a.stats;if("initSegment"===M)this.state=Q_IDLE,K.tparsed=K.tbuffered=no.now(),_.initSegment.data=a.payload,this.hls.trigger(E.default.FRAG_BUFFERED,{stats:K,frag:u,id:"audio"}),this.tick();else{this.state=Q_PARSING,this.appended=!1,this.demuxer||(this.demuxer=new ie(this.hls,"audio"));var le=this.initPTS[T],me=_.initSegment?_.initSegment.data:[];void 0!==le?(this.pendingBuffering=!0,w.logger.log("Demuxing "+M+" of ["+_.startSN+" ,"+_.endSN+"],track "+C),this.demuxer.push(a.payload,me,B,null,u,x,!1,le)):(w.logger.log("Unknown video PTS for cc "+T+", waiting for video PTS before demuxing audio frag "+M+" of ["+_.startSN+" ,"+_.endSN+"],track "+C),this.waitingFragment=a,this.waitingVideoCC=this.videoTrackCC,this.state=Q_WAITING_INIT_PTS)}}this.fragLoadError=0},f.onFragParsingInitSegment=function(a){var u=this.fragCurrent,h=a.frag;if(u&&"audio"===a.id&&h.sn===u.sn&&h.level===u.level&&this.state===Q_PARSING){var _,m=a.tracks;if(m.video&&delete m.video,_=m.audio){_.levelCodec=_.codec,_.id=a.id,this.hls.trigger(E.default.BUFFER_CODECS,m),w.logger.log("audio track:audio,container:"+_.container+",codecs[level/parsed]=["+_.levelCodec+"/"+_.codec+"]");var x=_.initSegment;if(x){var C={type:"audio",data:x,parent:"audio",content:"initSegment"};this.audioSwitch?this.pendingData=[C]:(this.appended=!0,this.pendingBuffering=!0,this.hls.trigger(E.default.BUFFER_APPENDING,C))}this.tick()}}},f.onFragParsingData=function(a){var u=this,h=this.fragCurrent,m=a.frag;if(h&&"audio"===a.id&&"audio"===a.type&&m.sn===h.sn&&m.level===h.level&&this.state===Q_PARSING){var _=this.trackId,x=this.tracks[_],C=this.hls;Object(be.isFiniteNumber)(a.endPTS)||(a.endPTS=a.startPTS+h.duration,a.endDTS=a.startDTS+h.duration),h.addElementaryStream(he.AUDIO),w.logger.log("parsed "+a.type+",PTS:["+a.startPTS.toFixed(3)+","+a.endPTS.toFixed(3)+"],DTS:["+a.startDTS.toFixed(3)+"/"+a.endDTS.toFixed(3)+"],nb:"+a.nb),ye(x.details,h,a.startPTS,a.endPTS);var M=this.media,T=!1;if(this.audioSwitch)if(M&&M.readyState){var B=M.currentTime;w.logger.log("switching audio track : currentTime:"+B),B>=a.startPTS&&(w.logger.log("switching audio track : flushing all audio"),this.state=Q_BUFFER_FLUSHING,C.trigger(E.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),T=!0,this.audioSwitch=!1,C.trigger(E.default.AUDIO_TRACK_SWITCHED,{id:_}))}else this.audioSwitch=!1,C.trigger(E.default.AUDIO_TRACK_SWITCHED,{id:_});var K=this.pendingData;if(!K)return w.logger.warn("Apparently attempt to enqueue media payload without codec initialization data upfront"),void C.trigger(E.default.ERROR,{type:H.ErrorTypes.MEDIA_ERROR,details:null,fatal:!0});this.audioSwitch||([a.data1,a.data2].forEach(function(le){le&&le.length&&K.push({type:a.type,data:le,parent:"audio",content:"data"})}),!T&&K.length&&(K.forEach(function(le){u.state===Q_PARSING&&(u.pendingBuffering=!0,u.hls.trigger(E.default.BUFFER_APPENDING,le))}),this.pendingData=[],this.appended=!0)),this.tick()}},f.onFragParsed=function(a){var u=this.fragCurrent,h=a.frag;u&&"audio"===a.id&&h.sn===u.sn&&h.level===u.level&&this.state===Q_PARSING&&(this.stats.tparsed=no.now(),this.state=Q_PARSED,this._checkAppendedParsed())},f.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},f.onBufferCreated=function(a){var u=a.tracks.audio;u&&(this.mediaBuffer=u.buffer,this.loadedmetadata=!0),a.tracks.video&&(this.videoBuffer=a.tracks.video.buffer)},f.onBufferAppended=function(a){if("audio"===a.parent){var u=this.state;(u===Q_PARSING||u===Q_PARSED)&&(this.pendingBuffering=a.pending>0,this._checkAppendedParsed())}},f._checkAppendedParsed=function(){if(!(this.state!==Q_PARSED||this.appended&&this.pendingBuffering)){var a=this.fragCurrent,u=this.stats,h=this.hls;if(a){this.fragPrevious=a,u.tbuffered=no.now(),h.trigger(E.default.FRAG_BUFFERED,{stats:u,frag:a,id:"audio"});var m=this.mediaBuffer?this.mediaBuffer:this.media;m&&w.logger.log("audio buffered : "+rt_toString(m.buffered)),this.audioSwitch&&this.appended&&(this.audioSwitch=!1,h.trigger(E.default.AUDIO_TRACK_SWITCHED,{id:this.trackId})),this.state=Q_IDLE}this.tick()}},f.onError=function(a){var u=a.frag;if(!u||"audio"===u.type)switch(a.details){case H.ErrorDetails.FRAG_LOAD_ERROR:case H.ErrorDetails.FRAG_LOAD_TIMEOUT:var h=a.frag;if(h&&"audio"!==h.type)break;if(!a.fatal){var m=this.fragLoadError;m?m++:m=1;var _=this.config;if(m<=_.fragLoadingMaxRetry){this.fragLoadError=m;var x=Math.min(Math.pow(2,m-1)*_.fragLoadingRetryDelay,_.fragLoadingMaxRetryTimeout);w.logger.warn("AudioStreamController: frag loading failed, retry in "+x+" ms"),this.retryDate=no.now()+x,this.state=Q_FRAG_LOADING_WAITING_RETRY}else w.logger.error("AudioStreamController: "+a.details+" reaches max retry, redispatch as fatal ..."),a.fatal=!0,this.state=Q_ERROR}break;case H.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case H.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:case H.ErrorDetails.KEY_LOAD_ERROR:case H.ErrorDetails.KEY_LOAD_TIMEOUT:this.state!==Q_ERROR&&(this.state=a.fatal?Q_ERROR:Q_IDLE,w.logger.warn("AudioStreamController: "+a.details+" while loading frag, now switching to "+this.state+" state ..."));break;case H.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===a.parent&&(this.state===Q_PARSING||this.state===Q_PARSED)){var C=this.mediaBuffer,M=this.media.currentTime;if(C&&I.isBuffered(C,M)&&I.isBuffered(C,M+.5)){var B=this.config;B.maxMaxBufferLength>=B.maxBufferLength&&(B.maxMaxBufferLength/=2,w.logger.warn("AudioStreamController: reduce max buffer length to "+B.maxMaxBufferLength+"s")),this.state=Q_IDLE}else w.logger.warn("AudioStreamController: buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,this.state=Q_BUFFER_FLUSHING,this.hls.trigger(E.default.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"})}}},f.onBufferFlushed=function(){var a=this,u=this.pendingData;u&&u.length?(w.logger.log("AudioStreamController: appending pending audio data after buffer flushed"),u.forEach(function(h){a.hls.trigger(E.default.BUFFER_APPENDING,h)}),this.appended=!0,this.pendingData=[],this.state=Q_PARSED):(this.state=Q_IDLE,this.fragPrevious=null,this.tick())},function ff(v,p,f){return p&&to(v.prototype,p),f&&to(v,f),v}(p,[{key:"state",set:function(a){if(this.state!==a){var u=this.state;this._state=a,w.logger.log("audio stream:"+u+"->"+a)}},get:function(){return this._state}}]),p}(ni),Ja=function(){if(typeof window<"u"&&window.VTTCue)return window.VTTCue;var p={"":!0,lr:!0,rl:!0},f={start:!0,middle:!0,end:!0,left:!0,right:!0};function a(m){return"string"==typeof m&&!!f[m.toLowerCase()]&&m.toLowerCase()}function u(m){for(var _=1;_<arguments.length;_++){var x=arguments[_];for(var C in x)m[C]=x[C]}return m}function h(m,_,x){var C=this,M={enumerable:!0};C.hasBeenReset=!1;var T="",B=!1,K=m,le=_,me=x,ke=null,De="",Ve=!0,Qe="auto",bt="start",ln=50,dr="middle",zn=50,qr="middle";Object.defineProperty(C,"id",u({},M,{get:function(){return T},set:function(Ke){T=""+Ke}})),Object.defineProperty(C,"pauseOnExit",u({},M,{get:function(){return B},set:function(Ke){B=!!Ke}})),Object.defineProperty(C,"startTime",u({},M,{get:function(){return K},set:function(Ke){if("number"!=typeof Ke)throw new TypeError("Start time must be set to a number.");K=Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"endTime",u({},M,{get:function(){return le},set:function(Ke){if("number"!=typeof Ke)throw new TypeError("End time must be set to a number.");le=Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"text",u({},M,{get:function(){return me},set:function(Ke){me=""+Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"region",u({},M,{get:function(){return ke},set:function(Ke){ke=Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"vertical",u({},M,{get:function(){return De},set:function(Ke){var hn=function c(m){return"string"==typeof m&&!!p[m.toLowerCase()]&&m.toLowerCase()}(Ke);if(!1===hn)throw new SyntaxError("An invalid or illegal string was specified.");De=hn,this.hasBeenReset=!0}})),Object.defineProperty(C,"snapToLines",u({},M,{get:function(){return Ve},set:function(Ke){Ve=!!Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"line",u({},M,{get:function(){return Qe},set:function(Ke){if("number"!=typeof Ke&&"auto"!==Ke)throw new SyntaxError("An invalid number or illegal string was specified.");Qe=Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"lineAlign",u({},M,{get:function(){return bt},set:function(Ke){var hn=a(Ke);if(!hn)throw new SyntaxError("An invalid or illegal string was specified.");bt=hn,this.hasBeenReset=!0}})),Object.defineProperty(C,"position",u({},M,{get:function(){return ln},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Position must be between 0 and 100.");ln=Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"positionAlign",u({},M,{get:function(){return dr},set:function(Ke){var hn=a(Ke);if(!hn)throw new SyntaxError("An invalid or illegal string was specified.");dr=hn,this.hasBeenReset=!0}})),Object.defineProperty(C,"size",u({},M,{get:function(){return zn},set:function(Ke){if(Ke<0||Ke>100)throw new Error("Size must be between 0 and 100.");zn=Ke,this.hasBeenReset=!0}})),Object.defineProperty(C,"align",u({},M,{get:function(){return qr},set:function(Ke){var hn=a(Ke);if(!hn)throw new SyntaxError("An invalid or illegal string was specified.");qr=hn,this.hasBeenReset=!0}})),C.displayState=void 0}return h.prototype.getCueAsHTML=function(){return window.WebVTT.convertCueToDOMTree(window,this.text)},h}(),gf=function(){return{decode:function(f){if(!f)return"";if("string"!=typeof f)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(f))}}};function We(){this.window=window,this.state="INITIAL",this.buffer="",this.decoder=new gf,this.regionList=[]}function ku(){this.values=Object.create(null)}function yr(v,p,f,c){var a=c?v.split(c):[v];for(var u in a)if("string"==typeof a[u]){var h=a[u].split(f);2===h.length&&p(h[0],h[1])}}ku.prototype={set:function(p,f){!this.get(p)&&""!==f&&(this.values[p]=f)},get:function(p,f,c){return c?this.has(p)?this.values[p]:f[c]:this.has(p)?this.values[p]:f},has:function(p){return p in this.values},alt:function(p,f,c){for(var a=0;a<c.length;++a)if(f===c[a]){this.set(p,f);break}},integer:function(p,f){/^-?\d+$/.test(f)&&this.set(p,parseInt(f,10))},percent:function(p,f){return!!(f.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(f=parseFloat(f),f>=0&&f<=100))&&(this.set(p,f),!0)}};var Go=new Ja(0,0,0),tl="middle"===Go.align?"middle":"center";function Ii(v,p,f){var c=v;function a(){var m=function el(v){function p(c,a,u,h){return 3600*(0|c)+60*(0|a)+(0|u)+(0|h)/1e3}var f=v.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return f?f[3]?p(f[1],f[2],f[3].replace(":",""),f[4]):f[1]>59?p(f[1],f[2],0,f[4]):p(0,f[1],f[2],f[4]):null}(v);if(null===m)throw new Error("Malformed timestamp: "+c);return v=v.replace(/^[^\sa-zA-Z-]+/,""),m}function h(){v=v.replace(/^\s+/,"")}if(h(),p.startTime=a(),h(),"--\x3e"!==v.substr(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+c);v=v.substr(3),h(),p.endTime=a(),h(),function u(m,_){var x=new ku;yr(m,function(T,B){switch(T){case"region":for(var K=f.length-1;K>=0;K--)if(f[K].id===B){x.set(T,f[K].region);break}break;case"vertical":x.alt(T,B,["rl","lr"]);break;case"line":var le=B.split(","),me=le[0];x.integer(T,me),x.percent(T,me)&&x.set("snapToLines",!1),x.alt(T,me,["auto"]),2===le.length&&x.alt("lineAlign",le[1],["start",tl,"end"]);break;case"position":le=B.split(","),x.percent(T,le[0]),2===le.length&&x.alt("positionAlign",le[1],["start",tl,"end","line-left","line-right","auto"]);break;case"size":x.percent(T,B);break;case"align":x.alt(T,B,["start",tl,"end","left","right"])}},/:/,/\s/),_.region=x.get("region",null),_.vertical=x.get("vertical","");var C=x.get("line","auto");"auto"===C&&-1===Go.line&&(C=-1),_.line=C,_.lineAlign=x.get("lineAlign","start"),_.snapToLines=x.get("snapToLines",!0),_.size=x.get("size",100),_.align=x.get("align",tl);var M=x.get("position","auto");"auto"===M&&50===Go.position&&(M="start"===_.align||"left"===_.align?0:"end"===_.align||"right"===_.align?100:50),_.position=M}(v,p)}function Mr(v){return v.replace(/<br(?: \/)?>/gi,"\n")}We.prototype={parse:function(p){var f=this;function c(){var x=f.buffer,C=0;for(x=Mr(x);C<x.length&&"\r"!==x[C]&&"\n"!==x[C];)++C;var M=x.substr(0,C);return"\r"===x[C]&&++C,"\n"===x[C]&&++C,f.buffer=x.substr(C),M}p&&(f.buffer+=f.decoder.decode(p,{stream:!0}));try{var u;if("INITIAL"===f.state){if(!/\r\n|\n/.test(f.buffer))return this;var h=(u=c()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!h||!h[0])throw new Error("Malformed WebVTT signature.");f.state="HEADER"}for(var m=!1;f.buffer;){if(!/\r\n|\n/.test(f.buffer))return this;switch(m?m=!1:u=c(),f.state){case"HEADER":/:/.test(u)?yr(u,function(C,M){},/:/):u||(f.state="ID");continue;case"NOTE":u||(f.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(u)){f.state="NOTE";break}if(!u)continue;if(f.cue=new Ja(0,0,""),f.state="CUE",-1===u.indexOf("--\x3e")){f.cue.id=u;continue}case"CUE":try{Ii(u,f.cue,f.regionList)}catch{f.cue=null,f.state="BADCUE";continue}f.state="CUETEXT";continue;case"CUETEXT":var _=-1!==u.indexOf("--\x3e");if(!u||_&&(m=!0)){f.oncue&&f.oncue(f.cue),f.cue=null,f.state="ID";continue}f.cue.text&&(f.cue.text+="\n"),f.cue.text+=u;continue;case"BADCUE":u||(f.state="ID");continue}}}catch{"CUETEXT"===f.state&&f.cue&&f.oncue&&f.oncue(f.cue),f.cue=null,f.state="INITIAL"===f.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var p=this;try{if(p.buffer+=p.decoder.decode(),(p.cue||"HEADER"===p.state)&&(p.buffer+="\n\n",p.parse()),"INITIAL"===p.state)throw new Error("Malformed WebVTT signature.")}catch(f){throw f}return p.onflush&&p.onflush(),this}};var gv=We;function pv(v,p,f,c){for(var u,h,m,_,x,a=[],C=window.VTTCue||TextTrackCue,M=0;M<c.rows.length;M++)if(m=!0,_=0,x="",!(u=c.rows[M]).isEmpty()){for(var T=0;T<u.chars.length;T++)u.chars[T].uchar.match(/\s/)&&m?_++:(x+=u.chars[T].uchar,m=!1);u.cueStartTime=p,p===f&&(f+=1e-4),_>=16?_--:_++,(h=new C(p,f,Mr(x.trim()))).line=navigator.userAgent.match(/Firefox\//)?M+1:M>7?M-2:M+1,h.align="left",h.position=Math.max(0,Math.min(100,_/32*100)),a.push(h),v&&v.addCue(h)}return a}var Wr={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},zt=function(p){var f=p;return Wr.hasOwnProperty(p)&&(f=Wr[p]),String.fromCharCode(f)},Ri=100,Ts={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},Lt={17:2,18:4,21:6,22:8,23:10,19:13,20:15},Ho={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},nl={25:2,26:4,29:6,30:8,31:10,27:13,28:15},rl=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],dt=(()=>{return(v=dt||(dt={}))[v.ERROR=0]="ERROR",v[v.TEXT=1]="TEXT",v[v.WARNING=2]="WARNING",v[v.INFO=2]="INFO",v[v.DEBUG=3]="DEBUG",v[v.DATA=3]="DATA",dt;var v})(),fi=function(){function v(){this.time=null,this.verboseLevel=dt.ERROR}return v.prototype.log=function(c,a){this.verboseLevel>=c&&w.logger.log(this.time+" ["+c+"] "+a)},v}(),Kr=function(p){for(var f=[],c=0;c<p.length;c++)f.push(p[c].toString(16));return f},Ou=function(){function v(f,c,a,u,h){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=f||"white",this.underline=c||!1,this.italics=a||!1,this.background=u||"black",this.flash=h||!1}var p=v.prototype;return p.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},p.setStyles=function(c){for(var a=["foreground","underline","italics","background","flash"],u=0;u<a.length;u++){var h=a[u];c.hasOwnProperty(h)&&(this[h]=c[h])}},p.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},p.equals=function(c){return this.foreground===c.foreground&&this.underline===c.underline&&this.italics===c.italics&&this.background===c.background&&this.flash===c.flash},p.copy=function(c){this.foreground=c.foreground,this.underline=c.underline,this.italics=c.italics,this.background=c.background,this.flash=c.flash},p.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},v}(),xn=function(){function v(f,c,a,u,h,m){this.uchar=void 0,this.penState=void 0,this.uchar=f||" ",this.penState=new Ou(c,a,u,h,m)}var p=v.prototype;return p.reset=function(){this.uchar=" ",this.penState.reset()},p.setChar=function(c,a){this.uchar=c,this.penState.copy(a)},p.setPenState=function(c){this.penState.copy(c)},p.equals=function(c){return this.uchar===c.uchar&&this.penState.equals(c.penState)},p.copy=function(c){this.uchar=c.uchar,this.penState.copy(c.penState)},p.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},v}(),pf=function(){function v(f){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var c=0;c<Ri;c++)this.chars.push(new xn);this.logger=f,this.pos=0,this.currPenState=new Ou}var p=v.prototype;return p.equals=function(c){for(var a=!0,u=0;u<Ri;u++)if(!this.chars[u].equals(c.chars[u])){a=!1;break}return a},p.copy=function(c){for(var a=0;a<Ri;a++)this.chars[a].copy(c.chars[a])},p.isEmpty=function(){for(var c=!0,a=0;a<Ri;a++)if(!this.chars[a].isEmpty()){c=!1;break}return c},p.setCursor=function(c){this.pos!==c&&(this.pos=c),this.pos<0?(this.logger.log(dt.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ri&&(this.logger.log(dt.DEBUG,"Too large cursor position "+this.pos),this.pos=Ri)},p.moveCursor=function(c){var a=this.pos+c;if(c>1)for(var u=this.pos+1;u<a+1;u++)this.chars[u].setPenState(this.currPenState);this.setCursor(a)},p.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},p.insertChar=function(c){c>=144&&this.backSpace();var a=zt(c);this.pos>=Ri?this.logger.log(dt.ERROR,"Cannot insert "+c.toString(16)+" ("+a+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(a,this.currPenState),this.moveCursor(1))},p.clearFromPos=function(c){var a;for(a=c;a<Ri;a++)this.chars[a].reset()},p.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},p.clearToEndOfRow=function(){this.clearFromPos(this.pos)},p.getTextString=function(){for(var c=[],a=!0,u=0;u<Ri;u++){var h=this.chars[u].uchar;" "!==h&&(a=!1),c.push(h)}return a?"":c.join("")},p.setPenStyles=function(c){this.currPenState.setStyles(c),this.chars[this.pos].setPenState(this.currPenState)},v}(),$o=function(){function v(f){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var c=0;c<15;c++)this.rows.push(new pf(f));this.logger=f,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var p=v.prototype;return p.reset=function(){for(var c=0;c<15;c++)this.rows[c].clear();this.currRow=14},p.equals=function(c){for(var a=!0,u=0;u<15;u++)if(!this.rows[u].equals(c.rows[u])){a=!1;break}return a},p.copy=function(c){for(var a=0;a<15;a++)this.rows[a].copy(c.rows[a])},p.isEmpty=function(){for(var c=!0,a=0;a<15;a++)if(!this.rows[a].isEmpty()){c=!1;break}return c},p.backSpace=function(){this.rows[this.currRow].backSpace()},p.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},p.insertChar=function(c){this.rows[this.currRow].insertChar(c)},p.setPen=function(c){this.rows[this.currRow].setPenStyles(c)},p.moveCursor=function(c){this.rows[this.currRow].moveCursor(c)},p.setCursor=function(c){this.logger.log(dt.INFO,"setCursor: "+c),this.rows[this.currRow].setCursor(c)},p.setPAC=function(c){this.logger.log(dt.INFO,"pacData = "+JSON.stringify(c));var a=c.row-1;if(this.nrRollUpRows&&a<this.nrRollUpRows-1&&(a=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==a){for(var u=0;u<15;u++)this.rows[u].clear();var h=this.currRow+1-this.nrRollUpRows,m=this.lastOutputScreen;if(m){var _=m.rows[h].cueStartTime,x=this.logger.time;if(_&&null!==x&&_<x)for(var C=0;C<this.nrRollUpRows;C++)this.rows[a-this.nrRollUpRows+C+1].copy(m.rows[h+C])}}this.currRow=a;var M=this.rows[this.currRow];if(null!==c.indent){var B=Math.max(c.indent-1,0);M.setCursor(c.indent),c.color=M.chars[B].penState.foreground}this.setPen({foreground:c.color,underline:c.underline,italics:c.italics,background:"black",flash:!1})},p.setBkgData=function(c){this.logger.log(dt.INFO,"bkgData = "+JSON.stringify(c)),this.backSpace(),this.setPen(c),this.insertChar(32)},p.setRollUpRows=function(c){this.nrRollUpRows=c},p.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(dt.TEXT,this.getDisplayText());var a=this.rows.splice(this.currRow+1-this.nrRollUpRows,1)[0];a.clear(),this.rows.splice(this.currRow,0,a),this.logger.log(dt.INFO,"Rolling up")}else this.logger.log(dt.DEBUG,"roll_up but nrRollUpRows not set yet")},p.getDisplayText=function(c){c=c||!1;for(var a=[],u="",m=0;m<15;m++){var _=this.rows[m].getTextString();_&&a.push(c?"Row "+(m+1)+": '"+_+"'":_.trim())}return a.length>0&&(u=c?"["+a.join(" | ")+"]":a.join("\n")),u},p.getTextAndFormat=function(){return this.rows},v}(),il=function(){function v(f,c,a){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=f,this.outputFilter=c,this.mode=null,this.verbose=0,this.displayedMemory=new $o(a),this.nonDisplayedMemory=new $o(a),this.lastOutputScreen=new $o(a),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=a}var p=v.prototype;return p.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},p.getHandler=function(){return this.outputFilter},p.setHandler=function(c){this.outputFilter=c},p.setPAC=function(c){this.writeScreen.setPAC(c)},p.setBkgData=function(c){this.writeScreen.setBkgData(c)},p.setMode=function(c){c!==this.mode&&(this.mode=c,this.logger.log(dt.INFO,"MODE="+c),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=c)},p.insertChars=function(c){for(var a=0;a<c.length;a++)this.writeScreen.insertChar(c[a]);this.logger.log(dt.INFO,(this.writeScreen===this.displayedMemory?"DISP":"NON_DISP")+": "+this.writeScreen.getDisplayText(!0)),("MODE_PAINT-ON"===this.mode||"MODE_ROLL-UP"===this.mode)&&(this.logger.log(dt.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},p.ccRCL=function(){this.logger.log(dt.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},p.ccBS=function(){this.logger.log(dt.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},p.ccAOF=function(){},p.ccAON=function(){},p.ccDER=function(){this.logger.log(dt.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},p.ccRU=function(c){this.logger.log(dt.INFO,"RU("+c+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(c)},p.ccFON=function(){this.logger.log(dt.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},p.ccRDC=function(){this.logger.log(dt.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},p.ccTR=function(){this.logger.log(dt.INFO,"TR"),this.setMode("MODE_TEXT")},p.ccRTD=function(){this.logger.log(dt.INFO,"RTD"),this.setMode("MODE_TEXT")},p.ccEDM=function(){this.logger.log(dt.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},p.ccCR=function(){this.logger.log(dt.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},p.ccENM=function(){this.logger.log(dt.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},p.ccEOC=function(){if(this.logger.log(dt.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var c=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=c,this.writeScreen=this.nonDisplayedMemory,this.logger.log(dt.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},p.ccTO=function(c){this.logger.log(dt.INFO,"TO("+c+") - Tab Offset"),this.writeScreen.moveCursor(c)},p.ccMIDROW=function(c){var a={flash:!1};if(a.underline=c%2==1,a.italics=c>=46,a.italics)a.foreground="white";else{var u=Math.floor(c/2)-16;a.foreground=["white","green","blue","cyan","red","yellow","magenta"][u]}this.logger.log(dt.INFO,"MIDROW: "+JSON.stringify(a)),this.writeScreen.setPen(a)},p.outputDataUpdate=function(c){void 0===c&&(c=!1);var a=this.logger.time;null!==a&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,a,this.lastOutputScreen),c&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:a):this.cueStartTime=a,this.lastOutputScreen.copy(this.displayedMemory))},p.cueSplitAtTime=function(c){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,c,this.displayedMemory),this.cueStartTime=c))},v}();function Is(v,p,f){f.a=v,f.b=p}function sl(v,p,f){return f.a===v&&f.b===p}var ir=function(){function v(f,c,a){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var u=new fi;this.channels=[null,new il(f,c,u),new il(f+1,a,u)],this.cmdHistory={a:null,b:null},this.logger=u}var p=v.prototype;return p.getHandler=function(c){return this.channels[c].getHandler()},p.setHandler=function(c,a){this.channels[c].setHandler(a)},p.addData=function(c,a){var u,h,m,_=!1;this.logger.time=c;for(var x=0;x<a.length;x+=2)if(m=127&a[x+1],0!=(h=127&a[x])||0!==m){if(this.logger.log(dt.DATA,"["+Kr([a[x],a[x+1]])+"] -> ("+Kr([h,m])+")"),(u=this.parseCmd(h,m))||(u=this.parseMidrow(h,m)),u||(u=this.parsePAC(h,m)),u||(u=this.parseBackgroundAttributes(h,m)),!u&&(_=this.parseChars(h,m))){var C=this.currentChannel;C&&C>0?this.channels[C].insertChars(_):this.logger.log(dt.WARNING,"No channel found yet. TEXT-MODE?")}!u&&!_&&this.logger.log(dt.WARNING,"Couldn't parse cleaned data "+Kr([h,m])+" orig: "+Kr([a[x],a[x+1]]))}},p.parseCmd=function(c,a){var u=this.cmdHistory;if(!((20===c||28===c||21===c||29===c)&&a>=32&&a<=47||(23===c||31===c)&&a>=33&&a<=35))return!1;if(sl(c,a,u))return Is(null,null,u),this.logger.log(dt.DEBUG,"Repeated command ("+Kr([c,a])+") is dropped"),!0;var _=20===c||21===c||23===c?1:2,x=this.channels[_];return 20===c||21===c||28===c||29===c?32===a?x.ccRCL():33===a?x.ccBS():34===a?x.ccAOF():35===a?x.ccAON():36===a?x.ccDER():37===a?x.ccRU(2):38===a?x.ccRU(3):39===a?x.ccRU(4):40===a?x.ccFON():41===a?x.ccRDC():42===a?x.ccTR():43===a?x.ccRTD():44===a?x.ccEDM():45===a?x.ccCR():46===a?x.ccENM():47===a&&x.ccEOC():x.ccTO(a-32),Is(c,a,u),this.currentChannel=_,!0},p.parseMidrow=function(c,a){var u=0;if((17===c||25===c)&&a>=32&&a<=47){if((u=17===c?1:2)!==this.currentChannel)return this.logger.log(dt.ERROR,"Mismatch channel in midrow parsing"),!1;var h=this.channels[u];return!!h&&(h.ccMIDROW(a),this.logger.log(dt.DEBUG,"MIDROW ("+Kr([c,a])+")"),!0)}return!1},p.parsePAC=function(c,a){var h=this.cmdHistory;if(!((c>=17&&c<=23||c>=25&&c<=31)&&a>=64&&a<=127||(16===c||24===c)&&a>=64&&a<=95))return!1;if(sl(c,a,h))return Is(null,null,h),!0;var x=c<=23?1:2,C=this.channels[x];return!!C&&(C.setPAC(this.interpretPAC(a>=64&&a<=95?1===x?Ts[c]:Ho[c]:1===x?Lt[c]:nl[c],a)),Is(c,a,h),this.currentChannel=x,!0)},p.interpretPAC=function(c,a){var u,h={color:null,italics:!1,indent:null,underline:!1,row:c};return h.underline=1==(1&(u=a>95?a-96:a-64)),u<=13?h.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(u/2)]:u<=15?(h.italics=!0,h.color="white"):h.indent=4*Math.floor((u-16)/2),h},p.parseChars=function(c,a){var u,h=null,m=null;if(c>=25?(u=2,m=c-8):(u=1,m=c),m>=17&&m<=19){var _;this.logger.log(dt.INFO,"Special char '"+zt(_=17===m?a+80:18===m?a+112:a+144)+"' in channel "+u),h=[_]}else c>=32&&c<=127&&(h=0===a?[c]:[c,a]);if(h){var x=Kr(h);this.logger.log(dt.DEBUG,"Char codes =  "+x.join(",")),Is(c,a,this.cmdHistory)}return h},p.parseBackgroundAttributes=function(c,a){if(!((16===c||24===c)&&a>=32&&a<=47||(23===c||31===c)&&a>=45&&a<=47))return!1;var m,_={};return 16===c||24===c?(m=Math.floor((a-32)/2),_.background=rl[m],a%2==1&&(_.background=_.background+"_semi")):45===a?_.background="transparent":(_.foreground="black",47===a&&(_.underline=!0)),this.channels[c<=23?1:2].setBkgData(_),Is(c,a,this.cmdHistory),!0},p.reset=function(){for(var c=0;c<Object.keys(this.channels).length;c++){var a=this.channels[c];a&&a.reset()}this.cmdHistory={a:null,b:null}},p.cueSplitAtTime=function(c){for(var a=0;a<this.channels.length;a++){var u=this.channels[a];u&&u.cueSplitAtTime(c)}},v}(),It=function(){function v(f,c){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=f,this.trackName=c}var p=v.prototype;return p.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},p.newCue=function(c,a,u){(null===this.startTime||this.startTime>c)&&(this.startTime=c),this.endTime=a,this.screen=u,this.timelineController.createCaptionsTrack(this.trackName)},p.reset=function(){this.cueRanges=[]},v}(),$n=function(p,f,c){return p.substr(c||0,f.length)===f},Fi=function(p){for(var f=5381,c=p.length;c;)f=33*f^p.charCodeAt(--c);return(f>>>0).toString()},Ie_parse=function(p,f,c,a,u,h){var K,_=Object($t.utf8ArrayToStr)(new Uint8Array(p)).trim().replace(/\r\n|\n\r|\n|\r/g,"\n").split("\n"),x="00:00.000",C=0,M=0,T=0,B=[],le=!0,me=!1,ke=new gv;ke.oncue=function(De){var Ve=c[a],Qe=c.ccOffset;Ve&&Ve.new&&(void 0!==M?Qe=c.ccOffset=Ve.start:function(p,f,c){var a=p[f],u=p[a.prevCC];if(!u||!u.new&&a.new)return p.ccOffset=p.presentationOffset=a.start,void(a.new=!1);for(;u&&u.new;)p.ccOffset+=a.start-u.start,a.new=!1,u=p[(a=u).prevCC];p.presentationOffset=c}(c,a,T)),T&&(Qe=T-c.presentationOffset),me&&(De.startTime+=Qe-M,De.endTime+=Qe-M),De.id=Fi(De.startTime.toString())+Fi(De.endTime.toString())+Fi(De.text),De.text=decodeURIComponent(encodeURIComponent(De.text)),De.endTime>0&&B.push(De)},ke.onparsingerror=function(De){K=De},ke.onflush=function(){K&&h?h(K):u(B)},_.forEach(function(De){if(le){if($n(De,"X-TIMESTAMP-MAP=")){le=!1,me=!0,De.substr(16).split(",").forEach(function(Ve){$n(Ve,"LOCAL:")?x=Ve.substr(6):$n(Ve,"MPEGTS:")&&(C=parseInt(Ve.substr(7)))});try{f+(9e4*c[a].start||0)<0&&(f+=8589934592),C-=f,M=function(p){var f=parseInt(p.substr(-3)),c=parseInt(p.substr(-6,2)),a=parseInt(p.substr(-9,2)),u=p.length>9?parseInt(p.substr(0,p.indexOf(":"))):0;if(!(Object(be.isFiniteNumber)(f)&&Object(be.isFiniteNumber)(c)&&Object(be.isFiniteNumber)(a)&&Object(be.isFiniteNumber)(u)))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+p);return f+=1e3*c,(f+=6e4*a)+36e5*u}(x)/1e3,T=C/9e4}catch(Ve){me=!1,K=Ve}return}""===De&&(le=!1)}ke.parse(De+"\n")}),ke.flush()};function nt(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function Ji(v,p){return v&&v.label===p.name&&!(v.textTrack1||v.textTrack2)}function Vn(v,p,f,c){return Math.min(p,c)-Math.max(v,f)}var fn=function(v){function p(c){var a;if((a=v.call(this,c,E.default.MEDIA_ATTACHING,E.default.MEDIA_DETACHING,E.default.FRAG_PARSING_USERDATA,E.default.FRAG_DECRYPTED,E.default.MANIFEST_LOADING,E.default.MANIFEST_LOADED,E.default.FRAG_LOADED,E.default.INIT_PTS_FOUND)||this).media=null,a.config=void 0,a.enabled=!0,a.Cues=void 0,a.textTracks=[],a.tracks=[],a.initPTS=[],a.unparsedVttFrags=[],a.captionsTracks={},a.nonNativeCaptionsTracks={},a.captionsProperties=void 0,a.cea608Parser1=void 0,a.cea608Parser2=void 0,a.lastSn=-1,a.prevCC=-1,a.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},a.hls=c,a.config=c.config,a.Cues=c.config.cueHandler,a.captionsProperties={textTrack1:{label:a.config.captionsTextTrack1Label,languageCode:a.config.captionsTextTrack1LanguageCode},textTrack2:{label:a.config.captionsTextTrack2Label,languageCode:a.config.captionsTextTrack2LanguageCode},textTrack3:{label:a.config.captionsTextTrack3Label,languageCode:a.config.captionsTextTrack3LanguageCode},textTrack4:{label:a.config.captionsTextTrack4Label,languageCode:a.config.captionsTextTrack4LanguageCode}},a.config.enableCEA708Captions){var u=new It(nt(a),"textTrack1"),h=new It(nt(a),"textTrack2"),m=new It(nt(a),"textTrack3"),_=new It(nt(a),"textTrack4");a.cea608Parser1=new ir(1,u,h),a.cea608Parser2=new ir(3,m,_)}return a}!function nn(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.addCues=function(a,u,h,m,_){for(var x=!1,C=_.length;C--;){var M=_[C],T=Vn(M[0],M[1],u,h);if(T>=0&&(M[0]=Math.min(M[0],u),M[1]=Math.max(M[1],h),x=!0,T/(h-u)>.5))return}if(x||_.push([u,h]),this.config.renderTextTracksNatively)this.Cues.newCue(this.captionsTracks[a],u,h,m);else{var B=this.Cues.newCue(null,u,h,m);this.hls.trigger(E.default.CUES_PARSED,{type:"captions",cues:B,track:a})}},f.onInitPtsFound=function(a){var u=this,x=this.unparsedVttFrags;"main"===a.id&&(this.initPTS[a.frag.cc]=a.initPTS),x.length&&(this.unparsedVttFrags=[],x.forEach(function(C){u.onFragLoaded(C)}))},f.getExistingTrack=function(a){var u=this.media;if(u)for(var h=0;h<u.textTracks.length;h++){var m=u.textTracks[h];if(m[a])return m}return null},f.createCaptionsTrack=function(a){this.config.renderTextTracksNatively?this.createNativeTrack(a):this.createNonNativeTrack(a)},f.createNativeTrack=function(a){if(!this.captionsTracks[a]){var h=this.captionsTracks,m=this.media,_=this.captionsProperties[a],x=_.label,C=_.languageCode,M=this.getExistingTrack(a);if(M)h[a]=M,Xi(h[a]),As(h[a],m);else{var T=this.createTextTrack("captions",x,C);T&&(T[a]=!0,h[a]=T)}}},f.createNonNativeTrack=function(a){if(!this.nonNativeCaptionsTracks[a]){var u=this.captionsProperties[a];if(u){var m={_id:a,label:u.label,kind:"captions",default:!!u.media&&!!u.media.default,closedCaptions:u.media};this.nonNativeCaptionsTracks[a]=m,this.hls.trigger(E.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[m]})}}},f.createTextTrack=function(a,u,h){var m=this.media;if(m)return m.addTextTrack(a,u,h)},f.destroy=function(){v.prototype.destroy.call(this)},f.onMediaAttaching=function(a){this.media=a.media,this._cleanTracks()},f.onMediaDetaching=function(){var a=this.captionsTracks;Object.keys(a).forEach(function(u){Xi(a[u]),delete a[u]}),this.nonNativeCaptionsTracks={}},f.onManifestLoading=function(){this.lastSn=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={}},f._cleanTracks=function(){var a=this.media;if(a){var u=a.textTracks;if(u)for(var h=0;h<u.length;h++)Xi(u[h])}},f.onManifestLoaded=function(a){var u=this;if(this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset()),this.config.enableWebVTT){var h=a.subtitles||[],m=this.tracks&&h&&this.tracks.length===h.length;if(this.tracks=a.subtitles||[],this.config.renderTextTracksNatively){var _=this.media?this.media.textTracks:[];this.tracks.forEach(function(C,M){var T;if(M<_.length){for(var B=null,K=0;K<_.length;K++)if(Ji(_[K],C)){B=_[K];break}B&&(T=B)}T||(T=u.createTextTrack("subtitles",C.name,C.lang)),T.mode=C.default?u.hls.subtitleDisplay?"showing":"hidden":"disabled",u.textTracks.push(T)})}else if(!m&&this.tracks&&this.tracks.length){var x=this.tracks.map(function(C){return{label:C.name,kind:C.type.toLowerCase(),default:C.default,subtitleTrack:C}});this.hls.trigger(E.default.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:x})}}this.config.enableCEA708Captions&&a.captions&&a.captions.forEach(function(C){var M=/(?:CC|SERVICE)([1-4])/.exec(C.instreamId);if(M){var B=u.captionsProperties["textTrack"+M[1]];!B||(B.label=C.name,C.lang&&(B.languageCode=C.lang),B.media=C)}})},f.onFragLoaded=function(a){var u=a.frag,h=a.payload,m=this.cea608Parser1,_=this.cea608Parser2,x=this.initPTS,M=this.unparsedVttFrags;if("main"===u.type){var T=u.sn;u.sn!==this.lastSn+1&&m&&_&&(m.reset(),_.reset()),this.lastSn=T}else if("subtitle"===u.type)if(h.byteLength){if(!Object(be.isFiniteNumber)(x[u.cc]))return M.push(a),void(x.length&&this.hls.trigger(E.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u}));var B=u.decryptdata;(null==B||null==B.key||"AES-128"!==B.method)&&this._parseVTTs(u,h)}else this.hls.trigger(E.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:u})},f._parseVTTs=function(a,u){var h=this,m=this.hls,x=this.textTracks,C=this.vttCCs;C[a.cc]||(C[a.cc]={start:a.start,prevCC:this.prevCC,new:!0},this.prevCC=a.cc),Ie_parse(u,this.initPTS[a.cc],C,a.cc,function(M){if(h.config.renderTextTracksNatively){var T=x[a.level];if("disabled"===T.mode)return void m.trigger(E.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a});M.forEach(function(K){if(!T.cues.getCueById(K.id))try{if(T.addCue(K),!T.cues.getCueById(K.id))throw new Error("addCue is failed for: "+K)}catch(me){w.logger.debug("Failed occurred on adding cues: "+me);var le=new window.TextTrackCue(K.startTime,K.endTime,K.text);le.id=K.id,T.addCue(le)}})}else m.trigger(E.default.CUES_PARSED,{type:"subtitles",cues:M,track:h.tracks[a.level].default?"default":"subtitles"+a.level});m.trigger(E.default.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:a})},function(M){w.logger.log("Failed to parse VTT cue: "+M),m.trigger(E.default.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:a})})},f.onFragDecrypted=function(a){var u=a.frag,h=a.payload;if("subtitle"===u.type){if(!Object(be.isFiniteNumber)(this.initPTS[u.cc]))return void this.unparsedVttFrags.push(a);this._parseVTTs(u,h)}},f.onFragParsingUserdata=function(a){var u=this.cea608Parser1,h=this.cea608Parser2;if(this.enabled&&u&&h)for(var m=0;m<a.samples.length;m++){var _=a.samples[m].bytes;if(_){var x=this.extractCea608Data(_);u.addData(a.samples[m].pts,x[0]),h.addData(a.samples[m].pts,x[1])}}},f.extractCea608Data=function(a){for(var u=31&a[0],h=2,m=[[],[]],_=0;_<u;_++){var x=a[h++],C=127&a[h++],M=127&a[h++],B=3&x;0===C&&0===M||0!=(4&x)&&(0===B||1===B)&&(m[B].push(C),m[B].push(M))}return m},p}(N);function Rs(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function Oi(v){for(var p=[],f=0;f<v.length;f++){var c=v[f];"subtitles"===c.kind&&c.label&&p.push(v[f])}return p}var ol=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MEDIA_ATTACHED,E.default.MEDIA_DETACHING,E.default.MANIFEST_LOADED,E.default.SUBTITLE_TRACK_LOADED)||this).tracks=[],a.trackId=-1,a.media=null,a.stopped=!0,a.subtitleDisplay=!0,a.queuedDefaultTrack=null,a}!function ft(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.destroy=function(){N.prototype.destroy.call(this)},f.onMediaAttached=function(a){var u=this;this.media=a.media,this.media&&(Object(be.isFiniteNumber)(this.queuedDefaultTrack)&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=null),this.trackChangeListener=this._onTextTracksChanged.bind(this),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.subtitlePollingInterval=setInterval(function(){u.trackChangeListener()},500):this.media.textTracks.addEventListener("change",this.trackChangeListener))},f.onMediaDetaching=function(){this.media&&(this.useTextTrackPolling?clearInterval(this.subtitlePollingInterval):this.media.textTracks.removeEventListener("change",this.trackChangeListener),Object(be.isFiniteNumber)(this.subtitleTrack)&&(this.queuedDefaultTrack=this.subtitleTrack),Oi(this.media.textTracks).forEach(function(u){Xi(u)}),this.subtitleTrack=-1,this.media=null)},f.onManifestLoaded=function(a){var u=this,h=a.subtitles||[];this.tracks=h,this.hls.trigger(E.default.SUBTITLE_TRACKS_UPDATED,{subtitleTracks:h}),h.forEach(function(m){m.default&&(u.media?u.subtitleTrack=m.id:u.queuedDefaultTrack=m.id)})},f.onSubtitleTrackLoaded=function(a){var u=this,h=a.id,m=a.details,_=this.trackId,x=this.tracks,C=x[_];if(h>=x.length||h!==_||!C||this.stopped)this._clearReloadTimer();else if(w.logger.log("subtitle track "+h+" loaded"),m.live){var M=Ye(C.details,m,a.stats.trequest);w.logger.log("Reloading live subtitle playlist in "+M+"ms"),this.timer=setTimeout(function(){u._loadCurrentTrack()},M)}else this._clearReloadTimer()},f.startLoad=function(){this.stopped=!1,this._loadCurrentTrack()},f.stopLoad=function(){this.stopped=!0,this._clearReloadTimer()},f._clearReloadTimer=function(){this.timer&&(clearTimeout(this.timer),this.timer=null)},f._loadCurrentTrack=function(){var a=this.trackId,h=this.hls,m=this.tracks[a];a<0||!m||m.details&&!m.details.live||(w.logger.log("Loading subtitle track "+a),h.trigger(E.default.SUBTITLE_TRACK_LOADING,{url:m.url,id:a}))},f._toggleTrackModes=function(a){var u=this.media,h=this.subtitleDisplay,m=this.trackId;if(u){var _=Oi(u.textTracks);if(-1===a)[].slice.call(_).forEach(function(M){M.mode="disabled"});else{var x=_[m];x&&(x.mode="disabled")}var C=_[a];C&&(C.mode=h?"showing":"hidden")}},f._setSubtitleTrackInternal=function(a){var u=this.hls,h=this.tracks;!Object(be.isFiniteNumber)(a)||a<-1||a>=h.length||(this.trackId=a,w.logger.log("Switching to subtitle track "+a),u.trigger(E.default.SUBTITLE_TRACK_SWITCH,{id:a}),this._loadCurrentTrack())},f._onTextTracksChanged=function(){if(this.media&&this.hls.config.renderTextTracksNatively){for(var a=-1,u=Oi(this.media.textTracks),h=0;h<u.length;h++)if("hidden"===u[h].mode)a=h;else if("showing"===u[h].mode){a=h;break}this.subtitleTrack=a}},function ro(v,p,f){return p&&Rs(v.prototype,p),f&&Rs(v,f),v}(p,[{key:"subtitleTracks",get:function(){return this.tracks}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(a){this.trackId!==a&&(this._toggleTrackModes(a),this._setSubtitleTrackInternal(a))}}]),p}(N),es=ee("./src/crypt/decrypter.js");var Ir=window.performance,Lu=function(v){function p(c,a){var u;return(u=v.call(this,c,E.default.MEDIA_ATTACHED,E.default.MEDIA_DETACHING,E.default.ERROR,E.default.KEY_LOADED,E.default.FRAG_LOADED,E.default.SUBTITLE_TRACKS_UPDATED,E.default.SUBTITLE_TRACK_SWITCH,E.default.SUBTITLE_TRACK_LOADED,E.default.SUBTITLE_FRAG_PROCESSED,E.default.LEVEL_UPDATED)||this).fragmentTracker=a,u.config=c.config,u.state=Q_STOPPED,u.tracks=[],u.tracksBuffered=[],u.currentTrackId=-1,u.decrypter=new es.default(c,c.config),u.lastAVStart=0,u._onMediaSeeking=u.onMediaSeeking.bind(function er(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}(u)),u}!function io(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.startLoad=function(){this.stopLoad(),this.state=Q_IDLE;var a=this.tracks[this.currentTrackId];a&&a.details&&(this.setInterval(500),this.tick())},f.onSubtitleFragProcessed=function(a){var u=a.frag,h=a.success;if(this.fragPrevious=u,this.state=Q_IDLE,h){var m=this.tracksBuffered[this.currentTrackId];if(m){for(var _,x=u.start,C=0;C<m.length;C++)if(x>=m[C].start&&x<=m[C].end){_=m[C];break}var M=u.start+u.duration;_?_.end=M:m.push(_={start:x,end:M})}}},f.onMediaAttached=function(a){var u=a.media;this.media=u,u.addEventListener("seeking",this._onMediaSeeking),this.state=Q_IDLE},f.onMediaDetaching=function(){var a=this;!this.media||(this.media.removeEventListener("seeking",this._onMediaSeeking),this.fragmentTracker.removeAllFragments(),this.currentTrackId=-1,this.tracks.forEach(function(u){a.tracksBuffered[u.id]=[]}),this.media=null,this.state=Q_STOPPED)},f.onError=function(a){var u=a.frag;!u||"subtitle"!==u.type||(this.fragCurrent&&this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.state=Q_IDLE)},f.onSubtitleTracksUpdated=function(a){var u=this;w.logger.log("subtitle tracks updated"),this.tracksBuffered=[],this.tracks=a.subtitleTracks,this.tracks.forEach(function(h){u.tracksBuffered[h.id]=[]})},f.onSubtitleTrackSwitch=function(a){if(this.currentTrackId=a.id,this.tracks&&this.tracks.length&&-1!==this.currentTrackId){var u=this.tracks[this.currentTrackId];u&&u.details&&this.setInterval(500)}else this.clearInterval()},f.onSubtitleTrackLoaded=function(a){var u=a.id,h=a.details,m=this.currentTrackId,_=this.tracks,x=_[m];u>=_.length||u!==m||!x||(h.live&&function pe(v,p,f){void 0===f&&(f=0);var c=-1;Le(v,p,function(h,m,_){m.start=h.start,c=_});var a=p.fragments;if(c<0)a.forEach(function(h){h.start+=f});else for(var u=c+1;u<a.length;u++)a[u].start=a[u-1].start+a[u-1].duration}(x.details,h,this.lastAVStart),x.details=h,this.setInterval(500))},f.onKeyLoaded=function(){this.state===Q_KEY_LOADING&&(this.state=Q_IDLE)},f.onFragLoaded=function(a){var u=this.fragCurrent,h=a.frag.decryptdata,m=a.frag,_=this.hls;if(this.state===Q_FRAG_LOADING&&u&&"subtitle"===a.frag.type&&u.sn===a.frag.sn&&a.payload.byteLength>0&&h&&h.key&&"AES-128"===h.method){var x=Ir.now();this.decrypter.decrypt(a.payload,h.key.buffer,h.iv.buffer,function(C){var M=Ir.now();_.trigger(E.default.FRAG_DECRYPTED,{frag:m,payload:C,stats:{tstart:x,tdecrypt:M}})})}},f.onLevelUpdated=function(a){var h=a.details.fragments;this.lastAVStart=h.length?h[0].start:0},f.doTick=function(){if(this.media)switch(this.state){case Q_IDLE:var a=this.config,u=this.currentTrackId,h=this.fragmentTracker,m=this.media,_=this.tracks;if(!_||!_[u]||!_[u].details)break;var x=a.maxBufferHole,C=a.maxFragLookUpTolerance,M=Math.min(a.maxBufferLength,a.maxMaxBufferLength),T=I.bufferedInfo(this._getBuffered(),m.currentTime,x),B=T.end,le=_[u].details,me=le.fragments,ke=me.length;if(T.len>M)return;var Ve,Qe=this.fragPrevious;B<me[ke-1].start+me[ke-1].duration?(Qe&&le.hasProgramDateTime&&(Ve=Pn(me,Qe.endProgramDateTime,C)),Ve||(Ve=_n(Qe,me,B,C))):Ve=me[ke-1],Ve&&Ve.encrypted?(w.logger.log("Loading key for "+Ve.sn),this.state=Q_KEY_LOADING,this.hls.trigger(E.default.KEY_LOADING,{frag:Ve})):Ve&&h.getState(Ve)===Xt_NOT_LOADED&&(this.fragCurrent=Ve,this.state=Q_FRAG_LOADING,this.hls.trigger(E.default.FRAG_LOADING,{frag:Ve}))}else this.state=Q_IDLE},f.stopLoad=function(){this.lastAVStart=0,this.fragPrevious=null,v.prototype.stopLoad.call(this)},f._getBuffered=function(){return this.tracksBuffered[this.currentTrackId]||[]},f.onMediaSeeking=function(){if(this.fragCurrent){var a=this.media?this.media.currentTime:0,u=this.config.maxFragLookUpTolerance;(a<this.fragCurrent.start-u||a>this.fragCurrent.start+this.fragCurrent.duration+u)&&(this.fragCurrent.loader&&this.fragCurrent.loader.abort(),this.fragmentTracker.removeFragment(this.fragCurrent),this.fragCurrent=null,this.fragPrevious=null,this.state=Q_IDLE,this.tick())}},p}(ni),Rt=(()=>{return(v=Rt||(Rt={})).WIDEVINE="com.widevine.alpha",v.PLAYREADY="com.microsoft.playready",Rt;var v})(),mf=typeof window<"u"&&window.navigator&&window.navigator.requestMediaKeySystemAccess?window.navigator.requestMediaKeySystemAccess.bind(window.navigator):null;function Pu(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}var vf=function(v){function p(c){var a;return(a=v.call(this,c,E.default.MEDIA_ATTACHED,E.default.MEDIA_DETACHED,E.default.MANIFEST_PARSED)||this)._widevineLicenseUrl=void 0,a._licenseXhrSetup=void 0,a._emeEnabled=void 0,a._requestMediaKeySystemAccess=void 0,a._drmSystemOptions=void 0,a._config=void 0,a._mediaKeysList=[],a._media=null,a._hasSetMediaKeys=!1,a._requestLicenseFailureCount=0,a.mediaKeysPromise=null,a._onMediaEncrypted=function(u){if(w.logger.log('Media is encrypted using "'+u.initDataType+'" init data type'),!a.mediaKeysPromise)return w.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void a.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var h=function(_){!a._media||(a._attemptSetMediaKeys(_),a._generateRequestWithPreferredKeySession(u.initDataType,u.initData))};a.mediaKeysPromise.then(h).catch(h)},a._config=c.config,a._widevineLicenseUrl=a._config.widevineLicenseUrl,a._licenseXhrSetup=a._config.licenseXhrSetup,a._emeEnabled=a._config.emeEnabled,a._requestMediaKeySystemAccess=a._config.requestMediaKeySystemAccessFunc,a._drmSystemOptions=c.config.drmSystemOptions,a}!function al(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p}(p,v);var f=p.prototype;return f.getLicenseServerUrl=function(a){switch(a){case Rt.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+a+'"')},f._attemptKeySystemAccess=function(a,u,h){var m=this,_=function(p,f,c,a){if(p===Rt.WIDEVINE)return function(p,f,c){var a={audioCapabilities:[],videoCapabilities:[]};return p.forEach(function(u){a.audioCapabilities.push({contentType:'audio/mp4; codecs="'+u+'"',robustness:c.audioRobustness||""})}),f.forEach(function(u){a.videoCapabilities.push({contentType:'video/mp4; codecs="'+u+'"',robustness:c.videoRobustness||""})}),[a]}(f,c,a);throw new Error("Unknown key-system: "+p)}(a,u,h,this._drmSystemOptions);w.logger.log("Requesting encrypted media key-system access");var x=this.requestMediaKeySystemAccess(a,_);this.mediaKeysPromise=x.then(function(C){return m._onMediaKeySystemAccessObtained(a,C)}),x.catch(function(C){w.logger.error('Failed to obtain key-system "'+a+'" access:',C)})},f._onMediaKeySystemAccessObtained=function(a,u){var h=this;w.logger.log('Access for key-system "'+a+'" obtained');var m={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:u,mediaKeySystemDomain:a};this._mediaKeysList.push(m);var _=Promise.resolve().then(function(){return u.createMediaKeys()}).then(function(x){return m.mediaKeys=x,w.logger.log('Media-keys created for key-system "'+a+'"'),h._onMediaKeysCreated(),x});return _.catch(function(x){w.logger.error("Failed to create media-keys:",x)}),_},f._onMediaKeysCreated=function(){var a=this;this._mediaKeysList.forEach(function(u){u.mediaKeysSession||(u.mediaKeysSession=u.mediaKeys.createSession(),a._onNewMediaKeySession(u.mediaKeysSession))})},f._onNewMediaKeySession=function(a){var u=this;w.logger.log("New key-system session "+a.sessionId),a.addEventListener("message",function(h){u._onKeySessionMessage(a,h.message)},!1)},f._onKeySessionMessage=function(a,u){w.logger.log("Got EME message event, creating license request"),this._requestLicense(u,function(h){w.logger.log("Received license data (length: "+(h&&h.byteLength)+"), updating key-session"),a.update(h)})},f._attemptSetMediaKeys=function(a){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var u=this._mediaKeysList[0];if(!u||!u.mediaKeys)return w.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});w.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(u.mediaKeys),this._hasSetMediaKeys=!0}},f._generateRequestWithPreferredKeySession=function(a,u){var h=this,m=this._mediaKeysList[0];if(!m)return w.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(!m.mediaKeysSessionInitialized){var _=m.mediaKeysSession;return _?u?(w.logger.log('Generating key-session request for "'+a+'" init data type'),m.mediaKeysSessionInitialized=!0,void _.generateRequest(a,u).then(function(){w.logger.debug("Key-session generation succeeded")}).catch(function(x){w.logger.error("Error generating key-session request:",x),h.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})})):(w.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0})):(w.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0}))}w.logger.warn("Key-Session already initialized but requested again")},f._createLicenseXhr=function(a,u,h){var m=new XMLHttpRequest,_=this._licenseXhrSetup;try{if(_)try{_(m,a)}catch{m.open("POST",a,!0),_(m,a)}m.readyState||m.open("POST",a,!0)}catch(x){throw new Error("issue setting up KeySystem license XHR "+x)}return m.responseType="arraybuffer",m.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,m,a,u,h),m},f._onLicenseRequestReadyStageChange=function(a,u,h,m){if(4===a.readyState)if(200===a.status)this._requestLicenseFailureCount=0,w.logger.log("License request succeeded"),"arraybuffer"!==a.responseType&&w.logger.warn("xhr response type was not set to the expected arraybuffer for license request"),m(a.response);else{if(w.logger.error("License Request XHR failed ("+u+"). Status: "+a.status+" ("+a.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});w.logger.warn("Retrying license request, "+(3-this._requestLicenseFailureCount+1)+" attempts left"),this._requestLicense(h,m)}},f._generateLicenseRequestChallenge=function(a,u){if(a.mediaKeySystemDomain===Rt.WIDEVINE)return u;throw new Error("unsupported key-system: "+a.mediaKeySystemDomain)},f._requestLicense=function(a,u){w.logger.log("Requesting content license for key-system");var h=this._mediaKeysList[0];if(!h)return w.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var m=this.getLicenseServerUrl(h.mediaKeySystemDomain),_=this._createLicenseXhr(m,a,u);w.logger.log("Sending license request to URL: "+m);var x=this._generateLicenseRequestChallenge(h,a);_.send(x)}catch(C){w.logger.error("Failure requesting DRM license: "+C),this.hls.trigger(E.default.ERROR,{type:H.ErrorTypes.KEY_SYSTEM_ERROR,details:H.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},f.onMediaAttached=function(a){if(this._emeEnabled){var u=a.media;this._media=u,u.addEventListener("encrypted",this._onMediaEncrypted)}},f.onMediaDetached=function(){var a=this._media,u=this._mediaKeysList;!a||(a.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(u.map(function(h){if(h.mediaKeysSession)return h.mediaKeysSession.close().catch(function(){})})).then(function(){return a.setMediaKeys(null)}).catch(function(){}))},f.onManifestParsed=function(a){if(this._emeEnabled){var u=a.levels.map(function(m){return m.audioCodec}),h=a.levels.map(function(m){return m.videoCodec});this._attemptKeySystemAccess(Rt.WIDEVINE,u,h)}},function Wo(v,p,f){return p&&Pu(v.prototype,p),f&&Pu(v,f),v}(p,[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}]),p}(N);function or(v,p){var f=Object.keys(v);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(v);p&&(c=c.filter(function(a){return Object.getOwnPropertyDescriptor(v,a).enumerable})),f.push.apply(f,c)}return f}function Rr(v){for(var p=1;p<arguments.length;p++){var f=null!=arguments[p]?arguments[p]:{};p%2?or(Object(f),!0).forEach(function(c){ll(v,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(f)):or(Object(f)).forEach(function(c){Object.defineProperty(v,c,Object.getOwnPropertyDescriptor(f,c))})}return v}function ll(v,p,f){return p in v?Object.defineProperty(v,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):v[p]=f,v}var qo=Rr(Rr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,initialLiveManifestSize:1,maxBufferLength:30,maxBufferSize:6e7,maxBufferHole:.5,lowBufferWatchdogPeriod:.5,highBufferWatchdogPeriod:3,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,liveDurationInfinity:!1,liveBackBufferLength:1/0,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:dv,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,abrController:Uo,bufferController:iv,capLevelController:lv,fpsController:vr,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:mf,testBandwidth:!0},function Yo(){return{cueHandler:Ce,enableCEA708Captions:!0,enableWebVTT:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}()),{},{subtitleStreamController:Lu,subtitleTrackController:ol,timelineController:fn,audioStreamController:Za,audioTrackController:pt,emeController:vf});function Fr(v,p){var f=Object.keys(v);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(v);p&&(c=c.filter(function(a){return Object.getOwnPropertyDescriptor(v,a).enumerable})),f.push.apply(f,c)}return f}function Nu(v){for(var p=1;p<arguments.length;p++){var f=null!=arguments[p]?arguments[p]:{};p%2?Fr(Object(f),!0).forEach(function(c){mv(v,c,f[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(f)):Fr(Object(f)).forEach(function(c){Object.defineProperty(v,c,Object.getOwnPropertyDescriptor(f,c))})}return v}function mv(v,p,f){return p in v?Object.defineProperty(v,p,{value:f,enumerable:!0,configurable:!0,writable:!0}):v[p]=f,v}function Bn(v){if(void 0===v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function Vu(v,p){for(var f=0;f<p.length;f++){var c=p[f];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(v,c.key,c)}}function yf(v,p,f){return p&&Vu(v.prototype,p),f&&Vu(v,f),v}var _f=function(v){function p(c){var a;void 0===c&&(c={}),(a=v.call(this)||this).config=void 0,a._autoLevelCapping=void 0,a.abrController=void 0,a.capLevelController=void 0,a.levelController=void 0,a.streamController=void 0,a.networkControllers=void 0,a.audioTrackController=void 0,a.subtitleTrackController=void 0,a.emeController=void 0,a.coreComponents=void 0,a.media=null,a.url=null;var u=p.DefaultConfig;if((c.liveSyncDurationCount||c.liveMaxLatencyDurationCount)&&(c.liveSyncDuration||c.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");a.config=Nu(Nu({},u),c);var m=Bn(a).config;if(void 0!==m.liveMaxLatencyDurationCount&&m.liveMaxLatencyDurationCount<=m.liveSyncDurationCount)throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be gt "liveSyncDurationCount"');if(void 0!==m.liveMaxLatencyDuration&&(void 0===m.liveSyncDuration||m.liveMaxLatencyDuration<=m.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be gt "liveSyncDuration"');Object(w.enableLogs)(m.debug),a._autoLevelCapping=-1;var _=a.abrController=new m.abrController(Bn(a)),x=new m.bufferController(Bn(a)),C=a.capLevelController=new m.capLevelController(Bn(a)),M=new m.fpsController(Bn(a)),T=new rr(Bn(a)),B=new Ds(Bn(a)),K=new Jn(Bn(a)),le=new Ti(Bn(a)),me=a.levelController=new Vo(Bn(a)),ke=new Es(Bn(a)),Ve=[me,a.streamController=new Js(Bn(a),ke)],Qe=m.audioStreamController;Qe&&Ve.push(new Qe(Bn(a),ke)),a.networkControllers=Ve;var bt=[T,B,K,_,x,C,M,le,ke];if(Qe=m.audioTrackController){var ln=new Qe(Bn(a));a.audioTrackController=ln,bt.push(ln)}if(Qe=m.subtitleTrackController){var dr=new Qe(Bn(a));a.subtitleTrackController=dr,Ve.push(dr)}if(Qe=m.emeController){var zn=new Qe(Bn(a));a.emeController=zn,bt.push(zn)}return(Qe=m.subtitleStreamController)&&Ve.push(new Qe(Bn(a),ke)),(Qe=m.timelineController)&&bt.push(new Qe(Bn(a))),a.coreComponents=bt,a}(function vv(v,p){v.prototype=Object.create(p.prototype),v.prototype.constructor=v,v.__proto__=p})(p,v),p.isSupported=function(){return function eo(){var v=A();if(!v)return!1;var p=self.SourceBuffer||self.WebKitSourceBuffer;return!(!v||"function"!=typeof v.isTypeSupported||!v.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')||p&&(!p.prototype||"function"!=typeof p.prototype.appendBuffer||"function"!=typeof p.prototype.remove))}()},yf(p,null,[{key:"version",get:function(){return"0.14.17"}},{key:"Events",get:function(){return E.default}},{key:"ErrorTypes",get:function(){return H.ErrorTypes}},{key:"ErrorDetails",get:function(){return H.ErrorDetails}},{key:"DefaultConfig",get:function(){return p.defaultConfig?p.defaultConfig:qo},set:function(a){p.defaultConfig=a}}]);var f=p.prototype;return f.destroy=function(){w.logger.log("destroy"),this.trigger(E.default.DESTROYING),this.detachMedia(),this.coreComponents.concat(this.networkControllers).forEach(function(a){a.destroy()}),this.url=null,this.removeAllListeners(),this._autoLevelCapping=-1},f.attachMedia=function(a){w.logger.log("attachMedia"),this.media=a,this.trigger(E.default.MEDIA_ATTACHING,{media:a})},f.detachMedia=function(){w.logger.log("detachMedia"),this.trigger(E.default.MEDIA_DETACHING),this.media=null},f.loadSource=function(a){a=ve.buildAbsoluteURL(window.location.href,a,{alwaysNormalize:!0}),w.logger.log("loadSource:"+a),this.url=a,this.trigger(E.default.MANIFEST_LOADING,{url:a})},f.startLoad=function(a){void 0===a&&(a=-1),w.logger.log("startLoad("+a+")"),this.networkControllers.forEach(function(u){u.startLoad(a)})},f.stopLoad=function(){w.logger.log("stopLoad"),this.networkControllers.forEach(function(a){a.stopLoad()})},f.swapAudioCodec=function(){w.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},f.recoverMediaError=function(){w.logger.log("recoverMediaError");var a=this.media;this.detachMedia(),a&&this.attachMedia(a)},f.removeLevel=function(a,u){void 0===u&&(u=0),this.levelController.removeLevel(a,u)},yf(p,[{key:"levels",get:function(){return this.levelController.levels}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(a){w.logger.log("set currentLevel:"+a),this.loadLevel=a,this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(a){w.logger.log("set nextLevel:"+a),this.levelController.manualLevel=a,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(a){w.logger.log("set loadLevel:"+a),this.levelController.manualLevel=a}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(a){this.levelController.nextLoadLevel=a}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(a){w.logger.log("set firstLevel:"+a),this.levelController.firstLevel=a}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(a){w.logger.log("set startLevel:"+a),-1!==a&&(a=Math.max(a,this.minAutoLevel)),this.levelController.startLevel=a}},{key:"capLevelToPlayerSize",set:function(a){var u=!!a;u!==this.config.capLevelToPlayerSize&&(u?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=u)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(a){w.logger.log("set autoLevelCapping:"+a),this._autoLevelCapping=a}},{key:"bandwidthEstimate",get:function(){var a=this.abrController._bwEstimator;return a?a.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){for(var a=this.levels,u=this.config.minAutoBitrate,h=a?a.length:0,m=0;m<h;m++)if((a[m].realBitrate?Math.max(a[m].realBitrate,a[m].bitrate):a[m].bitrate)>u)return m;return 0}},{key:"maxAutoLevel",get:function(){var a=this.levels,u=this.autoLevelCapping;return-1===u&&a&&a.length?a.length-1:u}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(a){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,a)}},{key:"audioTracks",get:function(){var a=this.audioTrackController;return a?a.audioTracks:[]}},{key:"audioTrack",get:function(){var a=this.audioTrackController;return a?a.audioTrack:-1},set:function(a){var u=this.audioTrackController;u&&(u.audioTrack=a)}},{key:"liveSyncPosition",get:function(){return this.streamController.liveSyncPosition}},{key:"subtitleTracks",get:function(){var a=this.subtitleTrackController;return a?a.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var a=this.subtitleTrackController;return a?a.subtitleTrack:-1},set:function(a){var u=this.subtitleTrackController;u&&(u.subtitleTrack=a)}},{key:"subtitleDisplay",get:function(){var a=this.subtitleTrackController;return!!a&&a.subtitleDisplay},set:function(a){var u=this.subtitleTrackController;u&&(u.subtitleDisplay=a)}}]),p}(V);_f.defaultConfig=void 0},"./src/polyfills/number.js":function(mn,et,ee){"use strict";ee.r(et),ee.d(et,"isFiniteNumber",function(){return Ce}),ee.d(et,"MAX_SAFE_INTEGER",function(){return ve});var Ce=Number.isFinite||function(H){return"number"==typeof H&&isFinite(H)},ve=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/utils/get-self-scope.js":function(mn,et,ee){"use strict";function Ce(){return typeof window>"u"?self:window}ee.r(et),ee.d(et,"getSelfScope",function(){return Ce})},"./src/utils/logger.js":function(mn,et,ee){"use strict";ee.r(et),ee.d(et,"enableLogs",function(){return N}),ee.d(et,"logger",function(){return W});var Ce=ee("./src/utils/get-self-scope.js");function ve(){}var H={trace:ve,debug:ve,log:ve,warn:ve,info:ve,error:ve},be=H;function E(j,$){return"["+j+"] > "+$}var w=Object(Ce.getSelfScope)();function we(j){var $=w.console[j];return $?function(){for(var ne=arguments.length,X=new Array(ne),ge=0;ge<ne;ge++)X[ge]=arguments[ge];X[0]&&(X[0]=E(j,X[0])),$.apply(w.console,X)}:ve}var N=function($){if(w.console&&!0===$||"object"==typeof $){!function P(j){for(var $=arguments.length,ne=new Array($>1?$-1:0),X=1;X<$;X++)ne[X-1]=arguments[X];ne.forEach(function(ge){be[ge]=j[ge]?j[ge].bind(j):we(ge)})}($,"debug","log","info","warn","error");try{be.log()}catch{be=H}}else be=H},W=be}}).default)}},Ya=>{Ya(Ya.s=802)}]);